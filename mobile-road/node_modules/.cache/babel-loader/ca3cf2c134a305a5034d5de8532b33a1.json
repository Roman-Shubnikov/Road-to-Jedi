{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\notify\\\\panels\\\\tiket.js\";\nimport React from 'react';\nimport { Panel, PanelHeader, PanelHeaderButton, Button, Group, Alert, Avatar, Placeholder, Separator, PullToRefresh, PanelSpinner, InfoRow, Header, Counter, SimpleCell, PromoBanner, FixedLayout, Cell, Div, HorizontalScroll, View, Switch, ScreenSpinner, ActionSheet, ActionSheetItem, Snackbar, ModalRoot, ModalCard, ModalPage, ModalPageHeader, Tabbar, TabbarItem, Epic, Input, FormLayout, List, Slider, ConfigProvider, platform } from '@vkontakte/vkui';\nimport Icon24Up from '@vkontakte/icons/dist/24/up';\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\nimport Icon16ReplyOutline from '@vkontakte/icons/dist/16/reply_outline';\nimport Message from '../../../components/message';\n\nconst queryString = require('query-string');\n\nconst parsedHash = queryString.parse(window.location.search.replace('?', ''));\nvar months = ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'ноября', 'декабря'];\n\nfunction fix_time(time) {\n  if (time < 10) {\n    return \"0\" + time;\n  } else {\n    return time;\n  }\n}\n\nfunction add_month(month) {\n  let number_month = new Date(month * 1e3).getMonth();\n  return months[number_month];\n}\n\nexport default class Ticket extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      api_url: \"https://xelene.ru/road/php/index.php?\",\n      tiket_info: [],\n      tiket_message: []\n    };\n  }\n\n  Prepare_ticket() {\n    fetch(this.state.api_url + \"method=ticket.getById&ticket_id=\" + this.props.ticket_id + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      if (data.result) {\n        this.setState({\n          tiket_info: data.response.info,\n          tiket_message: data.response.messages\n        });\n      } else {\n        this.props.this.setPopout( /*#__PURE__*/React.createElement(Alert, {\n          actions: [{\n            title: 'Отмена',\n            autoclose: true,\n            style: 'cancel'\n          }],\n          onClose: this.closePopout,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }\n        }, \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430\"), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }\n        }, data.error.message)));\n      }\n    }).catch(err => {\n      this.props.this.showErrorAlert();\n    });\n  }\n\n  sendRayt(mark, message_id) {\n    let reyt = 1;\n\n    if (mark === true) {\n      reyt = 1;\n    } else {\n      reyt = 0;\n    }\n\n    if (reyt < 2) {\n      fetch(this.state.api_url + \"method=ticket.markMessage&message_id=\" + message_id + \"&mark=\" + reyt + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n        if (data) {\n          fetch(this.state.api_url + \"method=ticket.getMessages&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n            if (data.response) {\n              this.setState({\n                tiket_message: data.response\n              });\n              this.props.this.setActiveModal(null);\n              this.props.this.setPopout(null);\n            }\n          }).catch(err => {\n            this.props.this.showErrorAlert();\n          });\n        }\n      }).catch(err => {\n        this.props.this.showErrorAlert();\n      });\n    }\n  }\n\n  Admin(id, author_id, text, comment, mark = -1) {\n    this.props.this.setPopout( /*#__PURE__*/React.createElement(ActionSheet, {\n      onClose: () => this.setState({\n        popout: null\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }, author_id < 10000 ? /*#__PURE__*/React.createElement(ActionSheetItem, {\n      autoclose: true,\n      onClick: () => this.goOtherProfile(author_id, true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, \"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\") : null, this.state.is_special_moder && mark !== 0 && mark !== 1 ? /*#__PURE__*/React.createElement(ActionSheetItem, {\n      autoclose: true,\n      onClick: () => this.sendRayt(true, id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, \"\\u041E\\u0446\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u043E\\u043B\\u043E\\u0436\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\") : null, this.state.is_special_moder && mark !== 0 && mark !== 1 ? /*#__PURE__*/React.createElement(ActionSheetItem, {\n      autoclose: true,\n      onClick: () => this.sendRayt(false, id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }, \"\\u041E\\u0446\\u0435\\u043D\\u0438\\u0442\\u044C \\u043E\\u0442\\u0440\\u0438\\u0446\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\") : null, this.state.is_special_moder === true ? /*#__PURE__*/React.createElement(ActionSheetItem, {\n      autoclose: true,\n      onClick: () => this.sendClear(id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, \"\\u041E\\u0434\\u043E\\u0431\\u0440\\u0438\\u0442\\u044C\") : null, this.state.is_special_moder === true ? comment === null || comment === undefined ? /*#__PURE__*/React.createElement(ActionSheetItem, {\n      autoclose: true,\n      onClick: () => this.setState({\n        add_comment: true,\n        message_id_add: id\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\") : null : null, Number(author_id === this.state.test['id']) ? /*#__PURE__*/React.createElement(ActionSheetItem, {\n      autoclose: true,\n      onClick: () => this.setState({\n        redaction: true,\n        message_id_redac: id,\n        tiket_send_message: text\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 12\n      }\n    }, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\") : null, comment === null || comment === undefined ? null : /*#__PURE__*/React.createElement(ActionSheetItem, {\n      autoclose: true,\n      onClick: () => {\n        this.props.this.setState({\n          comment: comment\n        });\n        this.props.setActiveModal(\"comment\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, \"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"), Number(author_id) === Number(this.state.test['id']) || this.state.is_special_moder === true ? /*#__PURE__*/React.createElement(ActionSheetItem, {\n      autoclose: true,\n      onClick: () => this.deleteMessage(id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\") : null, /*#__PURE__*/React.createElement(ActionSheetItem, {\n      autoclose: true,\n      theme: \"cancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 14\n      }\n    }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\")));\n  }\n\n  copy(id) {\n    this.setState({\n      popout: /*#__PURE__*/React.createElement(ActionSheet, {\n        onClose: () => this.setState({\n          popout: null\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }\n      }, Number(this.state.tiket_info['author']['id']) === Number(parsedHash.vk_user_id) ? this.state.tiket_info['status'] === 0 || this.state.tiket_info['status'] === 1 ? /*#__PURE__*/React.createElement(ActionSheetItem, {\n        autoclose: true,\n        onClick: () => this.deleteTicket(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }\n      }, \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u0442\\u0438\\u043A\\u0435\\u0442\") : /*#__PURE__*/React.createElement(ActionSheetItem, {\n        autoclose: true,\n        onClick: () => this.openTicket(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }\n      }, \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u0442\\u0438\\u043A\\u0435\\u0442\") : this.state.is_special_moder === true ? this.state.tiket_info['status'] === 0 || this.state.tiket_info['status'] === 1 ? /*#__PURE__*/React.createElement(ActionSheetItem, {\n        autoclose: true,\n        onClick: () => this.deleteTicket(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }\n      }, \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u0442\\u0438\\u043A\\u0435\\u0442\") : /*#__PURE__*/React.createElement(ActionSheetItem, {\n        autoclose: true,\n        onClick: () => this.openTicket(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }\n      }, \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u0442\\u0438\\u043A\\u0435\\u0442\") : null, /*#__PURE__*/React.createElement(ActionSheetItem, {\n        autoclose: true,\n        onClick: () => connect.send(\"VKWebAppCopyText\", {\n          text: \"https://vk.com/app7409818#ticket_id=\" + id\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }\n      }, \"\\u0421\\u043A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443\"), /*#__PURE__*/React.createElement(ActionSheetItem, {\n        autoclose: true,\n        theme: \"cancel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 14\n        }\n      }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"))\n    });\n  }\n\n  deleteMessage(message_id) {\n    this.setState({\n      popout: /*#__PURE__*/React.createElement(ScreenSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 32\n        }\n      })\n    });\n    fetch(this.state.api_url + \"method=ticket.deleteMessage&message_id=\" + message_id + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      if (data) {\n        fetch(this.state.api_url + \"method=ticket.getMessages&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n          if (data.response) {\n            this.setState({\n              tiket_message: data.response,\n              popout: null\n            });\n          }\n        }).catch(err => {\n          this.props.this.showErrorAlert();\n        });\n      }\n    }).catch(err => {\n      this.props.this.showErrorAlert();\n    });\n  }\n\n  componentDidMount() {\n    this.Prepare_ticket();\n  }\n\n  render() {\n    var props = this.props;\n    return /*#__PURE__*/React.createElement(Panel, {\n      id: this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(PanelHeader, {\n      left: /*#__PURE__*/React.createElement(PanelHeaderButton, {\n        onClick: () => props.this.goBack(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Icon24BrowserBack, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 78\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      id: \"animation\",\n      onClick: () => props.this.copy(props.this.state.tiket_info['id']),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }\n    }, \"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441 #\", props.this.state.tiket_info['id'])), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title_tiket\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }\n    }, new Date(this.state.tiket_info['time'] * 1e3).getDate(), \" \", add_month(this.state.tiket_info['time'])), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title_tiket\",\n      style: {\n        marginTop: \"10px\",\n        width: \"95%\",\n        marginLeft: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u043E\\u0431\\u0440\\u0430\\u0442\\u0438\\u043B\\u0441\\u044F \\u0441 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u043E\\u043C  \\xAB\", props.this.state.tiket_info['title'], \"\\xBB\"), props.this.state.tiket_message.map(function (result, i) {\n      var is_mine_ticket = Number(props.this.state.tiket_info.author['id']) === Number(parsedHash.vk_user_id) ? true : false;\n      var is_mine_message = Number(result['author']['id']) === Number(parsedHash.vk_user_id) ? true : false;\n      var avatar = result.author.is_moderator ? result['author']['avatar']['url'] : result.author.photo_200;\n      var time = fix_time(new Date(result.time * 1e3).getHours()) + \":\" + fix_time(new Date(result.time * 1e3).getMinutes());\n      var title_moder = isFinite(result['nickname']) ? `Агент Поддержки #${result['nickname']}` : result['nickname'] ? result['nickname'] : `Агент Поддержки #${result['author']['id']}`;\n      return Number(props.this.state.tiket_info.author['id']) === Number(parsedHash.vk_user_id) ? /*#__PURE__*/React.createElement(Message, {\n        title: result.author.id === 526444378 ? \"Витёк\" : result.author.is_moderator ? title_moder : result.author.first_name + \" \" + result.author.last_name,\n        title_icon: result.moderator_comment != undefined ? /*#__PURE__*/React.createElement(Icon16ReplyOutline, {\n          width: 10,\n          height: 10,\n          style: {\n            display: \"inline-block\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 85\n          }\n        }) : false,\n        is_mine: is_mine_message === is_mine_ticket,\n        avatar: avatar,\n        onClick: () => this.Admin(result['id'], result['author']['id'], result['text'], result.moderator_comment != undefined ? result['moderator_comment']['text'] : null, result['mark']),\n        key: i,\n        is_special: props.this.state.is_special_moder,\n        is_mark: result.mark,\n        time: time,\n        sendRayt_false: () => props.this.sendRayt(false, result.id),\n        sendRayt_true: () => props.this.sendRayt(true, result.id),\n        approved: result.approved ? true : false,\n        CanselApp: () => props.this.showAlert('Информация', 'Этот ответ оценен отрицательно'),\n        DoneApp: () => props.this.showAlert('Информация', 'Этот ответ оценен положительно'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 29\n        }\n      }, result.text) : /*#__PURE__*/React.createElement(Message, {\n        title: result.author.id === 526444378 ? \"Витёк\" : result.author.is_moderator ? title_moder : result.author.first_name + \" \" + result.author.last_name,\n        title_icon: result.moderator_comment != undefined ? /*#__PURE__*/React.createElement(Icon16ReplyOutline, {\n          width: 10,\n          height: 10,\n          style: {\n            display: \"inline-block\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 85\n          }\n        }) : false,\n        is_mine: result.author.is_moderator,\n        avatar: result.author.id === 526444378 ? \"https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png\" : avatar,\n        key: i,\n        time: time,\n        onClick: () => props.this.Admin(result['id'], result['author']['id'], result['text'], result.moderator_comment != undefined ? result['moderator_comment']['text'] : null, result['mark']),\n        is_special: props.this.state.is_special_moder,\n        is_mark: result.mark,\n        sendRayt_false: () => props.this.sendRayt(false, result.id),\n        sendRayt_true: () => props.this.sendRayt(true, result.id),\n        approved: result.approved ? true : false,\n        CanselApp: () => props.this.showAlert('Информация', 'Этот ответ оценен отрицательно'),\n        DoneApp: () => props.this.showAlert('Информация', 'Этот ответ оценен положительно'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 29\n        }\n      }, result.text);\n    }), props.this.state.tiket_info['status'] === 0 || props.this.state.redaction === true || props.this.state.add_comment === true ? /*#__PURE__*/React.createElement(\"div\", {\n      id: \"other\",\n      className: \"other\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"down_input_message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      maxLength: \"2020\",\n      name: \"tiket_send_message\",\n      value: props.this.state.tiket_send_message,\n      onChange: e => props.this.onChange(e),\n      placeholder: props.this.state.add_comment ? \"Комментарий...\" : \"Ответ...\",\n      className: \"textarea\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"send_text\",\n      onClick: () => props.this.state.redaction !== true && props.this.state.add_comment !== true ? props.this.sendNewMessage() : props.this.state.redaction ? props.this.sendNewMessageRedact() : props.this.sendNewMessageComment(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Icon24Up, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 25\n      }\n    }))) : null, props.this.state.tiket_info['status'] === 1 ? Number(props.this.state.tiket_info['author']['id']) === Number(parsedHash.vk_user_id) ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"others\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"l\",\n      style: {\n        marginRight: 8,\n        width: \"95%\"\n      },\n      onClick: () => props.this.deleteTicket(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 25\n      }\n    }, \"\\u041F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u0430 \\u0440\\u0435\\u0448\\u0435\\u043D\\u0430\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 149\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      size: \"l\",\n      style: {\n        marginRight: 8,\n        width: \"95%\"\n      },\n      level: \"secondary\",\n      onClick: () => props.this.openTicket(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 25\n      }\n    }, \"\\u041F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u0430 \\u043D\\u0435 \\u0440\\u0435\\u0448\\u0435\\u043D\\u0430\")) : null : null, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n;","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/notify/panels/tiket.js"],"names":["React","Panel","PanelHeader","PanelHeaderButton","Button","Group","Alert","Avatar","Placeholder","Separator","PullToRefresh","PanelSpinner","InfoRow","Header","Counter","SimpleCell","PromoBanner","FixedLayout","Cell","Div","HorizontalScroll","View","Switch","ScreenSpinner","ActionSheet","ActionSheetItem","Snackbar","ModalRoot","ModalCard","ModalPage","ModalPageHeader","Tabbar","TabbarItem","Epic","Input","FormLayout","List","Slider","ConfigProvider","platform","Icon24Up","Icon24BrowserBack","Icon16ReplyOutline","Message","queryString","require","parsedHash","parse","window","location","search","replace","months","fix_time","time","add_month","month","number_month","Date","getMonth","Ticket","Component","constructor","props","state","api_url","tiket_info","tiket_message","Prepare_ticket","fetch","ticket_id","then","res","json","data","result","setState","response","info","messages","this","setPopout","title","autoclose","style","closePopout","error","message","catch","err","showErrorAlert","sendRayt","mark","message_id","reyt","setActiveModal","Admin","id","author_id","text","comment","popout","goOtherProfile","is_special_moder","sendClear","undefined","add_comment","message_id_add","Number","test","redaction","message_id_redac","tiket_send_message","deleteMessage","copy","vk_user_id","deleteTicket","openTicket","connect","send","componentDidMount","render","goBack","getDate","marginTop","width","marginLeft","map","i","is_mine_ticket","author","is_mine_message","avatar","is_moderator","photo_200","getHours","getMinutes","title_moder","isFinite","first_name","last_name","moderator_comment","display","approved","showAlert","e","onChange","sendNewMessage","sendNewMessageRedact","sendNewMessageComment","marginRight","height"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { \n    Panel,\n    PanelHeader,\n    PanelHeaderButton,\n    Button,\n    Group,\n    Alert,\n    Avatar,\n    Placeholder,\n    Separator,\n    PullToRefresh,\n    PanelSpinner,\n    InfoRow,\n    Header,\n    Counter,\n    SimpleCell,\n    PromoBanner,\n    FixedLayout,\n    Cell,\n    Div,\n    HorizontalScroll,\n    View,\n    Switch,\n    ScreenSpinner,\n    ActionSheet,\n    ActionSheetItem,\n    Snackbar,\n    ModalRoot,\n    ModalCard,\n    ModalPage,\n    ModalPageHeader,\n    Tabbar,\n    TabbarItem,\n    Epic,\n    Input,\n    FormLayout,\n    List,\n    Slider,\n    ConfigProvider,\n    platform\n    } from '@vkontakte/vkui';\n\nimport Icon24Up from '@vkontakte/icons/dist/24/up';\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\nimport Icon16ReplyOutline from '@vkontakte/icons/dist/16/reply_outline';\n\nimport Message from '../../../components/message'\n\nconst queryString = require('query-string');\nconst parsedHash = queryString.parse(window.location.search.replace('?', ''));\n\nvar months = [\n    'января',\n    'февраля',\n    'марта',\n    'апреля',\n    'мая',\n    'июня',\n    'июля',\n    'августа',\n    'сентября',\n    'ноября',\n    'декабря',\n];\n\nfunction fix_time(time) {\n    if(time < 10) {\n        return \"0\" + time\n    } else {\n        return time\n    }\n}\n\nfunction add_month(month) {\n    let number_month = new Date(month * 1e3).getMonth()\n    return months[number_month]\n}\n\nexport default class Ticket extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n            tiket_info: [],\n            tiket_message: [],\n\n        }\n\n    }\n    Prepare_ticket(){\n        fetch(this.state.api_url + \"method=ticket.getById&ticket_id=\" + this.props.ticket_id + \"&\" + window.location.search.replace('?', ''))\n        .then(res => res.json())\n        .then(data => {\n          if(data.result) {\n            this.setState({tiket_info: data.response.info,\n              tiket_message: data.response.messages });\n          } else {\n            this.props.this.setPopout( \n              <Alert\n              actions={[{\n                title: 'Отмена',\n                autoclose: true,\n                style: 'cancel'\n              }]}\n              onClose={this.closePopout}\n            >\n              <h2>Ошибка</h2>\n            <p>{data.error.message}</p>\n            </Alert>\n            )\n          }\n        })\n        .catch(err => {\n          this.props.this.showErrorAlert()\n\n        })\n    }\n    sendRayt(mark, message_id) {\n        let reyt = 1;\n        if(mark === true) {\n          reyt = 1;\n        } else {\n          reyt = 0;\n        }\n        if(reyt < 2) {\n          fetch(this.state.api_url + \"method=ticket.markMessage&message_id=\" + message_id + \"&mark=\" + reyt + \"&\" + window.location.search.replace('?', ''))\n            .then(res => res.json())\n            .then(data => {\n              if(data) {\n          \n                fetch(this.state.api_url + \"method=ticket.getMessages&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.response) {\n              this.setState({tiket_message: data.response})\n              this.props.this.setActiveModal(null);\n              this.props.this.setPopout(null);\n            }\n          })\n          .catch(err => {\n            this.props.this.showErrorAlert()\n          })\n              }\n            })\n            .catch(err => {\n                this.props.this.showErrorAlert()\n            \n            })\n        }\n      }\n      Admin(id, author_id, text, comment, mark = -1){\n        this.props.this.setPopout(\n          <ActionSheet onClose={() => this.setState({ popout: null })}>\n            {author_id < 10000 ?\n            <ActionSheetItem autoclose onClick={() => this.goOtherProfile(author_id, true)}>\n              Профиль\n            </ActionSheetItem>\n            : null}\n            { this.state.is_special_moder && mark !== 0 && mark !== 1 ? \n            <ActionSheetItem autoclose onClick={() => this.sendRayt(true, id)}>\n              Оценить положительно\n            </ActionSheetItem> \n            : null}\n            { this.state.is_special_moder && mark !== 0 && mark !== 1 ? \n            <ActionSheetItem autoclose onClick={() => this.sendRayt(false, id)}>\n              Оценить отрицательно\n            </ActionSheetItem> \n            : null }\n            { this.state.is_special_moder === true ? \n            <ActionSheetItem autoclose onClick={() => this.sendClear(id)}>\n              Одобрить\n            </ActionSheetItem> \n            : null }\n            { this.state.is_special_moder === true ? \n            comment === null || comment === undefined? \n            <ActionSheetItem autoclose onClick={() => this.setState({add_comment: true, message_id_add: id})}>\n            Добавить комментарий\n            </ActionSheetItem> \n            : null\n            : null }\n            {Number(author_id === this.state.test['id']) ? \n           <ActionSheetItem autoclose onClick={() => this.setState({redaction: true, message_id_redac: id, tiket_send_message: text})}>\n           Редактировать\n           </ActionSheetItem>\n           : null\n        }\n        {comment === null || comment === undefined ? null : \n            <ActionSheetItem autoclose onClick={() => {this.props.this.setState({comment: comment}); this.props.setActiveModal(\"comment\")}}>\n            Просмотреть комментарий\n          </ActionSheetItem>\n            }\n            {Number(author_id) === Number(this.state.test['id']) || this.state.is_special_moder === true ? \n            <ActionSheetItem autoclose onClick={() => this.deleteMessage(id)}>\n              Удалить сообщение\n            </ActionSheetItem>\n            : null}\n            {<ActionSheetItem autoclose theme=\"cancel\">Отменить</ActionSheetItem>}\n          </ActionSheet>)\n      }\n      copy(id) {\n        this.setState({popout:\n          <ActionSheet onClose={() => this.setState({ popout: null })}>\n            {Number(this.state.tiket_info['author']['id']) === Number(parsedHash.vk_user_id) ? \n            this.state.tiket_info['status'] === 0 ||  this.state.tiket_info['status'] === 1 ?\n            <ActionSheetItem autoclose onClick={() => this.deleteTicket()}>\n            Закрыть тикет\n            </ActionSheetItem>\n            : \n            <ActionSheetItem autoclose onClick={() => this.openTicket()}>\n            Открыть тикет\n            </ActionSheetItem>\n            : \n            this.state.is_special_moder === true ?\n            this.state.tiket_info['status'] === 0 ||  this.state.tiket_info['status'] === 1 ?\n            <ActionSheetItem autoclose onClick={() => this.deleteTicket()}>\n            Закрыть тикет\n            </ActionSheetItem>\n            : \n            <ActionSheetItem autoclose onClick={() => this.openTicket()}>\n            Открыть тикет\n            </ActionSheetItem>\n            : null\n          }\n            <ActionSheetItem autoclose onClick={() => connect.send(\"VKWebAppCopyText\", {text: \"https://vk.com/app7409818#ticket_id=\" + id})}>\n              Скопировать ссылку\n            </ActionSheetItem>\n            {<ActionSheetItem autoclose theme=\"cancel\">Отменить</ActionSheetItem>}\n          </ActionSheet>})\n      }\n      deleteMessage(message_id) {\n        this.setState({popout: <ScreenSpinner/>})\n          fetch(this.state.api_url + \"method=ticket.deleteMessage&message_id=\" + message_id + \"&\" + window.location.search.replace('?', ''))\n            .then(res => res.json())\n            .then(data => {\n              if(data) {\n                fetch(this.state.api_url + \"method=ticket.getMessages&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.response) {\n              this.setState({tiket_message: data.response, popout: null})\n            }\n          })\n          .catch(err => {\n            this.props.this.showErrorAlert()\n  \n          })\n              }\n            })\n            .catch(err => {\n                this.props.this.showErrorAlert()\n  \n            })\n      }\n  \n    componentDidMount(){\n        this.Prepare_ticket()\n    }\n    render(){\n        var props = this.props;\n        return(\n        <Panel id={this.props.id}>\n            <PanelHeader \n                left={<PanelHeaderButton onClick={() => props.this.goBack()}><Icon24BrowserBack/></PanelHeaderButton>}\n            >\n                <span id=\"animation\" onClick={() => props.this.copy(props.this.state.tiket_info['id'])}>Вопрос #{props.this.state.tiket_info['id']}</span>\n            </PanelHeader>\n            {/* MESSAGES */}\n            <div className=\"title_tiket\">{new Date(this.state.tiket_info['time'] * 1e3).getDate()} {add_month(this.state.tiket_info['time'])}</div>\n            <div className=\"title_tiket\" style={{marginTop: \"10px\", width: \"95%\", marginLeft: \"10px\"}}>Пользователь обратился с вопросом  «{props.this.state.tiket_info['title']}»</div>\n                    {props.this.state.tiket_message.map(function(result, i) {\n                        var is_mine_ticket = Number(props.this.state.tiket_info.author['id']) === Number(parsedHash.vk_user_id) ? true : false\n                        var is_mine_message = Number(result['author']['id']) === Number(parsedHash.vk_user_id) ? true : false\n                        var avatar = result.author.is_moderator ? result['author']['avatar']['url'] : result.author.photo_200\n                        var time = fix_time(new Date(result.time * 1e3).getHours()) + \":\" + fix_time(new Date(result.time * 1e3).getMinutes())\n                        var title_moder = isFinite(result['nickname']) ? `Агент Поддержки #${result['nickname']}` : result['nickname'] ? result['nickname'] : `Агент Поддержки #${result['author']['id']}`;\n                        return (\n                            Number(props.this.state.tiket_info.author['id']) === Number(parsedHash.vk_user_id) ?\n                            <Message \n                                title={result.author.id === 526444378 ? \"Витёк\" : result.author.is_moderator ? title_moder : result.author.first_name + \" \" + result.author.last_name} \n                                title_icon={result.moderator_comment != undefined ? <Icon16ReplyOutline width={10} height={10} style={{display: \"inline-block\"}}/> : false}\n                                is_mine={is_mine_message === is_mine_ticket}\n                                avatar={avatar}\n                                onClick={() => this.Admin(result['id'], result['author']['id'], result['text'], result.moderator_comment != undefined ? result['moderator_comment']['text'] : null, result['mark'])}\n                                key={i}\n                                is_special={props.this.state.is_special_moder}\n                                is_mark={result.mark}\n                                time={time}\n                                sendRayt_false={() => props.this.sendRayt(false, result.id)}\n                                sendRayt_true={() => props.this.sendRayt(true, result.id)}\n                                approved={result.approved ? true : false}\n                                CanselApp={() => props.this.showAlert('Информация', 'Этот ответ оценен отрицательно')}\n                                DoneApp={() => props.this.showAlert('Информация', 'Этот ответ оценен положительно')}\n                            >\n                                {result.text}\n                            </Message>\n                            \n                            :\n                            <Message \n                                title={result.author.id === 526444378 ? \"Витёк\" : result.author.is_moderator ? title_moder : result.author.first_name + \" \" + result.author.last_name} \n                                title_icon={result.moderator_comment != undefined ? <Icon16ReplyOutline width={10} height={10} style={{display: \"inline-block\"}}/> : false}\n                                is_mine={result.author.is_moderator}\n                                avatar={result.author.id === 526444378 ? \"https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png\" : avatar}\n                                key={i}\n                                time={time}\n                                onClick={() => props.this.Admin(result['id'], result['author']['id'], result['text'], result.moderator_comment != undefined ? result['moderator_comment']['text'] : null, result['mark'])}\n                                is_special={props.this.state.is_special_moder}\n                                is_mark={result.mark}\n                                sendRayt_false={() => props.this.sendRayt(false, result.id)}\n                                sendRayt_true={() => props.this.sendRayt(true, result.id)}\n                                approved={result.approved ? true : false}\n                                CanselApp={() => props.this.showAlert('Информация', 'Этот ответ оценен отрицательно')}\n                                DoneApp={() => props.this.showAlert('Информация', 'Этот ответ оценен положительно')}\n                            >\n                                {result.text}\n                            </Message>\n                        )})}\n            {/* INPUT */}\n            {props.this.state.tiket_info['status'] === 0 || (props.this.state.redaction === true || props.this.state.add_comment === true) ? \n                <div id=\"other\" className=\"other\">\n                    <div className=\"down_input_message\">\n                        <textarea maxLength=\"2020\" name=\"tiket_send_message\" value={props.this.state.tiket_send_message} onChange={(e) => props.this.onChange(e)} placeholder={props.this.state.add_comment ? \"Комментарий...\" : \"Ответ...\"} className=\"textarea\"></textarea>\n                    </div>\n                    <div className=\"send_text\" onClick={() => props.this.state.redaction !== true && props.this.state.add_comment !== true ? props.this.sendNewMessage() : props.this.state.redaction ? props.this.sendNewMessageRedact() : props.this.sendNewMessageComment()}>\n                        <Icon24Up/>\n                    </div>\n                </div> : null}\n            {props.this.state.tiket_info['status'] === 1 ? \n                Number(props.this.state.tiket_info['author']['id']) === Number(parsedHash.vk_user_id) ?\n                    <div className=\"others\">\n                        <Button size=\"l\" style={{ marginRight: 8, width: \"95%\" }} onClick={() => props.this.deleteTicket()}>Проблема решена</Button><br/>\n                        <div style={{height: \"5px\"}}></div>\n                        <Button size=\"l\" style={{ marginRight: 8, width: \"95%\" }} level=\"secondary\" onClick={() => props.this.openTicket()}>Проблема не решена</Button>\n                    </div>\n                : null\n            : null}\n                <br/>\n                <br/>\n                <br/>\n            </Panel>\n        )\n    }\n};\n"]},"metadata":{},"sourceType":"module"}