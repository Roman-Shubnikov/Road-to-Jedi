{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\Profile\\\\panels\\\\schemechange.js\";\nimport React from 'react';\nimport { Panel, PanelHeader, ScreenSpinner, Separator, Header, PanelHeaderBack, Radio, FormLayout } from '@vkontakte/vkui';\nimport Message from '../../../components/message';\nimport avaUser from '../../../images/user.jpg';\nimport avaAgent from '../../../images/schemeagent.jpg';\nexport default class SchemeChange extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      api_url: \"https://xelene.ru/road/php/index.php?\"\n    };\n    var propsbi = this.props.this;\n    this.setPopout = propsbi.setPopout;\n    this.showErrorAlert = propsbi.showErrorAlert;\n    this.showAlert = propsbi.showAlert;\n    this.setActiveModal = propsbi.setActiveModal;\n\n    this.onChange = event => {\n      var name = event.currentTarget.name;\n      var value = event.currentTarget.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.ChangeScheme = e => {\n      this.setPopout( /*#__PURE__*/React.createElement(ScreenSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 28\n        }\n      }));\n      let value = e.currentTarget.value;\n\n      if (value === 0) {\n        this.props.this.changeData('scheme', this.props.default_scheme);\n      }\n\n      fetch(this.state.api_url + \"method=account.changeScheme&scheme=\" + value + \"&\" + window.location.search.replace('?', ''), {\n        method: 'post',\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        },\n        // signal: controllertime.signal,\n        body: JSON.stringify({\n          'title': this.state.title.trim(),\n          'description': this.state.description.trim(),\n          'cond1': true // 'phone_number': this.state.number,\n          // 'phone_sign': this.state.sign_number,\n\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.result) {\n          setTimeout(() => {\n            this.props.this.ReloadProfile();\n            this.setPopout(null);\n          }, 3000);\n        } else {\n          this.showErrorAlert(data.error.message);\n        }\n      }).catch(err => {\n        this.showErrorAlert('Ошибка запроса. Пожалуйста, попробуйте позже', () => {\n          this.props.this.changeData('activeStory', 'disconnect');\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Panel, {\n      id: this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PanelHeader, {\n      left: /*#__PURE__*/React.createElement(PanelHeaderBack, {\n        onClick: () => window.history.back(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0430 \\u0442\\u0435\\u043C\\u044B\"), /*#__PURE__*/React.createElement(Header, {\n      mode: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, \"\\u041F\\u0440\\u0435\\u0434\\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\"), /*#__PURE__*/React.createElement(Separator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Message, {\n      title: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\",\n      is_mine: false,\n      avatar: avaUser,\n      onClick: () => {},\n      clickable: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, \"\\u041E, \\u0442\\u0443\\u0442 \\u043C\\u043E\\u0436\\u043D\\u043E \\u043C\\u0435\\u043D\\u044F\\u0442\\u044C \\u0442\\u0435\\u043C\\u0443\"), /*#__PURE__*/React.createElement(Message, {\n      title: \"\\u0410\\u0433\\u0435\\u043D\\u0442 \\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438\",\n      is_mine: true,\n      avatar: avaAgent,\n      onClick: () => {},\n      clickable: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\"), /*#__PURE__*/React.createElement(Separator, {\n      style: {\n        marginTop: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(FormLayout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Radio, {\n      name: \"radio\",\n      className: \"pointer\",\n      onChange: this.ChangeScheme,\n      value: \"1\",\n      defaultChecked: this.props.account.scheme === 1 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u0432\\u0435\\u0442\\u043B\\u0430\\u044F \\u0442\\u0435\\u043C\\u0430\"), /*#__PURE__*/React.createElement(Radio, {\n      name: \"radio\",\n      className: \"pointer\",\n      onChange: this.ChangeScheme,\n      value: \"2\",\n      defaultChecked: this.props.account.scheme === 2 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \"\\u0422\\u0451\\u043C\\u043D\\u0430\\u044F \\u0442\\u0435\\u043C\\u0430\"), /*#__PURE__*/React.createElement(Radio, {\n      name: \"radio\",\n      className: \"pointer\",\n      onChange: this.ChangeScheme,\n      value: \"0\",\n      description: \"\\u0421\\u0435\\u0440\\u0432\\u0438\\u0441 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u0442\\u0435\\u043C\\u0443, \\u0443\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u0443\\u044E \\u0432 \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430\\u0445 \\u0412\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435\",\n      defaultChecked: this.props.account.scheme === 0 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, \"\\u0410\\u0432\\u0442\\u043E\\u043C\\u0430\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\"))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/Profile/panels/schemechange.js"],"names":["React","Panel","PanelHeader","ScreenSpinner","Separator","Header","PanelHeaderBack","Radio","FormLayout","Message","avaUser","avaAgent","SchemeChange","Component","constructor","props","state","api_url","propsbi","this","setPopout","showErrorAlert","showAlert","setActiveModal","onChange","event","name","currentTarget","value","setState","ChangeScheme","e","changeData","default_scheme","fetch","window","location","search","replace","method","headers","body","JSON","stringify","title","trim","description","then","res","json","data","result","setTimeout","ReloadProfile","error","message","catch","err","render","id","history","back","marginTop","account","scheme"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n    Panel,\n    PanelHeader,\n    ScreenSpinner,\n    Separator,\n    Header,\n    PanelHeaderBack,\n    Radio,\n    FormLayout,\n    } from '@vkontakte/vkui';\n\nimport Message from '../../../components/message'\nimport avaUser from '../../../images/user.jpg'\nimport avaAgent from '../../../images/schemeagent.jpg'\n\nexport default class SchemeChange extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.showAlert = propsbi.showAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n        this.ChangeScheme = (e) => {\n            this.setPopout(<ScreenSpinner />)\n            let value = e.currentTarget.value;\n            if(value === 0){\n                this.props.this.changeData('scheme', this.props.default_scheme)\n            }\n            fetch(this.state.api_url + \"method=account.changeScheme&scheme=\" + value + \"&\" + window.location.search.replace('?', ''),\n            {method: 'post',\n                headers: {\"Content-type\": \"application/json; charset=UTF-8\"},\n                    // signal: controllertime.signal,\n                body: JSON.stringify({\n                    'title': this.state.title.trim(),\n                    'description': this.state.description.trim(),\n                    'cond1': true,\n                    // 'phone_number': this.state.number,\n                    // 'phone_sign': this.state.sign_number,\n                })\n                })\n                .then(res => res.json())\n                .then(data => {\n                if(data.result) {\n                    setTimeout(() => {\n                        this.props.this.ReloadProfile();\n                        this.setPopout(null)\n                      }, 3000)\n                }else{\n                    this.showErrorAlert(data.error.message)\n                }\n                })\n                .catch(err => {\n                    this.showErrorAlert('Ошибка запроса. Пожалуйста, попробуйте позже',() => {this.props.this.changeData('activeStory', 'disconnect')})\n    \n                })\n    \n        }\n    }\n    \n\n    render() {\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderBack onClick={() => window.history.back()} /> \n                }>\n                    Смена темы\n                </PanelHeader>\n                <Header mode='secondary'>Предпросмотр</Header>\n                <Separator /> \n                <Message\n                title='Пользователь'\n                is_mine={false}\n                avatar={avaUser}\n                onClick={() => {}}\n                clickable={false}\n                >О, тут можно менять тему</Message>\n                <Message\n                title='Агент Поддержки'\n                is_mine={true}\n                avatar={avaAgent}\n                onClick={() => {}}\n                clickable={false}\n                >Действительно</Message>\n                <Separator style={{marginTop: 10}} />\n                <FormLayout>\n                    <div>\n                    <Radio name=\"radio\" className=\"pointer\" onChange={this.ChangeScheme} value=\"1\" defaultChecked={(this.props.account.scheme === 1) ? true : false}>Светлая тема</Radio>\n                    <Radio name=\"radio\" className=\"pointer\" onChange={this.ChangeScheme} value=\"2\" defaultChecked={(this.props.account.scheme === 2) ? true : false}>Тёмная тема</Radio>\n                    <Radio name=\"radio\" className=\"pointer\" onChange={this.ChangeScheme} value=\"0\" description='Сервис будет использовать тему, установленную в настройках ВКонтакте' defaultChecked={(this.props.account.scheme === 0) ? true : false}>Автоматически</Radio>\n                    </div>\n                </FormLayout>\n            </Panel>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}