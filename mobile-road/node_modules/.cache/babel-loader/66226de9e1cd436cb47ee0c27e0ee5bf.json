{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Panel,PanelHeader,Input,Avatar,Button,Header,Div,Snackbar,PanelHeaderBack,Separator,Text,SimpleCell,PanelHeaderButton// FormStatus,\n,Alert,FormLayout}from'@vkontakte/vkui';import Icon24Repeat from'@vkontakte/icons/dist/24/repeat';import Icon28MoneyCircleOutline from'@vkontakte/icons/dist/28/money_circle_outline';import Icon28MoneyHistoryBackwardOutline from'@vkontakte/icons/dist/28/money_history_backward_outline';import Icon16CheckCircle from'@vkontakte/icons/dist/16/check_circle';import Icon20CancelCircleFillRed from'@vkontakte/icons/dist/20/cancel_circle_fill_red';import Icon28InfoCircleOutline from'@vkontakte/icons/dist/28/info_circle_outline';import Icon24BlockOutline from'@vkontakte/icons/dist/24/block_outline';var avatars=[\"1.png\",\"2.png\",\"3.png\",\"4.png\",\"5.png\",\"6.png\",\"7.png\",\"8.png\",\"9.png\",\"10.png\",\"11.png\",\"12.png\",\"13.png\",\"14.png\",\"15.png\",\"16.png\",\"17.png\",\"18.png\",\"19.png\",\"20.png\",\"21.png\",\"22.png\",\"23.png\",\"24.png\",\"25.png\",\"26.png\",\"27.png\",\"28.png\",\"29.png\",\"30.png\",\"31.png\",\"32.png\"];var blueBackground={backgroundColor:'var(--accent)'};var Market=/*#__PURE__*/function(_React$Component){_inherits(Market,_React$Component);var _super=_createSuper(Market);function Market(props){var _this;_classCallCheck(this,Market);_this=_super.call(this,props);_this.state={changed_id:'',api_url:\"https://xelene.ru/road/php/index.php?\",last_selected:null};var propsbi=_this.props.this;_this.setPopout=propsbi.setPopout;_this.showErrorAlert=propsbi.showErrorAlert;_this.showAlert=propsbi.showAlert;_this.setActiveModal=propsbi.setActiveModal;_this.onChange=function(event){var name=event.currentTarget.name;var value=event.currentTarget.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(Market,[{key:\"images\",value:function images(){var _this2=this;var number=Object.keys(avatars).length;var object=[];var _loop=function _loop(i){object.push(/*#__PURE__*/React.createElement(\"img\",{id:i,onClick:function onClick(e){return _this2.props.account.avatar.id===i+1?_this2.props.this.setSnack(/*#__PURE__*/React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this2.props.this.setSnack(null);},before:/*#__PURE__*/React.createElement(Icon20CancelCircleFillRed,{width:24,height:24})},\"\\u0412\\u044B \\u0443\\u0436\\u0435 \\u0438\\u043C\\u0435\\u0435\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0439 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\")):_this2.selectImage(e);},style:i===0?{marginLeft:\"20px\"}:null,className:\"changes_avatars pointer\",key:i,src:\"https://xelene.ru/road/php/images/avatars/\"+avatars[i],alt:'ava'}));};for(var i=0;i<number;i++){_loop(i);}return object;}},{key:\"selectImage\",value:function selectImage(e){var number=e.currentTarget.id;if(this.state.last_selected!==null){var last_image=document.getElementById(this.state.last_selected);last_image.className=\"changes_avatars pointer\";}var image=document.getElementById(number);// eslint-disable-next-line\nif(number!=this.state.last_selected){image.className=\"changes_avatars select_avatar\";this.setState({last_selected:Number(number)});}else{this.setState({last_selected:null});image.className=\"changes_avatars pointer\";}}},{key:\"changeAvatar\",value:function changeAvatar(last_selected){var _this3=this;fetch(this.state.api_url+\"method=shop.changeAvatar&\"+window.location.search.replace('?',''),{method:'post',headers:{\"Content-type\":\"application/json; charset=UTF-8\"},// signal: controllertime.signal,\nbody:JSON.stringify({'avatar_id':last_selected})}).then(function(data){return data.json();}).then(function(data){if(last_selected){var last_image=document.getElementById(_this3.state.last_selected);last_image.className=\"changes_avatars\";_this3.setState({last_selected:null});}if(data.result){_this3.props.this.setSnack(/*#__PURE__*/React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this3.props.this.setSnack(null);},before:/*#__PURE__*/React.createElement(Avatar,{size:24,style:blueBackground},/*#__PURE__*/React.createElement(Icon16CheckCircle,{fill:\"#fff\",width:14,height:14}))},\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0441\\u043C\\u0435\\u043D\\u0435\\u043D\"));setTimeout(function(){_this3.props.this.ReloadProfile();},4000);}else{_this3.props.this.setSnack(/*#__PURE__*/React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this3.props.this.setSnack(null);},before:/*#__PURE__*/React.createElement(Icon20CancelCircleFillRed,{width:24,height:24})},data.error.message));}}).catch(function(err){_this3.showErrorAlert('Ошибка запроса. Пожалуйста, попробуйте позже',function(){_this3.props.this.changeData('activeStory','disconnect');});});}},{key:\"ChangeId\",value:function ChangeId(){var _this4=this;if(this.state.changed_id){fetch(this.state.api_url+\"method=shop.changeId&\"+window.location.search.replace('?',''),{method:'post',headers:{\"Content-type\":\"application/json; charset=UTF-8\"},// signal: controllertime.signal,\nbody:JSON.stringify({'change_id':this.state.changed_id})}).then(function(res){return res.json();}).then(function(data){if(data.result){_this4.props.this.setSnack(/*#__PURE__*/React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this4.props.this.setSnack(null);},before:/*#__PURE__*/React.createElement(Avatar,{size:24,style:blueBackground},/*#__PURE__*/React.createElement(Icon16CheckCircle,{fill:\"#fff\",width:14,height:14}))},\"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0441\\u043C\\u0435\\u043D\\u0438\\u043B\\u0438 \\u043D\\u0438\\u043A\"));setTimeout(function(){_this4.props.this.ReloadProfile();},4000);}else{_this4.props.this.setSnack(/*#__PURE__*/React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this4.props.this.setSnack(null);},before:/*#__PURE__*/React.createElement(Icon20CancelCircleFillRed,{width:24,height:24})},data.error.message));}}).catch(function(err){_this4.showErrorAlert('Ошибка запроса. Пожалуйста, попробуйте позже',function(){_this4.props.this.changeData('activeStory','disconnect');});});}else{this.props.this.setSnack(/*#__PURE__*/React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this4.props.this.setSnack(null);},before:/*#__PURE__*/React.createElement(Icon20CancelCircleFillRed,{width:24,height:24})},\"\\u0412\\u044B \\u043D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043B\\u0438 \\u0436\\u0435\\u043B\\u0430\\u0435\\u043C\\u044B\\u0439 \\u043D\\u0438\\u043A\"));}}},{key:\"ResetId\",value:function ResetId(){var _this5=this;fetch(this.state.api_url+\"method=shop.resetId&\"+window.location.search.replace('?','')).then(function(res){return res.json();}).then(function(data){if(data.result){_this5.props.this.setSnack(/*#__PURE__*/React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this5.props.this.setSnack(null);},before:/*#__PURE__*/React.createElement(Avatar,{size:24,style:blueBackground},/*#__PURE__*/React.createElement(Icon16CheckCircle,{fill:\"#fff\",width:14,height:14}))},\"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0443\\u0434\\u0430\\u043B\\u0438\\u043B\\u0438 \\u043D\\u0438\\u043A\"));setTimeout(function(){_this5.props.this.ReloadProfile();},4000);}else{_this5.props.this.setSnack(/*#__PURE__*/React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this5.props.this.setSnack(null);},before:/*#__PURE__*/React.createElement(Icon20CancelCircleFillRed,{width:24,height:24})},data.error.message));}}).catch(function(err){_this5.showErrorAlert('Ошибка запроса. Пожалуйста, попробуйте позже',function(){_this5.props.this.changeData('activeStory','disconnect');});});}},{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/React.createElement(Panel,{id:this.props.id},/*#__PURE__*/React.createElement(PanelHeader,{left:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PanelHeaderBack,{onClick:function onClick(){return window.history.back();}}),/*#__PURE__*/React.createElement(PanelHeaderButton,{href:\"https://vk.com/@jedi_road-sistema-nachisleniya-ballov-i-shop\",target:\"_blank\",rel:\"noopener noreferrer\"},/*#__PURE__*/React.createElement(Icon28InfoCircleOutline,null)),\" \")},\"\\u041C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\"),/*#__PURE__*/React.createElement(Div,null,/*#__PURE__*/React.createElement(Text,{weight:\"medium\"},\"\\u041C\\u043E\\u043D\\u0435\\u0442\\u043A\\u0438 \\u2014 \\u044D\\u0442\\u043E \\u0443\\u043D\\u0438\\u0432\\u0435\\u0440\\u0441\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0443\\u0441\\u043B\\u043E\\u0432\\u043D\\u0430\\u044F \\u0435\\u0434\\u0438\\u043D\\u0438\\u0446\\u0430 \\u0434\\u043B\\u044F \\u043F\\u0440\\u0438\\u043E\\u0431\\u0440\\u0435\\u0442\\u0435\\u043D\\u0438\\u044F \\u0440\\u0430\\u0437\\u043B\\u0438\\u0447\\u043D\\u044B\\u0445 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432 \\u0432 \\u043C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\\u0435\")),/*#__PURE__*/React.createElement(SimpleCell,{disabled:true,indicator:this.props.account.balance},\"\\u0412\\u0430\\u0448 \\u0431\\u0430\\u043B\\u0430\\u043D\\u0441\"),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(Header,null,\"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\"),/*#__PURE__*/React.createElement(\"div\",{className:\"scrollImages\"},this.images()),/*#__PURE__*/React.createElement(Div,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){_this6.changeAvatar(Number(_this6.state.last_selected)+1);},before:/*#__PURE__*/React.createElement(Icon28MoneyCircleOutline,{style:{marginRight:\"5px\"}}),size:\"xl\",mode:\"secondary\",disabled:this.state.last_selected!==null?false:true},\"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430 1 \\u043C\\u043E\\u043D\\u0435\\u0442\\u043A\\u0443\")),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(Header,null,\"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0441\\u0432\\u043E\\u0439 \\u043D\\u0438\\u043A\"),/*#__PURE__*/React.createElement(FormLayout,null,/*#__PURE__*/React.createElement(Input,{placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0436\\u0435\\u043B\\u0430\\u0435\\u043C\\u044B\\u0439 \\u043D\\u0438\\u043A\",bottom:\"\\u041C\\u0430\\u043A\\u0441. 10 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\",onChange:function onChange(e){return _this6.onChange(e);},value:this.state.changed_id,maxLength:\"10\",name:\"changed_id\"})),/*#__PURE__*/React.createElement(Div,{style:{display:'flex'}},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){_this6.ChangeId(_this6.state.changed_id);},style:{marginRight:8},before:/*#__PURE__*/React.createElement(Icon24Repeat,{width:28,height:28}),stretched:true,size:\"l\",mode:\"secondary\",disabled:this.state.changed_id<=0?true:false},\"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430 2 \\u043C\\u043E\\u043D\\u0435\\u0442\\u043A\\u0438\"),/*#__PURE__*/React.createElement(Button,{stretched:true,onClick:function onClick(){return _this6.setPopout(/*#__PURE__*/React.createElement(Alert,{actionsLayout:\"vertical\",actions:[{title:'Удалить ник',autoclose:true,mode:'destructive',action:function action(){return _this6.ResetId();}},{title:'Нет, я нажал сюда случайно',autoclose:true,style:'cancel'}],onClose:function onClose(){return _this6.setPopout(null);}},/*#__PURE__*/React.createElement(\"h2\",null,\"\\u041E\\u0441\\u0442\\u043E\\u0440\\u043E\\u0436\\u043D\\u043E!\"),/*#__PURE__*/React.createElement(\"p\",null,\"\\u0415\\u0441\\u043B\\u0438 \\u0432\\u044B \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u0435 \\u043D\\u0438\\u043A, \\u0442\\u043E, \\u0432\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u043E, \\u0435\\u0433\\u043E \\u0441\\u043C\\u043E\\u0436\\u0435\\u0442 \\u0437\\u0430\\u0431\\u0440\\u0430\\u0442\\u044C \\u043A\\u0442\\u043E-\\u0442\\u043E \\u0434\\u0440\\u0443\\u0433\\u043E\\u0439.\",/*#__PURE__*/React.createElement(\"br\",null),\"\\u041F\\u043E\\u0441\\u043B\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044F \\u043D\\u0438\\u043A\\u0430 \\u0443 \\u0432\\u0430\\u0441 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0451\\u043D \\u043D\\u0430\\u0447\\u0430\\u043B\\u044C\\u043D\\u044B\\u0439 id\")));},before:/*#__PURE__*/React.createElement(Icon24BlockOutline,{width:28,height:28}),size:\"l\",mode:\"destructive\"},\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043D\\u0438\\u043A\")),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(Header,null,\"\\u041E\\u043F\\u0446\\u0438\\u0438\"),/*#__PURE__*/React.createElement(Div,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _this6.setActiveModal('send');},before:/*#__PURE__*/React.createElement(Icon28MoneyHistoryBackwardOutline,{style:{marginRight:\"5px\"}}),size:\"xl\",mode:\"secondary\"},\"\\u041F\\u0435\\u0440\\u0435\\u0432\\u0435\\u0441\\u0442\\u0438\")),this.props.this.state.snackbar);}}]);return Market;}(React.Component);export{Market as default};","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/Profile/panels/market.js"],"names":["React","Panel","PanelHeader","Input","Avatar","Button","Header","Div","Snackbar","PanelHeaderBack","Separator","Text","SimpleCell","PanelHeaderButton","Alert","FormLayout","Icon24Repeat","Icon28MoneyCircleOutline","Icon28MoneyHistoryBackwardOutline","Icon16CheckCircle","Icon20CancelCircleFillRed","Icon28InfoCircleOutline","Icon24BlockOutline","avatars","blueBackground","backgroundColor","Market","props","state","changed_id","api_url","last_selected","propsbi","this","setPopout","showErrorAlert","showAlert","setActiveModal","onChange","event","name","currentTarget","value","setState","number","Object","keys","length","object","i","push","e","account","avatar","id","setSnack","selectImage","marginLeft","last_image","document","getElementById","className","image","Number","fetch","window","location","search","replace","method","headers","body","JSON","stringify","then","data","json","result","setTimeout","ReloadProfile","error","message","catch","err","changeData","res","history","back","balance","images","changeAvatar","marginRight","display","ChangeId","title","autoclose","mode","action","ResetId","style","snackbar","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n    Panel,\n    PanelHeader,\n    Input,\n    Avatar,\n    Button,\n    Header,\n    Div,\n    Snackbar,\n    PanelHeaderBack,\n    Separator,\n    Text,\n    SimpleCell,\n    PanelHeaderButton,\n    // FormStatus,\n    Alert,\n    FormLayout,\n    } from '@vkontakte/vkui';\n\nimport Icon24Repeat from '@vkontakte/icons/dist/24/repeat';\nimport Icon28MoneyCircleOutline from '@vkontakte/icons/dist/28/money_circle_outline';\n\nimport Icon28MoneyHistoryBackwardOutline from '@vkontakte/icons/dist/28/money_history_backward_outline';\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\nimport Icon28InfoCircleOutline from '@vkontakte/icons/dist/28/info_circle_outline';\nimport Icon24BlockOutline from '@vkontakte/icons/dist/24/block_outline';\n\nvar avatars = [\n    \"1.png\",\n    \"2.png\",\n    \"3.png\",\n    \"4.png\",\n    \"5.png\",\n    \"6.png\",\n    \"7.png\",\n    \"8.png\",\n    \"9.png\",\n    \"10.png\",\n    \"11.png\",\n    \"12.png\",\n    \"13.png\",\n    \"14.png\",\n    \"15.png\",\n    \"16.png\",\n    \"17.png\",\n    \"18.png\",\n    \"19.png\",\n    \"20.png\",\n    \"21.png\",\n    \"22.png\",\n    \"23.png\",\n    \"24.png\",\n    \"25.png\",\n    \"26.png\",\n    \"27.png\",\n    \"28.png\",\n    \"29.png\",\n    \"30.png\",\n    \"31.png\",\n    \"32.png\",\n\n]\n\nconst blueBackground = {\n    backgroundColor: 'var(--accent)'\n  };\nexport default class Market extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            changed_id: '',\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n            last_selected: null,\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.showAlert = propsbi.showAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n    }\n    images() {\n      var number = Object.keys(avatars).length;\n      var object = []\n          for (let i = 0; i < number; i++ ) {\n              object.push(\n                  <img id={i}\n                  onClick={(e) => (this.props.account.avatar.id === i +1) ? this.props.this.setSnack(\n                    <Snackbar\n                    layout=\"vertical\"\n                    onClose={() => this.props.this.setSnack(null)}\n                    before={<Icon20CancelCircleFillRed width={24} height={24} />}\n                  >\n                    Вы уже имеете данный аватар\n                  </Snackbar>) : this.selectImage(e)} \n                  style={i === 0 ? {marginLeft: \"20px\"} : null} \n                  className=\"changes_avatars pointer\" key={i} \n                  src={\"https://xelene.ru/road/php/images/avatars/\" + avatars[i]}\n                  alt={'ava'} />\n              )\n          }\n      \n      return(object)\n  }\n  selectImage(e) {\n    let number = e.currentTarget.id;\n    if(this.state.last_selected !== null){\n      let last_image = document.getElementById(this.state.last_selected)\n      last_image.className = \"changes_avatars pointer\"\n    }\n    let image = document.getElementById(number);\n    // eslint-disable-next-line\n    if(number != this.state.last_selected){\n      image.className = \"changes_avatars select_avatar\"\n      this.setState({last_selected: Number(number)});\n    }else{\n      this.setState({last_selected: null});\n      image.className = \"changes_avatars pointer\"\n    }\n    \n  }\n    changeAvatar(last_selected) {\n        fetch(this.state.api_url + \"method=shop.changeAvatar&\" + window.location.search.replace('?', ''),\n        {method: 'post',\n        headers: {\"Content-type\": \"application/json; charset=UTF-8\"},\n            // signal: controllertime.signal,\n        body: JSON.stringify({\n            'avatar_id': last_selected,\n        })\n        })\n        .then(data => data.json())\n        .then(data => {\n          if(last_selected){\n            let last_image = document.getElementById(this.state.last_selected)\n            last_image.className = \"changes_avatars\"\n            this.setState({last_selected: null})\n          }\n          \n          \n              if(data.result){\n                  this.props.this.setSnack( \n                    <Snackbar\n                      layout=\"vertical\"\n                      onClose={() => this.props.this.setSnack(null)}\n                      before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n                    >\n                      Аватар успешно сменен\n                    </Snackbar>\n                  )\n\n                  setTimeout(() => {\n                    this.props.this.ReloadProfile();\n                  }, 4000)\n                }else{\n                  this.props.this.setSnack(\n                    <Snackbar\n                    layout=\"vertical\"\n                    onClose={() => this.props.this.setSnack(null)}\n                    before={<Icon20CancelCircleFillRed width={24} height={24} />}\n                  >\n                    {data.error.message}\n                  </Snackbar>);\n                }\n            })\n            .catch(err => {\n              this.showErrorAlert('Ошибка запроса. Пожалуйста, попробуйте позже',() => {this.props.this.changeData('activeStory', 'disconnect')})\n        })\n        \n    }\n    ChangeId() {\n        if(this.state.changed_id){ \n          fetch(this.state.api_url + \"method=shop.changeId&\" + window.location.search.replace('?', ''),\n          {method: 'post',\n                headers: {\"Content-type\": \"application/json; charset=UTF-8\"},\n                    // signal: controllertime.signal,\n                body: JSON.stringify({\n                    'change_id': this.state.changed_id,\n                })\n          })\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n                this.props.this.setSnack(\n                <Snackbar\n                  layout=\"vertical\"\n                  onClose={() => this.props.this.setSnack(null)}\n                  before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n                >\n                  Вы успешно сменили ник\n                </Snackbar>\n              )\n              setTimeout(() => {\n                this.props.this.ReloadProfile();\n              }, 4000)\n            } else {\n              this.props.this.setSnack(\n                <Snackbar\n                layout=\"vertical\"\n                onClose={() => this.props.this.setSnack(null)}\n                before={<Icon20CancelCircleFillRed width={24} height={24} />}\n              >\n                {data.error.message}\n              </Snackbar>);\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert('Ошибка запроса. Пожалуйста, попробуйте позже',() => {this.props.this.changeData('activeStory', 'disconnect')})\n          })\n        } else {\n          this.props.this.setSnack(\n            <Snackbar\n            layout=\"vertical\"\n            onClose={() => this.props.this.setSnack(null)}\n            before={<Icon20CancelCircleFillRed width={24} height={24} />}\n          >\n            Вы не указали желаемый ник\n          </Snackbar>);\n        }\n      }\n      ResetId() {\n          fetch(this.state.api_url + \"method=shop.resetId&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n                this.props.this.setSnack(\n                <Snackbar\n                  layout=\"vertical\"\n                  onClose={() => this.props.this.setSnack(null)}\n                  before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n                >\n                  Вы успешно удалили ник\n                </Snackbar>\n              )\n              setTimeout(() => {\n                this.props.this.ReloadProfile();\n              }, 4000)\n            } else {\n              this.props.this.setSnack(\n                <Snackbar\n                layout=\"vertical\"\n                onClose={() => this.props.this.setSnack(null)}\n                before={<Icon20CancelCircleFillRed width={24} height={24} />}\n              >\n                {data.error.message}\n              </Snackbar>);\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert('Ошибка запроса. Пожалуйста, попробуйте позже',() => {this.props.this.changeData('activeStory', 'disconnect')})\n          })\n      }\n\n    render() {\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <><PanelHeaderBack onClick={() => window.history.back()} />\n                        <PanelHeaderButton \n                        href='https://vk.com/@jedi_road-sistema-nachisleniya-ballov-i-shop'\n                        target=\"_blank\" rel=\"noopener noreferrer\">\n                          <Icon28InfoCircleOutline />\n                        </PanelHeaderButton> </>\n                }>\n                    Магазин\n                </PanelHeader>\n                <Div>\n                  <Text weight='medium'>Монетки — это универсальная условная единица для приобретения различных товаров в магазине</Text>\n                </Div>\n                <SimpleCell disabled indicator={this.props.account.balance}>Ваш баланс</SimpleCell>\n                <Separator />\n                {/* <Div>\n                  <FormStatus >\n                    Скидки для тестеровщиков\n                  </FormStatus>\n                </Div> */}\n                <Header>Сменить аватар</Header>\n                <div className=\"scrollImages\">\n                    {this.images()}\n                </div>\n                <Div>\n                    <Button onClick={() => {this.changeAvatar(Number(this.state.last_selected) + 1)}} \n                    before={<Icon28MoneyCircleOutline \n                    style={{marginRight: \"5px\"}}/>} \n                    size=\"xl\" \n                    mode=\"secondary\"\n                    disabled={(this.state.last_selected !== null) ? false : true}>Сменить за 1 монетку</Button>\n                </Div>\n                <Separator />\n                <Header>Сменить свой ник</Header>\n                <FormLayout>\n                  <Input placeholder=\"Введите желаемый ник\" \n                  bottom='Макс. 10 символов'\n                  onChange={(e) => this.onChange(e)} \n                  value={this.state.changed_id} \n                  maxLength=\"10\" \n                  name=\"changed_id\"/>\n                </FormLayout>\n                <Div style={{display: 'flex'}}>\n                    <Button onClick={() => {this.ChangeId(this.state.changed_id)}} \n                      style={{marginRight: 8}}\n                      before={<Icon24Repeat width={28} height={28} />}\n                      stretched\n                      size=\"l\" \n                      mode=\"secondary\"\n                      disabled={(this.state.changed_id <= 0) ? true : false}>Сменить за 2 монетки</Button>\n                    <Button \n                    stretched\n                    onClick={() => this.setPopout(<Alert\n                      actionsLayout='vertical'\n                      actions={[{\n                        title: 'Удалить ник',\n                        autoclose: true,\n                        mode: 'destructive',\n                        action: () => this.ResetId(),\n                      },{\n                        title: 'Нет, я нажал сюда случайно',\n                        autoclose: true,\n                        style: 'cancel'\n                      },]}\n                      onClose={() => this.setPopout(null)}\n                    >\n                      <h2>Осторожно!</h2>\n                      <p>Если вы удалите ник, то, возможно, его сможет забрать кто-то другой.<br />После удаления ника у вас будет отображён начальный id</p>\n                  </Alert>)}\n                    before={<Icon24BlockOutline width={28} height={28} />}\n                    size=\"l\" \n                    mode='destructive'>Удалить ник</Button>\n                </Div>\n                    \n                \n                {/* <Group separator=\"hide\" header={<Header>Сброс статистики</Header>}>\n                    <Div>\n                        <Button onClick={() => props.this.deleteStats()} before={<Icon28GridSquareOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Сбросить за 150 монеток</Button>\n                    </Div>\n                </Group> */}\n                <Separator />\n                <Header>Опции</Header>\n                    <Div>\n                        <Button onClick={() => this.setActiveModal('send')} before={<Icon28MoneyHistoryBackwardOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Перевести</Button>\n                        {/* <br/>\n                        <Button onClick={() => props.this.goVitas()} before={<Icon28GlobeOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Обучать Витька</Button> */}\n                    </Div>\n                {this.props.this.state.snackbar}\n                {/* <Group separator=\"hide\" header={<Header>Обнулить статистику</Header>}>\n                    <Div>\n                        Мы обнулим вам встатистику, число всех ответов станет равным 0.\n                    </Div>\n                </Group>\n                <Div>\n                    <Button before={<Icon28MoneyCircleOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Купить за 350 монеток</Button>\n                </Div>\n                <Group separator=\"hide\" header={<Header>Сменить id Агента</Header>}>\n                    <Div>\n                        Установите себе другой id и будьте заметнее!\n                    </Div>\n                </Group>\n                <Div>\n                    <Button before={<Icon28MoneyCircleOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Купить за 700 монеток</Button>\n                </Div> */}\n            </Panel>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}