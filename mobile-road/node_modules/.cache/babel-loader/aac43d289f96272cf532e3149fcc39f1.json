{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\questions\\\\panels\\\\questions.js\";\nimport React from 'react';\nimport { Panel, PanelHeader, PanelHeaderButton, Avatar, Button, Group, Alert, Placeholder, Separator, PullToRefresh, PanelSpinner, InfoRow, Header, Counter, SimpleCell, PromoBanner, FixedLayout, Cell, Div, HorizontalScroll, View, Switch, Banner, Footer } from '@vkontakte/vkui';\nimport Icon24Filter from '@vkontakte/icons/dist/24/filter';\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\nimport Icon56InboxOutline from '@vkontakte/icons/dist/56/inbox_outline';\nexport default class Questions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fething: false,\n      tiket_all: null,\n      tiket_all_helper: null,\n      offset: 0,\n      ShowBanner: true\n    };\n    var props = this.props.this;\n    this.setPopout = props.setPopout;\n    this.showErrorAlert = props.showErrorAlert;\n    this.setActiveModal = props.setActiveModal;\n  }\n\n  Prepare_questions(need_offset = false) {\n    this.setState({\n      fetching: true\n    });\n    fetch(this.state.api_url + \"method=tickets.get&count=20&unanswered=1&offset=\" + this.state.offset + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data.result) {\n        var sliyan = this.state.tiket_all.concat(data.response);\n        this.setState({\n          tiket_all: sliyan,\n          tiket_all_helper: data.response\n        });\n\n        if (need_offset) {\n          this.setState({\n            offset: this.state.offset + 20\n          });\n        }\n\n        setTimeout(() => {\n          this.setState({\n            fetching: false\n          });\n        }, 500);\n      }\n    }).catch(err => {\n      console.log(err);\n      this.showErrorAlert(err);\n    });\n  }\n\n  componentDidMount() {\n    this.Prepare_questions();\n  }\n\n  render() {\n    var props = this.props.this; // Для более удобного использования.\n\n    return /*#__PURE__*/React.createElement(Panel, {\n      id: this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PanelHeader, {\n      left: /*#__PURE__*/React.createElement(PanelHeaderButton, {\n        onClick: () => this.setActiveModal(\"settings\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Icon24Filter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 90\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, \"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B\"), this.state.ShowBanner ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Banner, {\n      mode: \"image\",\n      size: \"m\",\n      onDismiss: () => {\n        this.setState({\n          ShowBanner: false\n        });\n      },\n      header: \"\\u041A\\u043E\\u0433\\u0434\\u0430 \\u043E\\u0442\\u0432\\u0435\\u0447\\u0430\\u0442\\u044C \\u043D\\u0430 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B - \\u044D\\u0442\\u043E \\u0442\\u0432\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",\n      subheader: /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 28\n        }\n      }, \"\\u041E\\u0442\\u0432\\u0435\\u0447\\u0430\\u0439\\u0442\\u0435 \\u043D\\u0430 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439 \\u0412\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435 \\u0438 \\u0443\\u0447\\u0430\\u0432\\u0441\\u0442\\u0432\\u0443\\u0439\\u0442\\u0435 \\u0432 \\u0440\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433\\u0435\"),\n      background: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          backgroundColor: '#5b9be6',\n          backgroundImage: 'url(https://sun9-31.userapi.com/PQ4UCzqE_jue9hAINefBMorYCdfGXvcuV5nSjA/eYugcFYzdW8.jpg)',\n          backgroundPosition: 'right bottom',\n          backgroundSize: '110%',\n          backgroundRepeat: 'no-repeat'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }),\n      asideMode: \"dismiss\",\n      actions: /*#__PURE__*/React.createElement(Button, {\n        mode: \"overlay_primary\",\n        href: \"https://vk.com/@jedi_road-checking-responses\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        size: \"l\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 30\n        }\n      }, \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 44\n      }\n    }), /*#__PURE__*/React.createElement(Separator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    })) : null, this.props.account.special ? /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 47\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => props.goPanel('new_tiket'),\n      size: \"xl\",\n      mode: \"outline\",\n      stretched: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\")) : null, /*#__PURE__*/React.createElement(PullToRefresh, {\n      onRefresh: this.Prepare_questions,\n      isFetching: this.state.fetching,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, this.state.tiket_all ? this.state.tiket_all.map((result, i) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Cell, {\n      key: i,\n      onClick: () => props.goTiket(result['id']),\n      description: result['status'] === 0 ? \"На рассмотрении\" : result['status'] === 1 ? \"Есть ответ\" : \"Закрыт\",\n      asideContent: /*#__PURE__*/React.createElement(Avatar, {\n        src: result['author']['id'] === 526444378 ? \"https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png\" : result['author']['photo_200'],\n        size: 56,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 43\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, result['title']), /*#__PURE__*/React.createElement(Separator, {\n      style: {\n        width: \"90%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }))) : null, this.state.tiket_all_helper ? this.state.tiket_all_helper.length === 20 ? /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"xl\",\n      level: \"secondary\",\n      onClick: () => this.Prepare_questions(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0435\\u0449\\u0451\")) : this.state.tiket_all.length === 0 ? null : /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 62\n      }\n    }, this.state.tiket_all.length, \" \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441(\\u0430) \\u0432\\u0441\\u0435\\u0433\\u043E\") : null, this.state.tiket_all ? this.state.tiket_all.length === 0 ? /*#__PURE__*/React.createElement(Placeholder, {\n      icon: /*#__PURE__*/React.createElement(Icon56InboxOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 23\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, \"\\u0423\\u043F\\u0441, \\u043A\\u0430\\u0436\\u0435\\u0442\\u0441\\u044F \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B \\u0437\\u0430\\u043A\\u043E\\u043D\\u0447\\u0438\\u043B\\u0438\\u0441\\u044C\") : null : /*#__PURE__*/React.createElement(PanelSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 26\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/questions/panels/questions.js"],"names":["React","Panel","PanelHeader","PanelHeaderButton","Avatar","Button","Group","Alert","Placeholder","Separator","PullToRefresh","PanelSpinner","InfoRow","Header","Counter","SimpleCell","PromoBanner","FixedLayout","Cell","Div","HorizontalScroll","View","Switch","Banner","Footer","Icon24Filter","Icon24Add","Icon56InboxOutline","Questions","Component","constructor","props","state","fething","tiket_all","tiket_all_helper","offset","ShowBanner","this","setPopout","showErrorAlert","setActiveModal","Prepare_questions","need_offset","setState","fetching","fetch","api_url","window","location","search","replace","then","res","json","data","console","log","result","sliyan","concat","response","setTimeout","catch","err","componentDidMount","render","id","backgroundColor","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","account","special","goPanel","map","i","goTiket","width","length"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { \n    Panel,\n    PanelHeader,\n    PanelHeaderButton,\n    Avatar,\n    Button,\n    Group,\n    Alert,\n    Placeholder,\n    Separator,\n    PullToRefresh,\n    PanelSpinner,\n    InfoRow,\n    Header,\n    Counter,\n    SimpleCell,\n    PromoBanner,\n    FixedLayout,\n    Cell,\n    Div,\n    HorizontalScroll,\n    View,\n    Switch,\n    Banner,\n    Footer\n    \n    } from '@vkontakte/vkui';\n\nimport Icon24Filter from '@vkontakte/icons/dist/24/filter';\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\nimport Icon56InboxOutline from '@vkontakte/icons/dist/56/inbox_outline';\n\n\nexport default class Questions extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                fething: false,\n                tiket_all: null,\n                tiket_all_helper: null,\n                offset: 0,\n                ShowBanner: true,\n\n            }\n            var props = this.props.this;\n            this.setPopout = props.setPopout;\n            this.showErrorAlert = props.showErrorAlert;\n            this.setActiveModal = props.setActiveModal;\n        }\n        Prepare_questions(need_offset=false){\n            this.setState({ fetching: true });\n            fetch(this.state.api_url + \"method=tickets.get&count=20&unanswered=1&offset=\" + this.state.offset + \"&\" + window.location.search.replace('?', ''))\n            .then(res => res.json())\n            .then(data => {\n                console.log(data)\n              if(data.result) {\n                var sliyan = this.state.tiket_all.concat(data.response)\n                this.setState({tiket_all: sliyan, tiket_all_helper: data.response})\n                if(need_offset){\n                    this.setState({ offset: this.state.offset + 20 })\n                }\n                setTimeout(() => {\n                  this.setState({ fetching: false });\n                }, 500);\n              }\n            })\n            .catch(err => {\n                console.log(err)\n              this.showErrorAlert(err)\n            })\n\n            \n        }\n        componentDidMount() {\n            this.Prepare_questions()\n        }\n\n        render() {\n            var props = this.props.this; // Для более удобного использования.\n            return (\n                <Panel id={this.props.id}> \n                <PanelHeader\n                left={<PanelHeaderButton onClick={() => this.setActiveModal(\"settings\")}><Icon24Filter/></PanelHeaderButton>}\n                >\n                Вопросы\n                </PanelHeader>\n\n                {this.state.ShowBanner ? <><Banner\n                mode=\"image\"\n                size=\"m\"\n                onDismiss={() => {\n                    this.setState({ShowBanner: false});\n                }}\n                header=\"Когда отвечать на вопросы - это твой профиль\"\n                subheader={<span>Отвечайте на вопросы пользователей ВКонтакте и учавствуйте в рейтинге</span>}\n                background={\n                <div\n                    style={{\n                    backgroundColor: '#5b9be6',\n                    backgroundImage: 'url(https://sun9-31.userapi.com/PQ4UCzqE_jue9hAINefBMorYCdfGXvcuV5nSjA/eYugcFYzdW8.jpg)',\n                    backgroundPosition: 'right bottom',\n                    backgroundSize: '110%',\n                    backgroundRepeat: 'no-repeat',\n                    }}\n                />\n                }\n                    asideMode=\"dismiss\"\n                    actions={<Button mode=\"overlay_primary\" href=\"https://vk.com/@jedi_road-checking-responses\" target=\"_blank\" rel=\"noopener noreferrer\" size=\"l\">Подробнее</Button>}\n                /><Separator /></> : null}\n                {this.props.account.special ? <Div>\n                    <Button onClick={() => props.goPanel('new_tiket')}\n                    size=\"xl\" \n                    mode=\"outline\" \n                    stretched>Новый вопрос</Button>\n                </Div> : null}\n                <PullToRefresh onRefresh={this.Prepare_questions} isFetching={this.state.fetching}>\n                    {this.state.tiket_all ? this.state.tiket_all.map((result, i) => \n                    <>\n                        <Cell\n                            key={i}\n                            onClick={() => props.goTiket(result['id'])}\n                            description={result['status'] === 0 ? \"На рассмотрении\" : result['status'] === 1 ? \"Есть ответ\" : \"Закрыт\" } \n                            asideContent={<Avatar src={result['author']['id'] === 526444378 ? \"https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png\" : result['author']['photo_200']} size={56}/>}\n                        >\n                        {result['title']}\n\n                        </Cell>\n                        <Separator style={{width: \"90%\"}} />\n                    </>\n                    ) : null}\n                \n                    {this.state.tiket_all_helper ? this.state.tiket_all_helper.length === 20 ? \n                    <Div>\n                        <Button size=\"xl\" level=\"secondary\" onClick={() => this.Prepare_questions(true)}>Загрузить ещё</Button>\n                    </Div>\n                : \n                (this.state.tiket_all.length === 0) ? null : <Footer>{this.state.tiket_all.length} вопрос(а) всего</Footer>\n                 :\n                null}\n                {this.state.tiket_all ? this.state.tiket_all.length === 0 ? \n                <Placeholder \n                icon={<Icon56InboxOutline />}>\n                    Упс, кажется вопросы закончились\n                </Placeholder>\n                : null : <PanelSpinner />}\n            </PullToRefresh>\n            </Panel>\n            )\n            }\n        }\n  "]},"metadata":{},"sourceType":"module"}