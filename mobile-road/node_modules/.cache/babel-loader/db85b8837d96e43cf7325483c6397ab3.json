{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\Profile\\\\panels\\\\settings.js\";\nimport React from 'react';\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\n\nimport { Panel, PanelHeader, Group, Alert, Counter, SimpleCell, Snackbar, PanelHeaderBack, CellButton } from '@vkontakte/vkui';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Icon28DoneOutline from '@vkontakte/icons/dist/28/done_outline';\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\nimport Icon28DeleteOutline from '@vkontakte/icons/dist/28/delete_outline';\nimport Icon28PaletteOutline from '@vkontakte/icons/dist/28/palette_outline';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\nimport Icon28TargetOutline from '@vkontakte/icons/dist/28/target_outline';\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\nexport default class Settings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      api_url: \"https://xelene.ru/road/php/index.php?\"\n    };\n    var propsbi = this.props.this;\n    this.setPopout = propsbi.setPopout;\n    this.showErrorAlert = propsbi.showErrorAlert;\n    this.showAlert = propsbi.showAlert;\n    this.setActiveModal = propsbi.setActiveModal;\n\n    this.onChange = event => {\n      var name = event.currentTarget.name;\n      var value = event.currentTarget.value;\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  deleteAccount() {\n    fetch(this.state.api_url + \"method=account.delete&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      if (data.result) {\n        bridge.send(\"VKWebAppClose\", {\n          \"status\": \"success\"\n        });\n      } else {\n        this.showErrorAlert(data.error.message);\n      }\n    }).catch(err => {\n      this.showErrorAlert(err);\n    });\n  }\n\n  render() {\n    var props = this.props.this;\n    return /*#__PURE__*/React.createElement(Panel, {\n      id: this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PanelHeader, {\n      left: /*#__PURE__*/React.createElement(PanelHeaderBack, {\n        onClick: () => this.props.this.goBack(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"), /*#__PURE__*/React.createElement(Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SimpleCell, {\n      disabled: true,\n      indicator: this.props.account.age,\n      before: /*#__PURE__*/React.createElement(Icon28TargetOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 27\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }, \"\\u0412\\u0430\\u0448 \\u0432\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\")), /*#__PURE__*/React.createElement(Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SimpleCell, {\n      before: /*#__PURE__*/React.createElement(Icon28PaletteOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 27\n        }\n      }),\n      expandable: true,\n      onClick: () => props.goPanel('schemechange'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0430 \\u0442\\u0435\\u043C\\u044B\"), /*#__PURE__*/React.createElement(SimpleCell, {\n      onClick: () => this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n        layout: \"vertical\",\n        onClose: () => this.props.this.setSnack(null),\n        before: /*#__PURE__*/React.createElement(Icon20CancelCircleFillRed, {\n          width: 24,\n          height: 24,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }\n      }, \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0439 \\u0440\\u0430\\u0437\\u0434\\u0435\\u043B \\u0435\\u0449\\u0451 \\u043D\\u0435 \\u0433\\u043E\\u0442\\u043E\\u0432 \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430. \\u041E\\u043D \\u0441\\u0442\\u0435\\u0441\\u043D\\u044F\\u0435\\u0442\\u0441\\u044F :)\")),\n      before: /*#__PURE__*/React.createElement(Icon28DoneOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 27\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, \"\\u0412\\u0435\\u0440\\u0438\\u0444\\u0438\\u043A\\u0430\\u0446\\u0438\\u044F\")), /*#__PURE__*/React.createElement(Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SimpleCell, {\n      disabled: true,\n      indicator: /*#__PURE__*/React.createElement(Counter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 30\n        }\n      }, this.props.account.balance),\n      before: /*#__PURE__*/React.createElement(Icon28CoinsOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 27\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }\n    }, \"\\u0411\\u0430\\u043B\\u0430\\u043D\\u0441\"), platform() !== IOS ? /*#__PURE__*/React.createElement(SimpleCell, {\n      expandable: true,\n      href: \"https://vk.com/jedi_road?source=description&w=donut_payment-188280516\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      before: /*#__PURE__*/React.createElement(Icon28FavoriteOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 27\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 43\n      }\n    }, \"VK Donut\") : null), /*#__PURE__*/React.createElement(Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SimpleCell, {\n      expandable: true,\n      onClick: () => {\n        this.props.this.goPanel(\"info\");\n      },\n      before: /*#__PURE__*/React.createElement(Icon28InfoOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 27\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }, \"\\u041E \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0438\")), /*#__PURE__*/React.createElement(Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CellButton, {\n      mode: \"danger\",\n      onClick: () => this.setPopout( /*#__PURE__*/React.createElement(Alert, {\n        actionsLayout: \"vertical\",\n        actions: [{\n          title: 'Нет, я нажал сюда случайно',\n          autoclose: true,\n          style: 'cancel'\n        }, {\n          title: 'Удалить аккаунт',\n          autoclose: true,\n          mode: 'destructive',\n          action: () => this.deleteAccount()\n        }],\n        onClose: () => this.setPopout(null),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }, \"\\u0412\\u043D\\u0438\\u043C\\u0430\\u043D\\u0438\\u0435, \\u043E\\u043F\\u0430\\u0441\\u043D\\u043E\\u0441\\u0442\\u044C\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }\n      }, \"\\u0414\\u0430\\u043D\\u043D\\u043E\\u0435 \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435 \\u0432\\u0435\\u0434\\u0451\\u0442 \\u043A \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044E \\u0432\\u0430\\u0448\\u0435\\u0433\\u043E \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430: \\u0432\\u0441\\u0435\\u0445 \\u043E\\u0442\\u0432\\u0435\\u0442\\u043E\\u0432, \\u0434\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u0439 \\u0438 \\u0434\\u0440\\u0443\\u0433\\u043E\\u0439 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438, \\u043A\\u043E\\u0442\\u043E\\u0440\\u0430\\u044F \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u0430 \\u043D\\u0430 \\u0432\\u0430\\u0448\\u0435\\u043C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0435. \\u0412\\u044B \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0435\\u0433\\u043E \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C?\"))),\n      before: /*#__PURE__*/React.createElement(Icon28DeleteOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 27\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\")), this.props.this.state.snackbar);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/Profile/panels/settings.js"],"names":["React","bridge","Panel","PanelHeader","Group","Alert","Counter","SimpleCell","Snackbar","PanelHeaderBack","CellButton","platform","IOS","Icon28DoneOutline","Icon28CoinsOutline","Icon28DeleteOutline","Icon28PaletteOutline","Icon20CancelCircleFillRed","Icon28TargetOutline","Icon28InfoOutline","Icon28FavoriteOutline","Settings","Component","constructor","props","state","api_url","propsbi","this","setPopout","showErrorAlert","showAlert","setActiveModal","onChange","event","name","currentTarget","value","setState","deleteAccount","fetch","window","location","search","replace","then","res","json","data","result","send","error","message","catch","err","render","id","goBack","account","age","goPanel","setSnack","balance","title","autoclose","style","mode","action","snackbar"],"mappings":"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","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\n\n\nimport { \n    Panel,\n    PanelHeader,\n    Group,\n    Alert,\n    Counter,\n    SimpleCell,\n    Snackbar,\n    PanelHeaderBack,\n    CellButton,\n    } from '@vkontakte/vkui';\n\nimport {platform, IOS} from '@vkontakte/vkui';\n\nimport Icon28DoneOutline from '@vkontakte/icons/dist/28/done_outline';\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\nimport Icon28DeleteOutline from '@vkontakte/icons/dist/28/delete_outline';\nimport Icon28PaletteOutline from '@vkontakte/icons/dist/28/palette_outline';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\nimport Icon28TargetOutline from '@vkontakte/icons/dist/28/target_outline';\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\n\n\nexport default class Settings extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.showAlert = propsbi.showAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n    }\n    deleteAccount(){\n      fetch(this.state.api_url + \"method=account.delete&\" + window.location.search.replace('?', ''))\n      .then(res => res.json())\n      .then(data => {\n      if(data.result) {\n        bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n      }else{\n          this.showErrorAlert(data.error.message)\n      }\n      })\n      .catch(err => {\n          this.showErrorAlert(err)\n\n      })\n    }\n\n    render() {\n        var props = this.props.this;\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderBack onClick={() => this.props.this.goBack()} /> \n                }>\n                    Настройки\n                </PanelHeader>\n                <Group>\n                  <SimpleCell\n                  disabled\n                  indicator={this.props.account.age}\n                  before={<Icon28TargetOutline/>}>Ваш возраст</SimpleCell>\n                  \n                </Group>\n                <Group>\n                  <SimpleCell\n                  before={<Icon28PaletteOutline />}\n                  expandable\n                  onClick={() => props.goPanel('schemechange')}>Смена темы</SimpleCell>\n                  <SimpleCell\n                  onClick={() => this.props.this.setSnack(\n                    <Snackbar\n                    layout=\"vertical\"\n                    onClose={() => this.props.this.setSnack(null)}\n                    before={<Icon20CancelCircleFillRed width={24} height={24} />}\n                  >\n                    Данный раздел ещё не готов для просмотра. Он стесняется :)\n                  </Snackbar>)}\n                  before={<Icon28DoneOutline />}>Верификация</SimpleCell>\n\n                  \n                </Group>\n                <Group>\n                  <SimpleCell\n                  disabled\n                  indicator={<Counter>{this.props.account.balance}</Counter>}\n                  before={<Icon28CoinsOutline />}>Баланс</SimpleCell>\n                  \n                  {(platform() !== IOS) ? <SimpleCell\n                  expandable\n                  href=\"https://vk.com/jedi_road?source=description&w=donut_payment-188280516\"\n                  target=\"_blank\" rel=\"noopener noreferrer\"\n                  before={<Icon28FavoriteOutline/>}>VK Donut</SimpleCell> : null}\n                </Group>\n                <Group>\n                  <SimpleCell\n                  expandable\n                  onClick={() => {\n                      this.props.this.goPanel(\"info\");\n                  }}\n                  before={<Icon28InfoOutline />}>О приложении</SimpleCell>\n                </Group>\n                <Group>\n                  <CellButton \n                  mode=\"danger\"\n                  onClick={() => this.setPopout(<Alert\n                    actionsLayout='vertical'\n                    actions={[{\n                      title: 'Нет, я нажал сюда случайно',\n                      autoclose: true,\n                      style: 'cancel'\n                    },{\n                      title: 'Удалить аккаунт',\n                      autoclose: true,\n                      mode: 'destructive',\n                      action: () => this.deleteAccount(),\n                    }]}\n                    onClose={() => this.setPopout(null)}\n                  >\n                    <h2>Внимание, опасность</h2>\n                    <p>Данное действие ведёт к удалению вашего аккаунта: всех ответов, достижений и другой информации, которая сохранена на вашем аккаунте. Вы действительно хотите его удалить?</p>\n                </Alert>)}\n                  before={<Icon28DeleteOutline />}>Удалить аккаунт</CellButton>\n                </Group>\n                {this.props.this.state.snackbar}\n            </Panel>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}