{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import bridge from'@vkontakte/vk-bridge';// VK Brige\nimport{Panel,PanelHeader,Group,Alert,Counter,SimpleCell,Snackbar,PanelHeaderBack,CellButton}from'@vkontakte/vkui';import Icon28DoneOutline from'@vkontakte/icons/dist/28/done_outline';import Icon28CoinsOutline from'@vkontakte/icons/dist/28/coins_outline';import Icon28DeleteOutline from'@vkontakte/icons/dist/28/delete_outline';import Icon28PaletteOutline from'@vkontakte/icons/dist/28/palette_outline';import Icon20CancelCircleFillRed from'@vkontakte/icons/dist/20/cancel_circle_fill_red';import Icon28TargetOutline from'@vkontakte/icons/dist/28/target_outline';import Icon28InfoOutline from'@vkontakte/icons/dist/28/info_outline';var Settings=/*#__PURE__*/function(_React$Component){_inherits(Settings,_React$Component);var _super=_createSuper(Settings);function Settings(props){var _this;_classCallCheck(this,Settings);_this=_super.call(this,props);_this.state={api_url:\"https://xelene.ru/road/php/index.php?\"};var propsbi=_this.props.this;_this.setPopout=propsbi.setPopout;_this.showErrorAlert=propsbi.showErrorAlert;_this.showAlert=propsbi.showAlert;_this.setActiveModal=propsbi.setActiveModal;_this.onChange=function(event){var name=event.currentTarget.name;var value=event.currentTarget.value;_this.setState(_defineProperty({},name,value));};return _this;}_createClass(Settings,[{key:\"deleteAccount\",value:function deleteAccount(){var _this2=this;fetch(this.state.api_url+\"method=account.delete&\"+window.location.search.replace('?','')).then(function(res){return res.json();}).then(function(data){if(data.result){bridge.send(\"VKWebAppClose\",{\"status\":\"success\"});}else{_this2.showErrorAlert(data.error.message);}}).catch(function(err){_this2.showErrorAlert(err);});}},{key:\"render\",value:function render(){var _this3=this;var props=this.props.this;return/*#__PURE__*/React.createElement(Panel,{id:this.props.id},/*#__PURE__*/React.createElement(PanelHeader,{left:/*#__PURE__*/React.createElement(PanelHeaderBack,{onClick:function onClick(){return _this3.props.this.goBack();}})},\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"),/*#__PURE__*/React.createElement(Group,null,/*#__PURE__*/React.createElement(SimpleCell,{disabled:true,indicator:this.props.account.age,before:/*#__PURE__*/React.createElement(Icon28TargetOutline,null)},\"\\u0412\\u0430\\u0448 \\u0432\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\")),/*#__PURE__*/React.createElement(Group,null,/*#__PURE__*/React.createElement(SimpleCell,{before:/*#__PURE__*/React.createElement(Icon28PaletteOutline,null),expandable:true,onClick:function onClick(){return props.goPanel('schemechange');}},\"\\u0421\\u043C\\u0435\\u043D\\u0430 \\u0442\\u0435\\u043C\\u044B\"),/*#__PURE__*/React.createElement(SimpleCell,{onClick:function onClick(){return _this3.props.this.setSnack(/*#__PURE__*/React.createElement(Snackbar,{layout:\"vertical\",onClose:function onClose(){return _this3.props.this.setSnack(null);},before:/*#__PURE__*/React.createElement(Icon20CancelCircleFillRed,{width:24,height:24})},\"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0439 \\u0440\\u0430\\u0437\\u0434\\u0435\\u043B \\u0435\\u0449\\u0451 \\u043D\\u0435 \\u0433\\u043E\\u0442\\u043E\\u0432 \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430. \\u041E\\u043D \\u0441\\u0442\\u0435\\u0441\\u043D\\u044F\\u0435\\u0442\\u0441\\u044F :)\"));},before:/*#__PURE__*/React.createElement(Icon28DoneOutline,null)},\"\\u0412\\u0435\\u0440\\u0438\\u0444\\u0438\\u043A\\u0430\\u0446\\u0438\\u044F\")),/*#__PURE__*/React.createElement(Group,null,/*#__PURE__*/React.createElement(SimpleCell,{disabled:true,indicator:/*#__PURE__*/React.createElement(Counter,null,this.props.account.balance),before:/*#__PURE__*/React.createElement(Icon28CoinsOutline,null)},\"\\u0411\\u0430\\u043B\\u0430\\u043D\\u0441\"),/*#__PURE__*/React.createElement(SimpleCell,{expandable:true,onClick:function onClick(){_this3.props.this.goPanel(\"info\");},before:/*#__PURE__*/React.createElement(Icon28InfoOutline,null)},\"\\u041E \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0438\")),/*#__PURE__*/React.createElement(Group,null,/*#__PURE__*/React.createElement(CellButton,{mode:\"danger\",onClick:function onClick(){return _this3.setPopout(/*#__PURE__*/React.createElement(Alert,{actionsLayout:\"vertical\",actions:[{title:'Нет, я нажал сюда случайно',autoclose:true,style:'cancel'},{title:'Удалить аккаунт',autoclose:true,mode:'destructive',action:function action(){return _this3.deleteAccount();}}],onClose:function onClose(){return _this3.setPopout(null);}},/*#__PURE__*/React.createElement(\"h2\",null,\"\\u0412\\u043D\\u0438\\u043C\\u0430\\u043D\\u0438\\u0435, \\u043E\\u043F\\u0430\\u0441\\u043D\\u043E\\u0441\\u0442\\u044C\"),/*#__PURE__*/React.createElement(\"p\",null,\"\\u0414\\u0430\\u043D\\u043D\\u043E\\u0435 \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435 \\u0432\\u0435\\u0434\\u0451\\u0442 \\u043A \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044E \\u0432\\u0430\\u0448\\u0435\\u0433\\u043E \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430: \\u0432\\u0441\\u0435\\u0445 \\u043E\\u0442\\u0432\\u0435\\u0442\\u043E\\u0432, \\u0434\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u0439 \\u0438 \\u0434\\u0440\\u0443\\u0433\\u043E\\u0439 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u0438, \\u043A\\u043E\\u0442\\u043E\\u0440\\u0430\\u044F \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u0430 \\u043D\\u0430 \\u0432\\u0430\\u0448\\u0435\\u043C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0435. \\u0412\\u044B \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0435\\u0433\\u043E \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C?\")));},before:/*#__PURE__*/React.createElement(Icon28DeleteOutline,null)},\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\")),this.props.this.state.snackbar);}}]);return Settings;}(React.Component);export{Settings as default};","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/Profile/panels/settings.js"],"names":["React","bridge","Panel","PanelHeader","Group","Alert","Counter","SimpleCell","Snackbar","PanelHeaderBack","CellButton","Icon28DoneOutline","Icon28CoinsOutline","Icon28DeleteOutline","Icon28PaletteOutline","Icon20CancelCircleFillRed","Icon28TargetOutline","Icon28InfoOutline","Settings","props","state","api_url","propsbi","this","setPopout","showErrorAlert","showAlert","setActiveModal","onChange","event","name","currentTarget","value","setState","fetch","window","location","search","replace","then","res","json","data","result","send","error","message","catch","err","id","goBack","account","age","goPanel","setSnack","balance","title","autoclose","style","mode","action","deleteAccount","snackbar","Component"],"mappings":"k2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CAA2C;AAG3C,OACIC,KADJ,CAEIC,WAFJ,CAGIC,KAHJ,CAIIC,KAJJ,CAKIC,OALJ,CAMIC,UANJ,CAOIC,QAPJ,CAQIC,eARJ,CASIC,UATJ,KAUW,iBAVX,CAYA,MAAOC,CAAAA,iBAAP,KAA8B,uCAA9B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,wCAA/B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,yCAAhC,CACA,MAAOC,CAAAA,oBAAP,KAAiC,0CAAjC,CACA,MAAOC,CAAAA,yBAAP,KAAsC,iDAAtC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,yCAAhC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,uCAA9B,C,GAGqBC,CAAAA,Q,gHACjB,kBAAYC,KAAZ,CAAkB,0CACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,OAAO,CAAE,uCADA,CAAb,CAIA,GAAIC,CAAAA,OAAO,CAAG,MAAKH,KAAL,CAAWI,IAAzB,CACA,MAAKC,SAAL,CAAiBF,OAAO,CAACE,SAAzB,CACA,MAAKC,cAAL,CAAsBH,OAAO,CAACG,cAA9B,CACA,MAAKC,SAAL,CAAiBJ,OAAO,CAACI,SAAzB,CACA,MAAKC,cAAL,CAAsBL,OAAO,CAACK,cAA9B,CACA,MAAKC,QAAL,CAAgB,SAACC,KAAD,CAAW,CACvB,GAAIC,CAAAA,IAAI,CAAGD,KAAK,CAACE,aAAN,CAAoBD,IAA/B,CACA,GAAIE,CAAAA,KAAK,CAAGH,KAAK,CAACE,aAAN,CAAoBC,KAAhC,CACA,MAAKC,QAAL,oBAAiBH,IAAjB,CAAwBE,KAAxB,GACH,CAJD,CAXc,aAgBjB,C,0EACc,iBACbE,KAAK,CAAC,KAAKd,KAAL,CAAWC,OAAX,CAAqB,wBAArB,CAAgDc,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,OAAvB,CAA+B,GAA/B,CAAoC,EAApC,CAAjD,CAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAAAG,IAAI,CAAI,CACd,GAAGA,IAAI,CAACC,MAAR,CAAgB,CACd1C,MAAM,CAAC2C,IAAP,CAAY,eAAZ,CAA6B,CAAC,SAAU,SAAX,CAA7B,EACD,CAFD,IAEK,CACD,MAAI,CAACnB,cAAL,CAAoBiB,IAAI,CAACG,KAAL,CAAWC,OAA/B,EACH,CACA,CARD,EASCC,KATD,CASO,SAAAC,GAAG,CAAI,CACV,MAAI,CAACvB,cAAL,CAAoBuB,GAApB,EAEH,CAZD,EAaD,C,uCAEQ,iBACL,GAAI7B,CAAAA,KAAK,CAAG,KAAKA,KAAL,CAAWI,IAAvB,CACA,mBACI,oBAAC,KAAD,EAAO,EAAE,CAAE,KAAKJ,KAAL,CAAW8B,EAAtB,eACI,oBAAC,WAAD,EACI,IAAI,cACA,oBAAC,eAAD,EAAiB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC9B,KAAL,CAAWI,IAAX,CAAgB2B,MAAhB,EAAN,EAA1B,EAFR,2DADJ,cAOI,oBAAC,KAAD,mBACE,oBAAC,UAAD,EACA,QAAQ,KADR,CAEA,SAAS,CAAE,KAAK/B,KAAL,CAAWgC,OAAX,CAAmBC,GAF9B,CAGA,MAAM,cAAE,oBAAC,mBAAD,MAHR,kEADF,CAPJ,cAcI,oBAAC,KAAD,mBACE,oBAAC,UAAD,EACA,MAAM,cAAE,oBAAC,oBAAD,MADR,CAEA,UAAU,KAFV,CAGA,OAAO,CAAE,yBAAMjC,CAAAA,KAAK,CAACkC,OAAN,CAAc,cAAd,CAAN,EAHT,4DADF,cAKE,oBAAC,UAAD,EACA,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAClC,KAAL,CAAWI,IAAX,CAAgB+B,QAAhB,cACb,oBAAC,QAAD,EACA,MAAM,CAAC,UADP,CAEA,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACnC,KAAL,CAAWI,IAAX,CAAgB+B,QAAhB,CAAyB,IAAzB,CAAN,EAFT,CAGA,MAAM,cAAE,oBAAC,yBAAD,EAA2B,KAAK,CAAE,EAAlC,CAAsC,MAAM,CAAE,EAA9C,EAHR,qSADa,CAAN,EADT,CASA,MAAM,cAAE,oBAAC,iBAAD,MATR,uEALF,CAdJ,cA8BI,oBAAC,KAAD,mBACE,oBAAC,UAAD,EACA,QAAQ,KADR,CAEA,SAAS,cAAE,oBAAC,OAAD,MAAU,KAAKnC,KAAL,CAAWgC,OAAX,CAAmBI,OAA7B,CAFX,CAGA,MAAM,cAAE,oBAAC,kBAAD,MAHR,yCADF,cAKE,oBAAC,UAAD,EACA,UAAU,KADV,CAEA,OAAO,CAAE,kBAAM,CACX,MAAI,CAACpC,KAAL,CAAWI,IAAX,CAAgB8B,OAAhB,CAAwB,MAAxB,EACH,CAJD,CAKA,MAAM,cAAE,oBAAC,iBAAD,MALR,wEALF,CA9BJ,cA0CI,oBAAC,KAAD,mBACE,oBAAC,UAAD,EACA,IAAI,CAAC,QADL,CAEA,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC7B,SAAL,cAAe,oBAAC,KAAD,EAC5B,aAAa,CAAC,UADc,CAE5B,OAAO,CAAE,CAAC,CACRgC,KAAK,CAAE,4BADC,CAERC,SAAS,CAAE,IAFH,CAGRC,KAAK,CAAE,QAHC,CAAD,CAIP,CACAF,KAAK,CAAE,iBADP,CAEAC,SAAS,CAAE,IAFX,CAGAE,IAAI,CAAE,aAHN,CAIAC,MAAM,CAAE,wBAAM,CAAA,MAAI,CAACC,aAAL,EAAN,EAJR,CAJO,CAFmB,CAY5B,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACrC,SAAL,CAAe,IAAf,CAAN,EAZmB,eAc5B,yIAd4B,cAe5B,+4BAf4B,CAAf,CAAN,EAFT,CAmBA,MAAM,cAAE,oBAAC,mBAAD,MAnBR,0FADF,CA1CJ,CAgEK,KAAKL,KAAL,CAAWI,IAAX,CAAgBH,KAAhB,CAAsB0C,QAhE3B,CADJ,CAoEH,C,sBAxGiC9D,KAAK,CAAC+D,S,SAAvB7C,Q","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\n\n\nimport { \n    Panel,\n    PanelHeader,\n    Group,\n    Alert,\n    Counter,\n    SimpleCell,\n    Snackbar,\n    PanelHeaderBack,\n    CellButton,\n    } from '@vkontakte/vkui';\n\nimport Icon28DoneOutline from '@vkontakte/icons/dist/28/done_outline';\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\nimport Icon28DeleteOutline from '@vkontakte/icons/dist/28/delete_outline';\nimport Icon28PaletteOutline from '@vkontakte/icons/dist/28/palette_outline';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\nimport Icon28TargetOutline from '@vkontakte/icons/dist/28/target_outline';\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\n\n\nexport default class Settings extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.showAlert = propsbi.showAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n    }\n    deleteAccount(){\n      fetch(this.state.api_url + \"method=account.delete&\" + window.location.search.replace('?', ''))\n      .then(res => res.json())\n      .then(data => {\n      if(data.result) {\n        bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n      }else{\n          this.showErrorAlert(data.error.message)\n      }\n      })\n      .catch(err => {\n          this.showErrorAlert(err)\n\n      })\n    }\n\n    render() {\n        var props = this.props.this;\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderBack onClick={() => this.props.this.goBack()} /> \n                }>\n                    Настройки\n                </PanelHeader>\n                <Group>\n                  <SimpleCell\n                  disabled\n                  indicator={this.props.account.age}\n                  before={<Icon28TargetOutline/>}>Ваш возраст</SimpleCell>\n                  \n                </Group>\n                <Group>\n                  <SimpleCell\n                  before={<Icon28PaletteOutline />}\n                  expandable\n                  onClick={() => props.goPanel('schemechange')}>Смена темы</SimpleCell>\n                  <SimpleCell\n                  onClick={() => this.props.this.setSnack(\n                    <Snackbar\n                    layout=\"vertical\"\n                    onClose={() => this.props.this.setSnack(null)}\n                    before={<Icon20CancelCircleFillRed width={24} height={24} />}\n                  >\n                    Данный раздел ещё не готов для просмотра. Он стесняется :)\n                  </Snackbar>)}\n                  before={<Icon28DoneOutline />}>Верификация</SimpleCell>\n                </Group>\n                <Group>\n                  <SimpleCell\n                  disabled\n                  indicator={<Counter>{this.props.account.balance}</Counter>}\n                  before={<Icon28CoinsOutline />}>Баланс</SimpleCell>\n                  <SimpleCell\n                  expandable\n                  onClick={() => {\n                      this.props.this.goPanel(\"info\");\n                  }}\n                  before={<Icon28InfoOutline />}>О приложении</SimpleCell>\n                </Group>\n                <Group>\n                  <CellButton \n                  mode=\"danger\"\n                  onClick={() => this.setPopout(<Alert\n                    actionsLayout='vertical'\n                    actions={[{\n                      title: 'Нет, я нажал сюда случайно',\n                      autoclose: true,\n                      style: 'cancel'\n                    },{\n                      title: 'Удалить аккаунт',\n                      autoclose: true,\n                      mode: 'destructive',\n                      action: () => this.deleteAccount(),\n                    }]}\n                    onClose={() => this.setPopout(null)}\n                  >\n                    <h2>Внимание, опасность</h2>\n                    <p>Данное действие ведёт к удалению вашего аккаунта: всех ответов, достижений и другой информации, которая сохранена на вашем аккаунте. Вы действительно хотите его удалить?</p>\n                </Alert>)}\n                  before={<Icon28DeleteOutline />}>Удалить аккаунт</CellButton>\n                </Group>\n                {this.props.this.state.snackbar}\n            </Panel>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}