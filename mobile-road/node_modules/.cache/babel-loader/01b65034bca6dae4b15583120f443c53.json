{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\Profile\\\\panels\\\\market.js\";\nimport React from 'react';\nimport { Panel, PanelHeader, Input, Avatar, Button, Header, Div, Snackbar, PanelHeaderBack, Separator, Text, SimpleCell, PanelHeaderButton } from '@vkontakte/vkui';\nimport Icon24Repeat from '@vkontakte/icons/dist/24/repeat';\nimport Icon28MoneyCircleOutline from '@vkontakte/icons/dist/28/money_circle_outline';\nimport Icon28MoneyHistoryBackwardOutline from '@vkontakte/icons/dist/28/money_history_backward_outline';\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\nimport Icon28InfoCircleOutline from '@vkontakte/icons/dist/28/info_circle_outline';\nimport Icon24BlockOutline from '@vkontakte/icons/dist/24/block_outline';\nvar avatars = [\"1.png\", \"2.png\", \"3.png\", \"4.png\", \"5.png\", \"6.png\", \"7.png\", \"8.png\", \"9.png\", \"10.png\", \"11.png\", \"12.png\", \"13.png\", \"14.png\", \"15.png\", \"16.png\", \"17.png\", \"18.png\", \"19.png\", \"20.png\", \"21.png\", \"22.png\", \"23.png\", \"24.png\", \"25.png\", \"26.png\", \"27.png\", \"28.png\", \"29.png\", \"30.png\"];\nconst blueBackground = {\n  backgroundColor: 'var(--accent)'\n};\nexport default class Market extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      changed_id: '',\n      api_url: \"https://xelene.ru/road/php/index.php?\",\n      last_selected: null\n    };\n    var propsbi = this.props.this;\n    this.setPopout = propsbi.setPopout;\n    this.showErrorAlert = propsbi.showErrorAlert;\n    this.showAlert = propsbi.showAlert;\n    this.setActiveModal = propsbi.setActiveModal;\n\n    this.onChange = event => {\n      var name = event.currentTarget.name;\n      var value = event.currentTarget.value;\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  images() {\n    var number = Object.keys(avatars).length;\n    var object = [];\n\n    for (let i = 0; i < number; i++) {\n      object.push( /*#__PURE__*/React.createElement(\"img\", {\n        id: i,\n        onClick: e => this.props.account.avatar.id === i + 1 ? this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n          layout: \"vertical\",\n          onClose: () => this.props.this.setSnack(null),\n          before: /*#__PURE__*/React.createElement(Icon20CancelCircleFillRed, {\n            width: 24,\n            height: 24,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }\n        }, \"\\u0412\\u044B \\u0443\\u0436\\u0435 \\u0438\\u043C\\u0435\\u0435\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0439 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\")) : this.selectImage(e),\n        style: i === 0 ? {\n          marginLeft: \"20px\"\n        } : null,\n        className: \"changes_avatars pointer\",\n        key: i,\n        src: \"https://xelene.ru/road/php/images/avatars/\" + avatars[i],\n        alt: 'ava',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 19\n        }\n      }));\n    }\n\n    return object;\n  }\n\n  selectImage(e) {\n    let number = e.currentTarget.id;\n\n    if (this.state.last_selected !== null) {\n      let last_image = document.getElementById(this.state.last_selected);\n      last_image.className = \"changes_avatars pointer\";\n    }\n\n    let image = document.getElementById(number);\n    image.className = \"changes_avatars select_avatar\";\n    this.setState({\n      last_selected: Number(number)\n    });\n  }\n\n  changeAvatar(last_selected) {\n    fetch(this.state.api_url + \"method=shop.changeAvatar&avatar_id=\" + last_selected + \"&\" + window.location.search.replace('?', '')).then(data => data.json()).then(data => {\n      if (last_selected) {\n        let last_image = document.getElementById(this.state.last_selected);\n        last_image.className = \"changes_avatars\";\n        this.setState({\n          last_selected: null\n        });\n      }\n\n      if (data.result) {\n        this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n          layout: \"vertical\",\n          onClose: () => this.props.this.setSnack(null),\n          before: /*#__PURE__*/React.createElement(Avatar, {\n            size: 24,\n            style: blueBackground,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(Icon16CheckCircle, {\n            fill: \"#fff\",\n            width: 14,\n            height: 14,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 72\n            }\n          })),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }\n        }, \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0441\\u043C\\u0435\\u043D\\u0435\\u043D\"));\n        setTimeout(() => {\n          this.props.this.ReloadProfile();\n        }, 4000);\n      } else {\n        this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n          layout: \"vertical\",\n          onClose: () => this.props.this.setSnack(null),\n          before: /*#__PURE__*/React.createElement(Icon20CancelCircleFillRed, {\n            width: 24,\n            height: 24,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 21\n          }\n        }, data.error.message));\n      }\n    }).catch(err => {\n      this.showErrorAlert(err);\n    });\n  }\n\n  ChangeId() {\n    if (this.state.changed_id) {\n      fetch(this.state.api_url + \"method=shop.changeId&change_id=\" + this.state.changed_id + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n        if (data.result) {\n          this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n            layout: \"vertical\",\n            onClose: () => this.props.this.setSnack(null),\n            before: /*#__PURE__*/React.createElement(Avatar, {\n              size: 24,\n              style: blueBackground,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 27\n              }\n            }, /*#__PURE__*/React.createElement(Icon16CheckCircle, {\n              fill: \"#fff\",\n              width: 14,\n              height: 14,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 68\n              }\n            })),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }\n          }, \"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0441\\u043C\\u0435\\u043D\\u0438\\u043B\\u0438 \\u043D\\u0438\\u043A\"));\n          setTimeout(() => {\n            this.props.this.ReloadProfile();\n          }, 4000);\n        } else {\n          this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n            layout: \"vertical\",\n            onClose: () => this.props.this.setSnack(null),\n            before: /*#__PURE__*/React.createElement(Icon20CancelCircleFillRed, {\n              width: 24,\n              height: 24,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 25\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }\n          }, data.error.message));\n        }\n      }).catch(err => {\n        this.showErrorAlert(err);\n      });\n    } else {\n      this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n        layout: \"vertical\",\n        onClose: () => this.props.this.setSnack(null),\n        before: /*#__PURE__*/React.createElement(Icon20CancelCircleFillRed, {\n          width: 24,\n          height: 24,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 21\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }\n      }, \"\\u0412\\u044B \\u043D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043B\\u0438 \\u0436\\u0435\\u043B\\u0430\\u0435\\u043C\\u044B\\u0439 \\u043D\\u0438\\u043A\"));\n    }\n  }\n\n  ChangeId() {\n    if (this.state.changed_id) {\n      fetch(this.state.api_url + \"method=shop.resetId&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n        if (data.result) {\n          this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n            layout: \"vertical\",\n            onClose: () => this.props.this.setSnack(null),\n            before: /*#__PURE__*/React.createElement(Avatar, {\n              size: 24,\n              style: blueBackground,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 27\n              }\n            }, /*#__PURE__*/React.createElement(Icon16CheckCircle, {\n              fill: \"#fff\",\n              width: 14,\n              height: 14,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 68\n              }\n            })),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }\n          }, \"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0443\\u0434\\u0430\\u043B\\u0438\\u043B\\u0438 \\u043D\\u0438\\u043A\"));\n          setTimeout(() => {\n            this.props.this.ReloadProfile();\n          }, 4000);\n        } else {\n          this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n            layout: \"vertical\",\n            onClose: () => this.props.this.setSnack(null),\n            before: /*#__PURE__*/React.createElement(Icon20CancelCircleFillRed, {\n              width: 24,\n              height: 24,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 25\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }\n          }, data.error.message));\n        }\n      }).catch(err => {\n        this.showErrorAlert(err);\n      });\n    } else {\n      this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n        layout: \"vertical\",\n        onClose: () => this.props.this.setSnack(null),\n        before: /*#__PURE__*/React.createElement(Icon20CancelCircleFillRed, {\n          width: 24,\n          height: 24,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 21\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }\n      }, \"\\u0412\\u044B \\u043D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043B\\u0438 \\u0436\\u0435\\u043B\\u0430\\u0435\\u043C\\u044B\\u0439 \\u043D\\u0438\\u043A\"));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Panel, {\n      id: this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PanelHeader, {\n      left: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PanelHeaderBack, {\n        onClick: () => window.history.back(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(PanelHeaderButton, {\n        href: \"https://vk.com/@jedi_road-sistema-nachisleniya-ballov-i-shop\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Icon28InfoCircleOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 27\n        }\n      })), \" \"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }\n    }, \"\\u041C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\"), /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Text, {\n      weight: \"medium\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 19\n      }\n    }, \"\\u041C\\u043E\\u043D\\u0435\\u0442\\u043A\\u0438 \\u2014 \\u044D\\u0442\\u043E \\u0443\\u043D\\u0438\\u0432\\u0435\\u0440\\u0441\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0443\\u0441\\u043B\\u043E\\u0432\\u043D\\u0430\\u044F \\u0435\\u0434\\u0438\\u043D\\u0438\\u0446\\u0430 \\u0434\\u043B\\u044F \\u043F\\u0440\\u0438\\u043E\\u0431\\u0440\\u0435\\u0442\\u0435\\u043D\\u0438\\u044F \\u0440\\u0430\\u0437\\u043B\\u0438\\u0447\\u043D\\u044B\\u0445 \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432 \\u0432 \\u043C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\\u0435\")), /*#__PURE__*/React.createElement(SimpleCell, {\n      disabled: true,\n      indicator: this.props.account.balance,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }, \"\\u0412\\u0430\\u0448 \\u0431\\u0430\\u043B\\u0430\\u043D\\u0441\"), /*#__PURE__*/React.createElement(Separator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"scrollImages\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }\n    }, this.images()), /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        this.changeAvatar(Number(this.state.last_selected) + 1);\n      },\n      before: /*#__PURE__*/React.createElement(Icon28MoneyCircleOutline, {\n        style: {\n          marginRight: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 29\n        }\n      }),\n      size: \"xl\",\n      mode: \"secondary\",\n      disabled: this.state.last_selected !== null ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430 1 \\u043C\\u043E\\u043D\\u0435\\u0442\\u043A\\u0443\")), /*#__PURE__*/React.createElement(Separator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0441\\u0432\\u043E\\u0439 \\u043D\\u0438\\u043A\"), /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0436\\u0435\\u043B\\u0430\\u0435\\u043C\\u044B\\u0439 \\u043D\\u0438\\u043A (\\u043C\\u0430\\u043A\\u0441. 10 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432)\",\n      onChange: e => this.onChange(e),\n      value: this.state.changed_id,\n      maxLength: \"10\",\n      name: \"changed_id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        this.ChangeId(this.state.changed_id);\n      },\n      before: /*#__PURE__*/React.createElement(Icon24Repeat, {\n        width: 28,\n        height: 28,\n        style: {\n          marginRight: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 29\n        }\n      }),\n      size: \"xl\",\n      mode: \"secondary\",\n      disabled: this.state.changed_id <= 0 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430 2 \\u043C\\u043E\\u043D\\u0435\\u0442\\u043A\\u0438\")), /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        this.ResetId();\n      },\n      before: /*#__PURE__*/React.createElement(Icon24BlockOutline, {\n        width: 28,\n        height: 28,\n        style: {\n          marginRight: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 27\n        }\n      }),\n      size: \"xl\",\n      mode: \"destructive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 19\n      }\n    }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043D\\u0438\\u043A\")), /*#__PURE__*/React.createElement(Separator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }\n    }, \"\\u041E\\u043F\\u0446\\u0438\\u0438\"), /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setActiveModal('send'),\n      before: /*#__PURE__*/React.createElement(Icon28MoneyHistoryBackwardOutline, {\n        style: {\n          marginRight: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 85\n        }\n      }),\n      size: \"xl\",\n      mode: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 25\n      }\n    }, \"\\u041F\\u0435\\u0440\\u0435\\u0432\\u0435\\u0441\\u0442\\u0438\")), this.props.this.state.snackbar);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/Profile/panels/market.js"],"names":["React","Panel","PanelHeader","Input","Avatar","Button","Header","Div","Snackbar","PanelHeaderBack","Separator","Text","SimpleCell","PanelHeaderButton","Icon24Repeat","Icon28MoneyCircleOutline","Icon28MoneyHistoryBackwardOutline","Icon16CheckCircle","Icon20CancelCircleFillRed","Icon28InfoCircleOutline","Icon24BlockOutline","avatars","blueBackground","backgroundColor","Market","Component","constructor","props","state","changed_id","api_url","last_selected","propsbi","this","setPopout","showErrorAlert","showAlert","setActiveModal","onChange","event","name","currentTarget","value","setState","images","number","Object","keys","length","object","i","push","e","account","avatar","id","setSnack","selectImage","marginLeft","last_image","document","getElementById","className","image","Number","changeAvatar","fetch","window","location","search","replace","then","data","json","result","setTimeout","ReloadProfile","error","message","catch","err","ChangeId","res","render","history","back","balance","marginRight","ResetId","snackbar"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n    Panel,\n    PanelHeader,\n    Input,\n    Avatar,\n    Button,\n    Header,\n    Div,\n    Snackbar,\n    PanelHeaderBack,\n    Separator,\n    Text,\n    SimpleCell,\n    PanelHeaderButton\n    } from '@vkontakte/vkui';\n\nimport Icon24Repeat from '@vkontakte/icons/dist/24/repeat';\nimport Icon28MoneyCircleOutline from '@vkontakte/icons/dist/28/money_circle_outline';\n\nimport Icon28MoneyHistoryBackwardOutline from '@vkontakte/icons/dist/28/money_history_backward_outline';\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\nimport Icon28InfoCircleOutline from '@vkontakte/icons/dist/28/info_circle_outline';\nimport Icon24BlockOutline from '@vkontakte/icons/dist/24/block_outline';\n\nvar avatars = [\n    \"1.png\",\n    \"2.png\",\n    \"3.png\",\n    \"4.png\",\n    \"5.png\",\n    \"6.png\",\n    \"7.png\",\n    \"8.png\",\n    \"9.png\",\n    \"10.png\",\n    \"11.png\",\n    \"12.png\",\n    \"13.png\",\n    \"14.png\",\n    \"15.png\",\n    \"16.png\",\n    \"17.png\",\n    \"18.png\",\n    \"19.png\",\n    \"20.png\",\n    \"21.png\",\n    \"22.png\",\n    \"23.png\",\n    \"24.png\",\n    \"25.png\",\n    \"26.png\",\n    \"27.png\",\n    \"28.png\",\n    \"29.png\",\n    \"30.png\",\n\n]\n\nconst blueBackground = {\n    backgroundColor: 'var(--accent)'\n  };\nexport default class Market extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            changed_id: '',\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n            last_selected: null,\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.showAlert = propsbi.showAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n    }\n    images() {\n      var number = Object.keys(avatars).length;\n      var object = []\n          for (let i = 0; i < number; i++ ) {\n              object.push(\n                  <img id={i}\n                  onClick={(e) => (this.props.account.avatar.id === i +1) ? this.props.this.setSnack(\n                    <Snackbar\n                    layout=\"vertical\"\n                    onClose={() => this.props.this.setSnack(null)}\n                    before={<Icon20CancelCircleFillRed width={24} height={24} />}\n                  >\n                    Вы уже имеете данный аватар\n                  </Snackbar>) : this.selectImage(e)} \n                  style={i === 0 ? {marginLeft: \"20px\"} : null} \n                  className=\"changes_avatars pointer\" key={i} \n                  src={\"https://xelene.ru/road/php/images/avatars/\" + avatars[i]}\n                  alt={'ava'} />\n              )\n          }\n      \n      return(object)\n  }\n  selectImage(e) {\n    let number = e.currentTarget.id;\n    if(this.state.last_selected !== null){\n      let last_image = document.getElementById(this.state.last_selected)\n      last_image.className = \"changes_avatars pointer\"\n    }\n    let image = document.getElementById(number);\n    \n    image.className = \"changes_avatars select_avatar\"\n    this.setState({last_selected: Number(number)});\n  }\n    changeAvatar(last_selected) {\n        fetch(this.state.api_url + \"method=shop.changeAvatar&avatar_id=\" + last_selected + \"&\" + window.location.search.replace('?', ''))\n        .then(data => data.json())\n        .then(data => {\n          if(last_selected){\n            let last_image = document.getElementById(this.state.last_selected)\n            last_image.className = \"changes_avatars\"\n            this.setState({last_selected: null})\n          }\n          \n          \n              if(data.result){\n                  this.props.this.setSnack( \n                    <Snackbar\n                      layout=\"vertical\"\n                      onClose={() => this.props.this.setSnack(null)}\n                      before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n                    >\n                      Аватар успешно сменен\n                    </Snackbar>\n                  )\n\n                  setTimeout(() => {\n                    this.props.this.ReloadProfile();\n                  }, 4000)\n                }else{\n                  this.props.this.setSnack(\n                    <Snackbar\n                    layout=\"vertical\"\n                    onClose={() => this.props.this.setSnack(null)}\n                    before={<Icon20CancelCircleFillRed width={24} height={24} />}\n                  >\n                    {data.error.message}\n                  </Snackbar>);\n                }\n            })\n            .catch(err => {\n                this.showErrorAlert(err)\n        })\n        \n    }\n    ChangeId() {\n        if(this.state.changed_id){ \n          fetch(this.state.api_url + \"method=shop.changeId&change_id=\" + this.state.changed_id + \"&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n                this.props.this.setSnack(\n                <Snackbar\n                  layout=\"vertical\"\n                  onClose={() => this.props.this.setSnack(null)}\n                  before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n                >\n                  Вы успешно сменили ник\n                </Snackbar>\n              )\n              setTimeout(() => {\n                this.props.this.ReloadProfile();\n              }, 4000)\n            } else {\n              this.props.this.setSnack(\n                <Snackbar\n                layout=\"vertical\"\n                onClose={() => this.props.this.setSnack(null)}\n                before={<Icon20CancelCircleFillRed width={24} height={24} />}\n              >\n                {data.error.message}\n              </Snackbar>);\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert(err)\n          })\n        } else {\n          this.props.this.setSnack(\n            <Snackbar\n            layout=\"vertical\"\n            onClose={() => this.props.this.setSnack(null)}\n            before={<Icon20CancelCircleFillRed width={24} height={24} />}\n          >\n            Вы не указали желаемый ник\n          </Snackbar>);\n        }\n      }\n      ChangeId() {\n        if(this.state.changed_id){ \n          fetch(this.state.api_url + \"method=shop.resetId&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n                this.props.this.setSnack(\n                <Snackbar\n                  layout=\"vertical\"\n                  onClose={() => this.props.this.setSnack(null)}\n                  before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n                >\n                  Вы успешно удалили ник\n                </Snackbar>\n              )\n              setTimeout(() => {\n                this.props.this.ReloadProfile();\n              }, 4000)\n            } else {\n              this.props.this.setSnack(\n                <Snackbar\n                layout=\"vertical\"\n                onClose={() => this.props.this.setSnack(null)}\n                before={<Icon20CancelCircleFillRed width={24} height={24} />}\n              >\n                {data.error.message}\n              </Snackbar>);\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert(err)\n          })\n        } else {\n          this.props.this.setSnack(\n            <Snackbar\n            layout=\"vertical\"\n            onClose={() => this.props.this.setSnack(null)}\n            before={<Icon20CancelCircleFillRed width={24} height={24} />}\n          >\n            Вы не указали желаемый ник\n          </Snackbar>);\n        }\n      }\n\n    render() {\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <><PanelHeaderBack onClick={() => window.history.back()} />\n                        <PanelHeaderButton \n                        href='https://vk.com/@jedi_road-sistema-nachisleniya-ballov-i-shop'\n                        target=\"_blank\" rel=\"noopener noreferrer\">\n                          <Icon28InfoCircleOutline />\n                        </PanelHeaderButton> </>\n                }>\n                    Магазин\n                </PanelHeader>\n                <Div>\n                  <Text weight='medium'>Монетки — это универсальная условная единица для приобретения различных товаров в магазине</Text>\n                </Div>\n                <SimpleCell disabled indicator={this.props.account.balance}>Ваш баланс</SimpleCell>\n                <Separator />\n                <Div>\n                  \n                </Div>\n                <Header>Сменить аватар</Header>\n                <div className=\"scrollImages\">\n                    {this.images()}\n                </div>\n                <Div>\n                    <Button onClick={() => {this.changeAvatar(Number(this.state.last_selected) + 1)}} \n                    before={<Icon28MoneyCircleOutline \n                    style={{marginRight: \"5px\"}}/>} \n                    size=\"xl\" \n                    mode=\"secondary\"\n                    disabled={(this.state.last_selected !== null) ? false : true}>Сменить за 1 монетку</Button>\n                </Div>\n                <Separator />\n                <Header>Сменить свой ник</Header>\n                <Input placeholder=\"Введите желаемый ник (макс. 10 символов)\" onChange={(e) => this.onChange(e)} value={this.state.changed_id} maxLength=\"10\" name=\"changed_id\"/>\n                <Div>\n                    <Button onClick={() => {this.ChangeId(this.state.changed_id)}} \n                    before={<Icon24Repeat width={28} height={28} style={{marginRight: \"5px\"}}/>}\n                    size=\"xl\" \n                    mode=\"secondary\"\n                    disabled={(this.state.changed_id <= 0) ? true : false}>Сменить за 2 монетки</Button>\n                </Div>\n                <Div>\n                  <Button onClick={() => {this.ResetId()}} \n                  before={<Icon24BlockOutline width={28} height={28} style={{marginRight: \"5px\"}}/>}\n                  size=\"xl\" \n                  mode='destructive'>Удалить ник</Button>\n                </Div>\n                    \n                \n                {/* <Group separator=\"hide\" header={<Header>Сброс статистики</Header>}>\n                    <Div>\n                        <Button onClick={() => props.this.deleteStats()} before={<Icon28GridSquareOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Сбросить за 150 монеток</Button>\n                    </Div>\n                </Group> */}\n                <Separator />\n                <Header>Опции</Header>\n                    <Div>\n                        <Button onClick={() => this.setActiveModal('send')} before={<Icon28MoneyHistoryBackwardOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Перевести</Button>\n                        {/* <br/>\n                        <Button onClick={() => props.this.goVitas()} before={<Icon28GlobeOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Обучать Витька</Button> */}\n                    </Div>\n                {this.props.this.state.snackbar}\n                {/* <Group separator=\"hide\" header={<Header>Обнулить статистику</Header>}>\n                    <Div>\n                        Мы обнулим вам встатистику, число всех ответов станет равным 0.\n                    </Div>\n                </Group>\n                <Div>\n                    <Button before={<Icon28MoneyCircleOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Купить за 350 монеток</Button>\n                </Div>\n                <Group separator=\"hide\" header={<Header>Сменить id Агента</Header>}>\n                    <Div>\n                        Установите себе другой id и будьте заметнее!\n                    </Div>\n                </Group>\n                <Div>\n                    <Button before={<Icon28MoneyCircleOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Купить за 700 монеток</Button>\n                </Div> */}\n            </Panel>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}