{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\Profile\\\\panels\\\\market.js\";\nimport React from 'react';\nimport { Panel, PanelHeader, PanelHeaderButton, ScreenSpinner, Group, Input, Avatar, Button, Alert, Placeholder, Separator, PullToRefresh, PanelSpinner, InfoRow, Header, Counter, SimpleCell, PromoBanner, FixedLayout, Cell, Div, HorizontalScroll, View, Switch, Snackbar, PanelHeaderBack } from '@vkontakte/vkui';\nimport Icon24Repeat from '@vkontakte/icons/dist/24/repeat';\nimport Icon28MoneyCircleOutline from '@vkontakte/icons/dist/28/money_circle_outline';\nimport Icon28GlobeOutline from '@vkontakte/icons/dist/28/globe_outline';\nimport Icon28MoneyHistoryBackwardOutline from '@vkontakte/icons/dist/28/money_history_backward_outline';\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\nimport Icon28GridSquareOutline from '@vkontakte/icons/dist/28/grid_square_outline';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\nvar avatars = [\"1.png\", \"2.png\", \"3.png\", \"4.png\", \"5.png\", \"6.png\", \"7.png\", \"8.png\", \"9.png\", \"10.png\", \"11.png\", \"12.png\", \"13.png\", \"14.png\", \"15.png\", \"16.png\", \"17.png\", \"18.png\", \"19.png\", \"20.png\", \"21.png\", \"22.png\", \"23.png\", \"24.png\", \"25.png\", \"26.png\"];\nvar last_selected = 0;\n\nfunction selectImage(e) {\n  let number = e.currentTarget.id;\n  let last_image = document.getElementById(last_selected);\n  let image = document.getElementById(number);\n  last_image.className = \"changes_avatars\";\n  image.className = \"changes_avatars select_avatar\";\n  last_selected = Number(number);\n}\n\nfunction images() {\n  var number = Object.keys(avatars).length;\n  var object = [];\n\n  for (let i = 0; i < number; i++) {\n    object.push( /*#__PURE__*/React.createElement(\"img\", {\n      id: i,\n      onClick: e => selectImage(e),\n      style: i === 0 ? {\n        marginLeft: \"20px\"\n      } : null,\n      className: \"changes_avatars\",\n      key: i,\n      src: \"https://xelene.ru/road/php/images/avatars/\" + avatars[i],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  return object;\n}\n\nconst blueBackground = {\n  backgroundColor: 'var(--accent)'\n};\nconst redBackground = {\n  backgroundColor: 'var(--destructive)'\n};\nexport default class Market extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      changed_id: 0,\n      api_url: \"https://xelene.ru/road/php/index.php?\"\n    };\n    var props = this.props.this;\n    this.setPopout = props.setPopout;\n    this.showErrorAlert = props.showErrorAlert;\n    this.showAlert = props.showAlert;\n    this.setActiveModal = props.setActiveModal;\n\n    this.onChange = event => {\n      var name = event.currentTarget.name;\n      var value = event.currentTarget.value;\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  changeAvatar(last_selected) {\n    fetch(this.state.api_url + \"method=shop.changeAvatar&avatar_id=\" + last_selected + \"&\" + window.location.search.replace('?', '')).then(data => data.json()).then(data => {\n      if (data.result) {\n        this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n          layout: \"vertical\",\n          onClose: () => this.props.this.setSnack(null),\n          before: /*#__PURE__*/React.createElement(Avatar, {\n            size: 24,\n            style: blueBackground,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(Icon16CheckCircle, {\n            fill: \"#fff\",\n            width: 14,\n            height: 14,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 72\n            }\n          })),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }\n        }, \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0441\\u043C\\u0435\\u043D\\u0435\\u043D\"));\n        setTimeout(() => {\n          this.props.this.ReloadProfile();\n        }, 4000);\n      } else {\n        this.setState({\n          snackbar: /*#__PURE__*/React.createElement(Snackbar, {\n            layout: \"vertical\",\n            onClose: () => this.props.this.setSnack(null),\n            before: /*#__PURE__*/React.createElement(Icon20CancelCircleFillRed, {\n              width: 24,\n              height: 24,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 29\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 21\n            }\n          }, data.error.message)\n        });\n      }\n    }).catch(err => {\n      this.showErrorAlert(err);\n    });\n  }\n\n  ChangeId() {\n    if (this.state.changed_id) {\n      this.setPopout( /*#__PURE__*/React.createElement(ScreenSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 26\n        }\n      }));\n      fetch(this.state.api_url + \"method=shop.changeId&change_id=\" + this.state.changed_id + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n        if (data.result) {\n          this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n            layout: \"vertical\",\n            onClose: () => this.props.this.setSnack(null),\n            before: /*#__PURE__*/React.createElement(Avatar, {\n              size: 24,\n              style: blueBackground,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 27\n              }\n            }, /*#__PURE__*/React.createElement(Icon16CheckCircle, {\n              fill: \"#fff\",\n              width: 14,\n              height: 14,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 68\n              }\n            })),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }\n          }, \"id \\u0410\\u0433\\u0435\\u043D\\u0442\\u0430 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0441\\u043C\\u0435\\u043D\\u0435\\u043D\"));\n          this.setPopout(null);\n          setTimeout(() => {\n            this.props.this.ReloadProfile();\n          }, 4000);\n          this.props.this.goBack();\n        } else {\n          this.showErrorAlert(data.error.message); //   this.props.this.setPopout(\n          //     <Alert\n          //         actions={[{\n          //         title: 'Отмена',\n          //         autoclose: true,\n          //         mode: 'cancel'\n          //         }]}\n          //         onClose={() => this.props.this.setPopout(null)}\n          //     >\n          //       <h2>Ошибка</h2>\n          //       {<p>{data.error.message}</p>}\n          //     </Alert>\n          // )\n        }\n      }).catch(err => {\n        this.showErrorAlert(err);\n      });\n    } else {\n      this.props.this.setSnack( /*#__PURE__*/React.createElement(Snackbar, {\n        layout: \"vertical\",\n        onClose: () => this.props.this.setSnack(null),\n        before: /*#__PURE__*/React.createElement(Icon20CancelCircleFillRed, {\n          width: 24,\n          height: 24,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 21\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }\n      }, \"\\u0412\\u044B \\u043D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043B\\u0438 \\u0436\\u0435\\u043B\\u0430\\u0435\\u043C\\u044B\\u0439 id\"));\n    }\n  }\n\n  render() {\n    var props = this.props.this;\n    return /*#__PURE__*/React.createElement(Panel, {\n      id: this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PanelHeader, {\n      left: /*#__PURE__*/React.createElement(PanelHeaderBack, {\n        onClick: () => this.props.this.goBack(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }\n    }, \"\\u041C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\"), /*#__PURE__*/React.createElement(Group, {\n      separator: \"hide\",\n      header: /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 49\n        }\n      }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"scrollImages\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 25\n      }\n    }, images()), /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.changeAvatar(last_selected + 1),\n      before: /*#__PURE__*/React.createElement(Icon28MoneyCircleOutline, {\n        style: {\n          marginRight: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 98\n        }\n      }),\n      size: \"xl\",\n      mode: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 29\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430 300 \\u043C\\u043E\\u043D\\u0435\\u0442\\u043E\\u043A\"))), /*#__PURE__*/React.createElement(Group, {\n      separator: \"hide\",\n      header: /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 49\n        }\n      }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C id \\u0430\\u0433\\u0435\\u043D\\u0442\\u0430\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 id\",\n      onChange: e => this.onChange(e),\n      value: this.state.changed_id,\n      maxLength: \"10\",\n      name: \"changed_id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.ChangeId(last_selected + 1),\n      before: /*#__PURE__*/React.createElement(Icon24Repeat, {\n        width: 28,\n        height: 28,\n        style: {\n          marginRight: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 90\n        }\n      }),\n      size: \"xl\",\n      mode: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 25\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430 500 \\u043C\\u043E\\u043D\\u0435\\u0442\\u043E\\u043A\"))), /*#__PURE__*/React.createElement(Group, {\n      separator: \"hide\",\n      header: /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 49\n        }\n      }, \"\\u041E\\u043F\\u0446\\u0438\\u0438\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setActiveModal('send'),\n      before: /*#__PURE__*/React.createElement(Icon28MoneyHistoryBackwardOutline, {\n        style: {\n          marginRight: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 85\n        }\n      }),\n      size: \"xl\",\n      mode: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    }, \"\\u041F\\u0435\\u0440\\u0435\\u0432\\u0435\\u0441\\u0442\\u0438\"))), this.props.this.state.snackbar);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/Profile/panels/market.js"],"names":["React","Panel","PanelHeader","PanelHeaderButton","ScreenSpinner","Group","Input","Avatar","Button","Alert","Placeholder","Separator","PullToRefresh","PanelSpinner","InfoRow","Header","Counter","SimpleCell","PromoBanner","FixedLayout","Cell","Div","HorizontalScroll","View","Switch","Snackbar","PanelHeaderBack","Icon24Repeat","Icon28MoneyCircleOutline","Icon28GlobeOutline","Icon28MoneyHistoryBackwardOutline","Icon24BrowserBack","Icon16CheckCircle","Icon28GridSquareOutline","Icon20CancelCircleFillRed","avatars","last_selected","selectImage","e","number","currentTarget","id","last_image","document","getElementById","image","className","Number","images","Object","keys","length","object","i","push","marginLeft","blueBackground","backgroundColor","redBackground","Market","Component","constructor","props","state","changed_id","api_url","this","setPopout","showErrorAlert","showAlert","setActiveModal","onChange","event","name","value","setState","changeAvatar","fetch","window","location","search","replace","then","data","json","result","setSnack","setTimeout","ReloadProfile","snackbar","error","message","catch","err","ChangeId","res","goBack","render","marginRight"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n    Panel,\n    PanelHeader,\n    PanelHeaderButton,\n    ScreenSpinner,\n\n    Group,\n    Input,\n    Avatar,\n    Button,\n    Alert,\n    Placeholder,\n    Separator,\n    PullToRefresh,\n    PanelSpinner,\n    InfoRow,\n    Header,\n    Counter,\n    SimpleCell,\n    PromoBanner,\n    FixedLayout,\n    Cell,\n    Div,\n    HorizontalScroll,\n    View,\n    Switch,\n    Snackbar,\n    PanelHeaderBack\n    } from '@vkontakte/vkui';\n\nimport Icon24Repeat from '@vkontakte/icons/dist/24/repeat';\nimport Icon28MoneyCircleOutline from '@vkontakte/icons/dist/28/money_circle_outline';\nimport Icon28GlobeOutline from '@vkontakte/icons/dist/28/globe_outline';\n\nimport Icon28MoneyHistoryBackwardOutline from '@vkontakte/icons/dist/28/money_history_backward_outline';\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\nimport Icon28GridSquareOutline from '@vkontakte/icons/dist/28/grid_square_outline';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\n\nvar avatars = [\n    \"1.png\",\n    \"2.png\",\n    \"3.png\",\n    \"4.png\",\n    \"5.png\",\n    \"6.png\",\n    \"7.png\",\n    \"8.png\",\n    \"9.png\",\n    \"10.png\",\n    \"11.png\",\n    \"12.png\",\n    \"13.png\",\n    \"14.png\",\n    \"15.png\",\n    \"16.png\",\n    \"17.png\",\n    \"18.png\",\n    \"19.png\",\n    \"20.png\",\n    \"21.png\",\n    \"22.png\",\n    \"23.png\",\n    \"24.png\",\n    \"25.png\",\n    \"26.png\",\n\n]\n\nvar last_selected = 0\n\nfunction selectImage(e) {\n    let number = e.currentTarget.id;\n    let last_image = document.getElementById(last_selected)\n    let image = document.getElementById(number);\n    last_image.className = \"changes_avatars\"\n    image.className = \"changes_avatars select_avatar\"\n    last_selected = Number(number)\n}\n\nfunction images() {\n    var number = Object.keys(avatars).length;\n    var object = []\n        for (let i = 0; i < number; i++ ) {\n            object.push(\n                <img id={i} onClick={(e) => selectImage(e)} style={i === 0 ? {marginLeft: \"20px\"} : null} className=\"changes_avatars\" key={i} src={\"https://xelene.ru/road/php/images/avatars/\" + avatars[i]}/>\n            )\n        }\n    \n    return(object)\n}\nconst blueBackground = {\n    backgroundColor: 'var(--accent)'\n  };\n  const redBackground = {\n    backgroundColor: 'var(--destructive)'\n  };\n  \nexport default class Market extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            changed_id:0,\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n\n        }\n        var props = this.props.this;\n        this.setPopout = props.setPopout;\n        this.showErrorAlert = props.showErrorAlert;\n        this.showAlert = props.showAlert;\n        this.setActiveModal = props.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n    }\n    changeAvatar(last_selected) {\n        fetch(this.state.api_url + \"method=shop.changeAvatar&avatar_id=\" + last_selected + \"&\" + window.location.search.replace('?', ''))\n        .then(data => data.json())\n        .then(data => {\n              if(data.result){\n                  this.props.this.setSnack( \n                    <Snackbar\n                      layout=\"vertical\"\n                      onClose={() => this.props.this.setSnack(null)}\n                      before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n                    >\n                      Аватар успешно сменен\n                    </Snackbar>\n                  )\n\n                  setTimeout(() => {\n                    this.props.this.ReloadProfile();\n                  }, 4000)\n                }else{\n                  this.setState({snackbar: \n                    <Snackbar\n                    layout=\"vertical\"\n                    onClose={() => this.props.this.setSnack(null)}\n                    before={<Icon20CancelCircleFillRed width={24} height={24} />}\n                  >\n                    {data.error.message}\n                  </Snackbar>});\n                }\n            })\n            .catch(err => {\n                this.showErrorAlert(err)\n        })\n    }\n    ChangeId() {\n        if(this.state.changed_id){ \n          this.setPopout(<ScreenSpinner/>)\n          fetch(this.state.api_url + \"method=shop.changeId&change_id=\" + this.state.changed_id + \"&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n                this.props.this.setSnack(\n                <Snackbar\n                  layout=\"vertical\"\n                  onClose={() => this.props.this.setSnack(null)}\n                  before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n                >\n                  id Агента успешно сменен\n                </Snackbar>\n              )\n              this.setPopout(null)\n              setTimeout(() => {\n                this.props.this.ReloadProfile();\n              }, 4000)\n              this.props.this.goBack()\n            } else {\n                this.showErrorAlert(data.error.message)\n              //   this.props.this.setPopout(\n              //     <Alert\n              //         actions={[{\n              //         title: 'Отмена',\n              //         autoclose: true,\n              //         mode: 'cancel'\n              //         }]}\n              //         onClose={() => this.props.this.setPopout(null)}\n              //     >\n              //       <h2>Ошибка</h2>\n              //       {<p>{data.error.message}</p>}\n              //     </Alert>\n              // )\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert(err)\n          })\n        } else {\n          this.props.this.setSnack(\n            <Snackbar\n            layout=\"vertical\"\n            onClose={() => this.props.this.setSnack(null)}\n            before={<Icon20CancelCircleFillRed width={24} height={24} />}\n          >\n            Вы не указали желаемый id\n          </Snackbar>);\n        }\n      }\n\n    render() {\n        var props = this.props.this;\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderBack onClick={() => this.props.this.goBack()} /> \n                }>\n                    Магазин\n                </PanelHeader>\n                <Group separator=\"hide\" header={<Header>Сменить аватар</Header>}>\n                        <div className=\"scrollImages\">\n                            {images()}\n                        </div>\n                        <Div>\n                            <Button onClick={() => this.changeAvatar(last_selected + 1)} before={<Icon28MoneyCircleOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Сменить за 300 монеток</Button>\n                        </Div>\n                </Group>\n                <Group separator=\"hide\" header={<Header>Сменить id агента</Header>}>\n                    <Div>\n                        <Input placeholder=\"Введите id\" onChange={(e) => this.onChange(e)} value={this.state.changed_id} maxLength=\"10\" name=\"changed_id\"/>\n                        <br/>\n                        <Button onClick={() => this.ChangeId(last_selected + 1)} before={<Icon24Repeat width={28} height={28} style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Сменить за 500 монеток</Button>\n                    </Div>\n                </Group>\n                {/* <Group separator=\"hide\" header={<Header>Сброс статистики</Header>}>\n                    <Div>\n                        <Button onClick={() => props.this.deleteStats()} before={<Icon28GridSquareOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Сбросить за 150 монеток</Button>\n                    </Div>\n                </Group> */}\n                <Group separator=\"hide\" header={<Header>Опции</Header>}>\n                    <Div>\n                        <Button onClick={() => this.setActiveModal('send')} before={<Icon28MoneyHistoryBackwardOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Перевести</Button>\n                        {/* <br/>\n                        <Button onClick={() => props.this.goVitas()} before={<Icon28GlobeOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Обучать Витька</Button> */}\n                    </Div>\n                </Group>\n                {this.props.this.state.snackbar}\n                {/* <Group separator=\"hide\" header={<Header>Обнулить статистику</Header>}>\n                    <Div>\n                        Мы обнулим вам встатистику, число всех ответов станет равным 0.\n                    </Div>\n                </Group>\n                <Div>\n                    <Button before={<Icon28MoneyCircleOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Купить за 350 монеток</Button>\n                </Div>\n                <Group separator=\"hide\" header={<Header>Сменить id Агента</Header>}>\n                    <Div>\n                        Установите себе другой id и будьте заметнее!\n                    </Div>\n                </Group>\n                <Div>\n                    <Button before={<Icon28MoneyCircleOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Купить за 700 монеток</Button>\n                </Div> */}\n            </Panel>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}