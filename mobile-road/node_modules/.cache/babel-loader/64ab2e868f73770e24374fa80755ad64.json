{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Panel,PanelHeader,ScreenSpinner,Separator,Header,PanelHeaderBack,Radio,FormLayout}from'@vkontakte/vkui';import Message from'../../../components/message';import avaUser from'../../../images/user.jpg';import avaAgent from'../../../images/schemeagent.jpg';var SchemeChange=/*#__PURE__*/function(_React$Component){_inherits(SchemeChange,_React$Component);var _super=_createSuper(SchemeChange);function SchemeChange(props){var _this;_classCallCheck(this,SchemeChange);_this=_super.call(this,props);_this.state={api_url:\"https://xelene.ru/road/php/index.php?\"};var propsbi=_this.props.this;_this.setPopout=propsbi.setPopout;_this.showErrorAlert=propsbi.showErrorAlert;_this.showAlert=propsbi.showAlert;_this.setActiveModal=propsbi.setActiveModal;_this.onChange=function(event){var name=event.currentTarget.name;var value=event.currentTarget.value;_this.setState(_defineProperty({},name,value));};_this.ChangeScheme=function(e){_this.setPopout(/*#__PURE__*/React.createElement(ScreenSpinner,null));var value=e.currentTarget.value;if(value===0){_this.props.this.ChangeData('scheme',_this.props.default_scheme);}fetch(_this.state.api_url+\"method=account.changeScheme&scheme=\"+value+\"&\"+window.location.search.replace('?','')).then(function(res){return res.json();}).then(function(data){if(data.result){setTimeout(function(){_this.props.this.ReloadProfile();_this.setPopout(null);},3000);}else{_this.showErrorAlert(data.error.message);}}).catch(function(err){_this.showErrorAlert(err);});};return _this;}_createClass(SchemeChange,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Panel,{id:this.props.id},/*#__PURE__*/React.createElement(PanelHeader,{left:/*#__PURE__*/React.createElement(PanelHeaderBack,{onClick:function onClick(){return window.history.back();}})},\"\\u0421\\u043C\\u0435\\u043D\\u0430 \\u0442\\u0435\\u043C\\u044B\"),/*#__PURE__*/React.createElement(Header,{mode:\"secondary\"},\"\\u041F\\u0440\\u0435\\u0434\\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\"),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(Message,{title:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\",is_mine:false,avatar:avaUser,onClick:function onClick(){},clickable:false},\"\\u041E, \\u0442\\u0443\\u0442 \\u043C\\u043E\\u0436\\u043D\\u043E \\u043C\\u0435\\u043D\\u044F\\u0442\\u044C \\u0442\\u0435\\u043C\\u0443\"),/*#__PURE__*/React.createElement(Message,{title:\"\\u0410\\u0433\\u0435\\u043D\\u0442 \\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438\",is_mine:true,avatar:avaAgent,onClick:function onClick(){},clickable:false},\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\"),/*#__PURE__*/React.createElement(Separator,{style:{marginTop:10}}),/*#__PURE__*/React.createElement(FormLayout,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Radio,{name:\"radio\",onChange:this.ChangeScheme,value:\"1\",defaultChecked:this.props.account.scheme===1?true:false},\"\\u0421\\u0432\\u0435\\u0442\\u043B\\u0430\\u044F \\u0442\\u0435\\u043C\\u0430\"),/*#__PURE__*/React.createElement(Radio,{name:\"radio\",onChange:this.ChangeScheme,value:\"2\",defaultChecked:this.props.account.scheme===2?true:false},\"\\u0422\\u0451\\u043C\\u043D\\u0430\\u044F \\u0442\\u0435\\u043C\\u0430\"),/*#__PURE__*/React.createElement(Radio,{name:\"radio\",onChange:this.ChangeScheme,value:\"0\",description:\"\\u0421\\u0435\\u0440\\u0432\\u0438\\u0441 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u0442\\u0435\\u043C\\u0443, \\u0443\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u0443\\u044E \\u0432 \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430\\u0445 \\u0412\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435\",defaultChecked:this.props.account.scheme===0?true:false},\"\\u0410\\u0432\\u0442\\u043E\\u043C\\u0430\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\"))));}}]);return SchemeChange;}(React.Component);export{SchemeChange as default};","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/Profile/panels/schemechange.js"],"names":["React","Panel","PanelHeader","ScreenSpinner","Separator","Header","PanelHeaderBack","Radio","FormLayout","Message","avaUser","avaAgent","SchemeChange","props","state","api_url","propsbi","this","setPopout","showErrorAlert","showAlert","setActiveModal","onChange","event","name","currentTarget","value","setState","ChangeScheme","e","ChangeData","default_scheme","fetch","window","location","search","replace","then","res","json","data","result","setTimeout","ReloadProfile","error","message","catch","err","id","history","back","marginTop","account","scheme","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n    Panel,\n    PanelHeader,\n    ScreenSpinner,\n    Separator,\n    Header,\n    PanelHeaderBack,\n    Radio,\n    FormLayout,\n    } from '@vkontakte/vkui';\n\nimport Message from '../../../components/message'\nimport avaUser from '../../../images/user.jpg'\nimport avaAgent from '../../../images/schemeagent.jpg'\n\nexport default class SchemeChange extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.showAlert = propsbi.showAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n        this.ChangeScheme = (e) => {\n            this.setPopout(<ScreenSpinner />)\n            let value = e.currentTarget.value;\n            if(value === 0){\n                this.props.this.ChangeData('scheme', this.props.default_scheme)\n            }\n            fetch(this.state.api_url + \"method=account.changeScheme&scheme=\" + value + \"&\" + window.location.search.replace('?', ''))\n                .then(res => res.json())\n                .then(data => {\n                if(data.result) {\n                    setTimeout(() => {\n                        this.props.this.ReloadProfile();\n                        this.setPopout(null)\n                      }, 3000)\n                }else{\n                    this.showErrorAlert(data.error.message)\n                }\n                })\n                .catch(err => {\n                    this.showErrorAlert(err)\n    \n                })\n    \n        }\n    }\n    \n\n    render() {\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderBack onClick={() => window.history.back()} /> \n                }>\n                    Смена темы\n                </PanelHeader>\n                <Header mode='secondary'>Предпросмотр</Header>\n                <Separator /> \n                <Message\n                title='Пользователь'\n                is_mine={false}\n                avatar={avaUser}\n                onClick={() => {}}\n                clickable={false}\n                >О, тут можно менять тему</Message>\n                <Message\n                title='Агент Поддержки'\n                is_mine={true}\n                avatar={avaAgent}\n                onClick={() => {}}\n                clickable={false}\n                >Действительно</Message>\n                <Separator style={{marginTop: 10}} />\n                <FormLayout>\n                    <div>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"1\" defaultChecked={(this.props.account.scheme === 1) ? true : false}>Светлая тема</Radio>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"2\" defaultChecked={(this.props.account.scheme === 2) ? true : false}>Тёмная тема</Radio>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"0\" description='Сервис будет использовать тему, установленную в настройках ВКонтакте' defaultChecked={(this.props.account.scheme === 0) ? true : false}>Автоматически</Radio>\n                    </div>\n                </FormLayout>\n            </Panel>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}