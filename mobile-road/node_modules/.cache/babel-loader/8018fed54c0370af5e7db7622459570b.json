{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\Profile\\\\main.js\";\nimport React from 'react'; // React\n\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\n\nimport vkQr from '@vkontakte/vk-qr';\nimport { Panel, PanelHeader, PanelHeaderButton, Button, Group, Alert, Avatar, Placeholder, Separator, PullToRefresh, PanelSpinner, InfoRow, Header, Counter, SimpleCell, PromoBanner, FixedLayout, Cell, Div, HorizontalScroll, View, Switch, ScreenSpinner, ActionSheet, ActionSheetItem, Snackbar, ModalRoot, ModalCard, ModalPage, ModalPageHeader, Tabbar, TabbarItem, Epic, Input, FormLayout, List, Slider, ConfigProvider, platform } from '@vkontakte/vkui';\nimport eruda from 'eruda';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport '../../style.css'; // Импортируем панели\n\nimport Prof from './panels/profile';\nimport Market from './panels/market';\nimport Achievements from './panels/achives';\nimport MYQuest from './panels/AllQuestions';\nimport Settings from './panels/';\nimport Tiket from '../../components/tiket';\nimport Other_Profile from '../../components/other_profile';\nimport Icon28Profile from '@vkontakte/icons/dist/28/profile';\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\nimport Icon28Notification from '@vkontakte/icons/dist/28/notifications';\nimport Icon28ArticleOutline from '@vkontakte/icons/dist/28/article_outline';\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\nimport Icon24Qr from '@vkontakte/icons/dist/24/qr';\nimport Icon28MessagesOutline from '@vkontakte/icons/dist/28/messages_outline';\nimport Icon24Linked from '@vkontakte/icons/dist/24/linked';\nimport Icon56FireOutline from '@vkontakte/icons/dist/56/fire_outline';\nimport Icon56MoneyTransferOutline from '@vkontakte/icons/dist/56/money_transfer_outline';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\nimport Icon56InboxOutline from '@vkontakte/icons/dist/56/inbox_outline';\nimport Icon20PlaceOutline from '@vkontakte/icons/dist/20/place_outline';\nimport Icon24BrushOutline from '@vkontakte/icons/dist/24/brush_outline';\nimport Icon20Stars from '@vkontakte/icons/dist/20/stars';\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\nimport Icon28BillheadOutline from '@vkontakte/icons/dist/28/billhead_outline';\nimport Icon28FireOutline from '@vkontakte/icons/dist/28/fire_outline';\n\nconst queryString = require('query-string');\n\nconst platformname = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\nconst parsedHash = queryString.parse(window.location.search.replace('?', ''));\nconst hash = queryString.parse(window.location.hash);\n\nfunction qr(agent_id, sheme) {\n  let hex = \"foregroundColor\";\n\n  if (sheme === \"bright_light\") {\n    hex = \"#000\";\n  }\n\n  if (sheme === \"space_gray\") {\n    hex = \"#fff\";\n  }\n\n  return vkQr.createQR('https://vk.com/app7409818#agent_id=' + agent_id, {\n    qrSize: 120,\n    isShowLogo: true,\n    foregroundColor: hex\n  });\n}\n\nexport default class Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      api_url: \"https://xelene.ru/road/php/index.php?\",\n      activePanel: 'profile',\n      activeModal: null,\n      modalHistory: [],\n      popout: this.props.popout,\n      ticket_id: null,\n      history: ['profile'],\n      active_other_profile: 0,\n      other_profile: null,\n      ban_reason: \"\",\n      comment: '',\n      transfer: {\n        'avatar': '',\n        'comment': ''\n      },\n      moneys: null,\n      money_transfer_send: null,\n      money_transfer_count: null,\n      AgeUser: 0,\n      snackbar: null,\n      active_other_profile: 0,\n      ticket_id: 0\n    };\n    this.changeData = this.props.this.changeData;\n    this.playAudio = this.props.this.playAudio;\n    this.ReloadProfile = this.props.reloadProfile; // this.copy = this.props.this.copy;\n    // this.recordHistory = (panel) => {\n    //   this.setState({history: [...this.state.history, panel]})\n    // }\n\n    this.setPopout = value => {\n      this.setState({\n        popout: value\n      });\n    };\n\n    this.setSnack = value => {\n      this.setState({\n        snackbar: value\n      });\n    };\n\n    this.goTiket = id => {\n      this.setPopout( /*#__PURE__*/React.createElement(ScreenSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 26\n        }\n      }));\n      this.setState({\n        ticket_id: id\n      });\n      this.goPanel('ticket');\n      this.setPopout(null);\n    };\n\n    this.onChange = event => {\n      var name = event.currentTarget.name;\n      var value = event.currentTarget.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.goOtherProfile = id => {\n      this.setState({\n        active_other_profile: id\n      });\n      this.goPanel(\"other_profile\");\n    };\n\n    this.modalBack = () => {\n      this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\n    };\n\n    this.goBack = () => {\n      const history = this.state.history;\n\n      if (history.length === 1) {\n        bridge.send(\"VKWebAppClose\", {\n          \"status\": \"success\"\n        });\n      } else if (history.length > 1) {\n        history.pop();\n        this.setState({\n          activePanel: history[history.length - 1]\n        });\n\n        if (history[history.length - 1] === 'ticket') {\n          this.changeData('need_epic', false);\n        } else {\n          this.changeData('need_epic', true);\n        }\n      }\n    };\n\n    this.goPanel = panel => {\n      this.setState({\n        history: [...this.state.history, panel],\n        activePanel: panel\n      });\n\n      if (panel === 'ticket') {\n        this.changeData('need_epic', false);\n      } else {\n        this.changeData('need_epic', true);\n      }\n    };\n\n    this.setActiveModal = activeModal => {\n      activeModal = activeModal || null;\n      let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\n\n      if (activeModal === null) {\n        modalHistory = [];\n      } else if (modalHistory.indexOf(activeModal) !== -1) {\n        modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\n      } else {\n        modalHistory.push(activeModal);\n      }\n\n      this.setState({\n        activeModal: activeModal,\n        modalHistory: modalHistory\n      });\n    };\n\n    this.showAlert = (title, text) => {\n      this.setState({\n        popout: /*#__PURE__*/React.createElement(Alert, {\n          actions: [{\n            title: 'Закрыть',\n            autoclose: true,\n            mode: 'cancel'\n          }],\n          onClose: () => this.setPopout(null),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 19\n          }\n        }, title), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 19\n          }\n        }, text))\n      });\n    };\n\n    this.showErrorAlert = (error = null) => {\n      this.setPopout( /*#__PURE__*/React.createElement(Alert, {\n        actions: [{\n          title: 'Отмена',\n          autoclose: true,\n          mode: 'cancel'\n        }],\n        onClose: () => this.setPopout(null),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 17\n        }\n      }, \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430\"), error ? /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 26\n        }\n      }, error) : /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 43\n        }\n      }, \"\\u0427\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A, \\u043F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0441\\u043D\\u043E\\u0432\\u0430!\")));\n    };\n  }\n\n  ChangeAge(age) {\n    this.setState({\n      popout: /*#__PURE__*/React.createElement(ScreenSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 30\n        }\n      })\n    });\n    fetch(this.state.api_url + \"method=account.setAge&age=\" + age + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      if (data.result) {\n        this.setState({\n          popout: null\n        }); // setTimeout(() => {\n        //   this.playAudio()\n        // }, 5000)\n      }\n    }).catch(err => {\n      this.showErrorAlert();\n    });\n  }\n\n  userBan(user_id, text) {\n    this.setPopout( /*#__PURE__*/React.createElement(ScreenSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 22\n      }\n    }));\n    fetch(this.state.api_url + \"method=account.ban&agent_id=\" + user_id + \"&banned=true&reason=\" + text + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      if (data.result) {\n        this.setActiveModal(null);\n        this.showAlert('Успех', 'Пользователь забанен');\n        this.setPopout(null);\n      } else {\n        this.showErrorAlert(data.error.message);\n      }\n    }).catch(err => {\n      this.showErrorAlert(err);\n    });\n  }\n\n  getRandomTiket() {\n    fetch(this.state.api_url + \"method=ticket.getRandom&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      if (data.result) {\n        this.goTiket(data.response.id);\n      } else {\n        this.showErrorAlert(data.error.message);\n      }\n    }).catch(err => {\n      this.showErrorAlert(err);\n    });\n  }\n\n  sendMoney() {\n    fetch(this.state.api_url + 'method=transfers.send&summa=' + this.state.money_transfer_count + '&send_to=' + this.state.money_transfer_send + \"&\" + window.location.search.replace('?', '')).then(data => data.json()).then(data => {\n      if (data.result) {\n        this.setState({\n          moneys: data.response\n        });\n        this.setActiveModal(\"moneys\");\n      } else {\n        this.showErrorAlert(data.error.message);\n      }\n    });\n  }\n\n  render() {\n    const modal = /*#__PURE__*/React.createElement(ModalRoot, {\n      activeModal: this.state.activeModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ModalPage, {\n      id: \"settings\",\n      onClose: this.modalBack,\n      header: /*#__PURE__*/React.createElement(ModalPageHeader, {\n        right: /*#__PURE__*/React.createElement(Header, {\n          onClick: this.modalBack,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 26\n          }\n        }, /*#__PURE__*/React.createElement(Icon24Dismiss, {\n          style: {\n            color: 'var(--placeholder_icon_foreground_primary)'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 59\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 19\n        }\n      }, \"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Div, {\n      style: {\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        this.setActiveModal(null);\n        this.getRandomTiket();\n      },\n      stretched: true,\n      size: \"l\" // style={{marginRight: '2%'}}\n      ,\n      before: /*#__PURE__*/React.createElement(Icon20PlaceOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u043B\\u0443\\u0447\\u0430\\u0439\\u043D\\u044B\\u0439 \\u0442\\u0438\\u043A\\u0435\\u0442\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        this.setActiveModal(null);\n        this.props.this.changeData('scheme', this.props.this.state.scheme === 'bright_light' ? 'space_gray' : 'bright_light');\n      },\n      stretched: true,\n      size: \"l\",\n      style: {\n        marginLeft: '5%'\n      },\n      before: /*#__PURE__*/React.createElement(Icon20Stars, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0442\\u0435\\u043C\\u0443\"))), /*#__PURE__*/React.createElement(ModalCard, {\n      id: 'prom',\n      onClose: () => this.setActiveModal(null),\n      icon: /*#__PURE__*/React.createElement(Icon56FireOutline, {\n        style: {\n          color: \"var(--prom_icon)\"\n        },\n        width: 72,\n        height: 72,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 23\n        }\n      }),\n      caption: \"\\u041F\\u0440\\u043E\\u043C\\u0435\\u0442\\u0435\\u0439 \\u2014 \\u043E\\u0441\\u043E\\u0431\\u0435\\u043D\\u043D\\u044B\\u0439 \\u0437\\u043D\\u0430\\u0447\\u043E\\u043A, \\u0432\\u044B\\u0434\\u0430\\u0432\\u0430\\u0435\\u043C\\u044B\\u0439 \\u0430\\u0433\\u0435\\u043D\\u0442\\u0430\\u043C \\u0437\\u0430 \\u0445\\u043E\\u0440\\u043E\\u0448\\u0435\\u0435 \\u043A\\u0430\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043E\\u0442\\u0432\\u0435\\u0442\\u043E\\u0432.\",\n      actions: [{\n        title: 'Класс!',\n        mode: 'secondary',\n        action: () => {\n          this.setActiveModal(null);\n        }\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ModalCard, {\n      id: \"ban_user\",\n      onClose: () => this.setActiveModal(null),\n      icon: /*#__PURE__*/React.createElement(Avatar, {\n        src: this.state.other_profile ? this.state.other_profile['avatar']['url'] : null,\n        size: 72,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 23\n        }\n      }),\n      header: \"\\u0417\\u0430\\u0431\\u0430\\u043D\\u0438\\u0442\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",\n      actions: [{\n        title: 'Забанить! 🤬',\n        mode: 'secondary',\n        action: () => {\n          this.userBan(this.state.other_profile ? this.state.other_profile['id'] : 0, this.state.ban_reason);\n        }\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: true,\n      value: this.state.other_profile ? this.state.other_profile['id'] < 0 ? -this.state.other_profile['id'] : this.state.other_profile['id'] : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      maxLength: \"100\",\n      name: \"ban_reason\",\n      onChange: e => this.onChange(e),\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0443 \\u0431\\u0430\\u043D\\u0430\",\n      value: this.state.ban_reason,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(ModalCard, {\n      id: \"send\",\n      onClose: () => this.setActiveModal(null),\n      icon: /*#__PURE__*/React.createElement(Icon56MoneyTransferOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 23\n        }\n      }),\n      header: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u0439\\u0442\\u0435 \\u043C\\u043E\\u043D\\u0435\\u0442\\u043A\\u0438 \\u0434\\u0440\\u0443\\u0437\\u044C\\u044F\\u043C\",\n      actions: [{\n        title: 'Отправить',\n        mode: 'secondary',\n        disabled: true,\n        action: () => {\n          this.sendMoney();\n        }\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      maxLength: \"5\",\n      onChange: e => this.onChange(e),\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 id \\u0430\\u0433\\u0435\\u043D\\u0442\\u0430\",\n      name: \"money_transfer_send\",\n      value: this.state.money_transfer_send,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      maxLength: \"5\",\n      name: \"money_transfer_count\",\n      onChange: e => this.onChange(e),\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u043E\\u043B-\\u0432\\u043E \\u043C\\u043E\\u043D\\u0435\\u0442\\u043E\\u043A\",\n      value: this.state.money_transfer_count,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(ModalCard, {\n      id: \"moneys\",\n      onClose: () => this.setActiveModal(null),\n      icon: /*#__PURE__*/React.createElement(Avatar, {\n        src: this.state.moneys ? this.state.moneys.avatar : null,\n        size: 72,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 23\n        }\n      }),\n      header: this.state.moneys ? \"Ваш баланс: \" + this.state.moneys.money : null,\n      caption: this.state.moneys ? this.state.moneys.text : null,\n      actions: [{\n        title: 'Закрыть',\n        mode: 'secondary',\n        action: () => {\n          this.setActiveModal(null);\n          this.setState({\n            moneys: null,\n            money_transfer_count: null,\n            money_transfer_send: null\n          });\n        }\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ModalCard, {\n      id: \"transfer\",\n      onClose: () => this.setActiveModal(null),\n      icon: /*#__PURE__*/React.createElement(Avatar, {\n        src: this.state.transfer.avatar,\n        size: 72,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 23\n        }\n      }),\n      header: \"\\u041F\\u0435\\u0440\\u0435\\u0432\\u043E\\u0434 \\u043C\\u043E\\u043D\\u0435\\u0442\\u043E\\u043A\",\n      caption: this.state.transfer.comment,\n      actions: [{\n        title: 'Закрыть',\n        mode: 'secondary',\n        action: () => {\n          this.setActiveModal(null);\n        }\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ModalPage, {\n      id: \"share\",\n      onClose: this.modalBack,\n      header: /*#__PURE__*/React.createElement(ModalPageHeader, {\n        right: /*#__PURE__*/React.createElement(Header, {\n          onClick: this.modalBack,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 26\n          }\n        }, /*#__PURE__*/React.createElement(Icon24Dismiss, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 59\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 19\n        }\n      }, \"\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\\u0441\\u044F\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Cell, {\n      onClick: () => this.setActiveModal(\"qr\"),\n      before: /*#__PURE__*/React.createElement(Icon24Qr, {\n        width: 28,\n        height: 28,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 77\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 21\n      }\n    }, \"QR-code\"), /*#__PURE__*/React.createElement(Cell, {\n      onClick: () => {\n        bridge.send(\"VKWebAppShare\", {\n          \"link\": \"https://vk.com/app7409818#agent_id=\" + this.props.account['id']\n        });\n        this.setActiveModal(null);\n      },\n      before: /*#__PURE__*/React.createElement(Icon28MessagesOutline, {\n        width: 28,\n        height: 28,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 185\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 21\n      }\n    }, \"\\u0412 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u044F\"), /*#__PURE__*/React.createElement(Cell, {\n      onClick: () => {\n        bridge.send(\"VKWebAppCopyText\", {\n          text: \"https://vk.com/app7409818#agent_id=\" + this.props.account['id']\n        });\n        this.setActiveModal(null);\n      },\n      before: /*#__PURE__*/React.createElement(Icon24Linked, {\n        width: 28,\n        height: 28,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 186\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u043A\\u043E\\u043F\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443\"))), /*#__PURE__*/React.createElement(ModalPage, {\n      id: \"qr\",\n      onClose: this.modalBack,\n      header: /*#__PURE__*/React.createElement(ModalPageHeader, {\n        right: /*#__PURE__*/React.createElement(Header, {\n          onClick: this.modalBack,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 26\n          }\n        }, /*#__PURE__*/React.createElement(Icon24Dismiss, {\n          style: {\n            color: 'var(--placeholder_icon_foreground_primary)'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 59\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 19\n        }\n      }, \"QR\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"qr\",\n      dangerouslySetInnerHTML: {\n        __html: qr(this.props.account['id'], this.props.this.state.scheme)\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"qr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 18\n      }\n    }, \"\\u041E\\u0442\\u0441\\u043A\\u0430\\u043D\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435 \\u043A\\u0430\\u043C\\u0435\\u0440\\u043E\\u0439 \\u0412\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435!\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 18\n      }\n    })));\n    return /*#__PURE__*/React.createElement(View, {\n      id: this.props.id,\n      activePanel: this.state.activePanel,\n      modal: modal,\n      popout: this.state.popout,\n      onSwipeBack: this.goBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Prof, {\n      id: \"profile\",\n      this: this,\n      account: this.props.account,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(MYQuest, {\n      id: \"qu\",\n      this: this,\n      account: this.props.account,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Market, {\n      id: \"market\",\n      this: this,\n      account: this.props.account,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Achievements, {\n      id: \"achievements\",\n      this: this,\n      account: this.props.account,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tiket, {\n      id: \"ticket\",\n      this: this,\n      ticket_id: this.state.ticket_id,\n      account: this.props.account,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Other_Profile, {\n      id: \"other_profile\",\n      this: this,\n      agent_id: this.state.active_other_profile,\n      account: this.props.account,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 15\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/Profile/main.js"],"names":["React","bridge","vkQr","Panel","PanelHeader","PanelHeaderButton","Button","Group","Alert","Avatar","Placeholder","Separator","PullToRefresh","PanelSpinner","InfoRow","Header","Counter","SimpleCell","PromoBanner","FixedLayout","Cell","Div","HorizontalScroll","View","Switch","ScreenSpinner","ActionSheet","ActionSheetItem","Snackbar","ModalRoot","ModalCard","ModalPage","ModalPageHeader","Tabbar","TabbarItem","Epic","Input","FormLayout","List","Slider","ConfigProvider","platform","eruda","Prof","Market","Achievements","MYQuest","Settings","Tiket","Other_Profile","Icon28Profile","Icon16CheckCircle","Icon24Dismiss","Icon24Add","Icon28Notification","Icon28ArticleOutline","Icon28FavoriteOutline","Icon24Qr","Icon28MessagesOutline","Icon24Linked","Icon56FireOutline","Icon56MoneyTransferOutline","Icon20CancelCircleFillRed","Icon56InboxOutline","Icon20PlaceOutline","Icon24BrushOutline","Icon20Stars","Icon28CoinsOutline","Icon28BillheadOutline","Icon28FireOutline","queryString","require","platformname","test","navigator","userAgent","parsedHash","parse","window","location","search","replace","hash","qr","agent_id","sheme","hex","createQR","qrSize","isShowLogo","foregroundColor","Main","Component","constructor","props","state","api_url","activePanel","activeModal","modalHistory","popout","ticket_id","history","active_other_profile","other_profile","ban_reason","comment","transfer","moneys","money_transfer_send","money_transfer_count","AgeUser","snackbar","changeData","this","playAudio","ReloadProfile","reloadProfile","setPopout","value","setState","setSnack","goTiket","id","goPanel","onChange","event","name","currentTarget","goOtherProfile","modalBack","setActiveModal","length","goBack","send","pop","panel","indexOf","splice","push","showAlert","title","text","autoclose","mode","showErrorAlert","error","ChangeAge","age","fetch","then","res","json","data","result","catch","err","userBan","user_id","message","getRandomTiket","response","sendMoney","render","modal","color","display","scheme","marginLeft","action","e","disabled","avatar","money","account","__html"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAA2B;;AAC3B,OAAOC,MAAP,MAAmB,sBAAnB,C,CAA2C;;AAC3C,OAAOC,IAAP,MAAiB,kBAAjB;AAGA,SACEC,KADF,EAEEC,WAFF,EAGEC,iBAHF,EAIEC,MAJF,EAKEC,KALF,EAMEC,KANF,EAOEC,MAPF,EAQEC,WARF,EASEC,SATF,EAUEC,aAVF,EAWEC,YAXF,EAYEC,OAZF,EAaEC,MAbF,EAcEC,OAdF,EAeEC,UAfF,EAgBEC,WAhBF,EAiBEC,WAjBF,EAkBEC,IAlBF,EAmBEC,GAnBF,EAoBEC,gBApBF,EAqBEC,IArBF,EAsBEC,MAtBF,EAuBEC,aAvBF,EAwBEC,WAxBF,EAyBEC,eAzBF,EA0BEC,QA1BF,EA2BEC,SA3BF,EA4BEC,SA5BF,EA6BEC,SA7BF,EA8BEC,eA9BF,EA+BEC,MA/BF,EAgCEC,UAhCF,EAiCEC,IAjCF,EAkCEC,KAlCF,EAmCEC,UAnCF,EAoCEC,IApCF,EAqCEC,MArCF,EAsCEC,cAtCF,EAuCEC,QAvCF,QAwCS,iBAxCT;AA0CA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,+BAAP;AACA,OAAO,iBAAP,C,CACA;;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,YAAP,MAAyB,kBAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AAEA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,iBAAP,MAA8B,uCAA9B;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,kBAAP,MAA+B,wCAA/B;AACA,OAAOC,oBAAP,MAAiC,0CAAjC;AACA,OAAOC,qBAAP,MAAkC,2CAAlC;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,qBAAP,MAAkC,2CAAlC;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAOC,iBAAP,MAA8B,uCAA9B;AACA,OAAOC,0BAAP,MAAuC,iDAAvC;AACA,OAAOC,yBAAP,MAAsC,iDAAtC;AACA,OAAOC,kBAAP,MAA+B,wCAA/B;AACA,OAAOC,kBAAP,MAA+B,wCAA/B;AACA,OAAOC,kBAAP,MAA+B,wCAA/B;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,kBAAP,MAA+B,wCAA/B;AACA,OAAOC,qBAAP,MAAkC,2CAAlC;AACA,OAAOC,iBAAP,MAA8B,uCAA9B;;AAEA,MAAMC,WAAW,GAAGC,OAAO,CAAC,cAAD,CAA3B;;AACA,MAAMC,YAAY,GAAI,iEAAiEC,IAAjE,CAAsEC,SAAS,CAACC,SAAhF,CAAtB;AACA,MAAMC,UAAU,GAAGN,WAAW,CAACO,KAAZ,CAAkBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,CAAlB,CAAnB;AACA,MAAMC,IAAI,GAAGZ,WAAW,CAACO,KAAZ,CAAkBC,MAAM,CAACC,QAAP,CAAgBG,IAAlC,CAAb;;AACA,SAASC,EAAT,CAAYC,QAAZ,EAAsBC,KAAtB,EAA6B;AAC3B,MAAIC,GAAG,GAAG,iBAAV;;AACA,MAAGD,KAAK,KAAK,cAAb,EAA6B;AAC3BC,IAAAA,GAAG,GAAG,MAAN;AACD;;AACD,MAAGD,KAAK,KAAK,YAAb,EAA2B;AACzBC,IAAAA,GAAG,GAAG,MAAN;AACD;;AACD,SACEpF,IAAI,CAACqF,QAAL,CAAc,wCAAwCH,QAAtD,EAAgE;AAChEI,IAAAA,MAAM,EAAE,GADwD;AAEhEC,IAAAA,UAAU,EAAE,IAFoD;AAGhEC,IAAAA,eAAe,EAAEJ;AAH+C,GAAhE,CADF;AAOD;;AACD,eAAe,MAAMK,IAAN,SAAmB3F,KAAK,CAAC4F,SAAzB,CAAmC;AAC9CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,uCADA;AAETC,MAAAA,WAAW,EAAE,SAFJ;AAGTC,MAAAA,WAAW,EAAE,IAHJ;AAITC,MAAAA,YAAY,EAAE,EAJL;AAKTC,MAAAA,MAAM,EAAE,KAAKN,KAAL,CAAWM,MALV;AAMTC,MAAAA,SAAS,EAAE,IANF;AAOTC,MAAAA,OAAO,EAAE,CAAC,SAAD,CAPA;AAQTC,MAAAA,oBAAoB,EAAE,CARb;AASTC,MAAAA,aAAa,EAAE,IATN;AAUTC,MAAAA,UAAU,EAAE,EAVH;AAWTC,MAAAA,OAAO,EAAE,EAXA;AAYTC,MAAAA,QAAQ,EAAE;AACR,kBAAU,EADF;AAER,mBAAW;AAFH,OAZD;AAgBTC,MAAAA,MAAM,EAAE,IAhBC;AAiBTC,MAAAA,mBAAmB,EAAE,IAjBZ;AAkBTC,MAAAA,oBAAoB,EAAE,IAlBb;AAmBTC,MAAAA,OAAO,EAAE,CAnBA;AAoBTC,MAAAA,QAAQ,EAAE,IApBD;AAqBTT,MAAAA,oBAAoB,EAAC,CArBZ;AAsBTF,MAAAA,SAAS,EAAE;AAtBF,KAAb;AA0BA,SAAKY,UAAL,GAAkB,KAAKnB,KAAL,CAAWoB,IAAX,CAAgBD,UAAlC;AACA,SAAKE,SAAL,GAAiB,KAAKrB,KAAL,CAAWoB,IAAX,CAAgBC,SAAjC;AACA,SAAKC,aAAL,GAAqB,KAAKtB,KAAL,CAAWuB,aAAhC,CA9Be,CA+Bf;AACA;AACA;AACA;;AACA,SAAKC,SAAL,GAAkBC,KAAD,IAAW;AAC1B,WAAKC,QAAL,CAAc;AAACpB,QAAAA,MAAM,EAAEmB;AAAT,OAAd;AACD,KAFD;;AAGA,SAAKE,QAAL,GAAiBF,KAAD,IAAW;AACzB,WAAKC,QAAL,CAAc;AAACR,QAAAA,QAAQ,EAAEO;AAAX,OAAd;AACD,KAFD;;AAGA,SAAKG,OAAL,GAAgBC,EAAD,IAAQ;AACrB,WAAKL,SAAL,eAAe,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAf;AACA,WAAKE,QAAL,CAAc;AAACnB,QAAAA,SAAS,EAAEsB;AAAZ,OAAd;AACA,WAAKC,OAAL,CAAa,QAAb;AACA,WAAKN,SAAL,CAAe,IAAf;AACD,KALD;;AAMA,SAAKO,QAAL,GAAiBC,KAAD,IAAW;AACzB,UAAIC,IAAI,GAAGD,KAAK,CAACE,aAAN,CAAoBD,IAA/B;AACA,UAAIR,KAAK,GAAGO,KAAK,CAACE,aAAN,CAAoBT,KAAhC;AACA,WAAKC,QAAL,CAAc;AAAE,SAACO,IAAD,GAAQR;AAAV,OAAd;AACH,KAJC;;AAKA,SAAKU,cAAL,GAAuBN,EAAD,IAAQ;AAC5B,WAAKH,QAAL,CAAc;AAACjB,QAAAA,oBAAoB,EAAEoB;AAAvB,OAAd;AACA,WAAKC,OAAL,CAAa,eAAb;AACD,KAHD;;AAIA,SAAKM,SAAL,GAAiB,MAAM;AACnB,WAAKC,cAAL,CAAoB,KAAKpC,KAAL,CAAWI,YAAX,CAAwB,KAAKJ,KAAL,CAAWI,YAAX,CAAwBiC,MAAxB,GAAiC,CAAzD,CAApB;AACH,KAFD;;AAGA,SAAKC,MAAL,GAAc,MAAM;AAClB,YAAM/B,OAAO,GAAG,KAAKP,KAAL,CAAWO,OAA3B;;AACA,UAAGA,OAAO,CAAC8B,MAAR,KAAmB,CAAtB,EAAyB;AACrBnI,QAAAA,MAAM,CAACqI,IAAP,CAAY,eAAZ,EAA6B;AAAC,oBAAU;AAAX,SAA7B;AACH,OAFD,MAEO,IAAIhC,OAAO,CAAC8B,MAAR,GAAiB,CAArB,EAAwB;AAC3B9B,QAAAA,OAAO,CAACiC,GAAR;AACA,aAAKf,QAAL,CAAc;AAACvB,UAAAA,WAAW,EAAEK,OAAO,CAACA,OAAO,CAAC8B,MAAR,GAAiB,CAAlB;AAArB,SAAd;;AACA,YAAG9B,OAAO,CAACA,OAAO,CAAC8B,MAAR,GAAiB,CAAlB,CAAP,KAAgC,QAAnC,EAA4C;AAC1C,eAAKnB,UAAL,CAAgB,WAAhB,EAA6B,KAA7B;AACD,SAFD,MAEM;AACJ,eAAKA,UAAL,CAAgB,WAAhB,EAA6B,IAA7B;AACD;AACJ;AACJ,KAbC;;AAcA,SAAKW,OAAL,GAAgBY,KAAD,IAAW;AACxB,WAAKhB,QAAL,CAAc;AAAClB,QAAAA,OAAO,EAAE,CAAC,GAAG,KAAKP,KAAL,CAAWO,OAAf,EAAwBkC,KAAxB,CAAV;AAA0CvC,QAAAA,WAAW,EAAEuC;AAAvD,OAAd;;AACA,UAAGA,KAAK,KAAK,QAAb,EAAsB;AACpB,aAAKvB,UAAL,CAAgB,WAAhB,EAA6B,KAA7B;AACD,OAFD,MAEM;AACJ,aAAKA,UAAL,CAAgB,WAAhB,EAA6B,IAA7B;AACD;AACF,KAPD;;AAQA,SAAKkB,cAAL,GAAuBjC,WAAD,IAAiB;AACnCA,MAAAA,WAAW,GAAGA,WAAW,IAAI,IAA7B;AACA,UAAIC,YAAY,GAAG,KAAKJ,KAAL,CAAWI,YAAX,GAA0B,CAAC,GAAG,KAAKJ,KAAL,CAAWI,YAAf,CAA1B,GAAyD,EAA5E;;AAEA,UAAID,WAAW,KAAK,IAApB,EAA0B;AACxBC,QAAAA,YAAY,GAAG,EAAf;AACD,OAFD,MAEO,IAAIA,YAAY,CAACsC,OAAb,CAAqBvC,WAArB,MAAsC,CAAC,CAA3C,EAA8C;AACnDC,QAAAA,YAAY,GAAGA,YAAY,CAACuC,MAAb,CAAoB,CAApB,EAAuBvC,YAAY,CAACsC,OAAb,CAAqBvC,WAArB,IAAoC,CAA3D,CAAf;AACD,OAFM,MAEA;AACLC,QAAAA,YAAY,CAACwC,IAAb,CAAkBzC,WAAlB;AACD;;AAED,WAAKsB,QAAL,CAAc;AACZtB,QAAAA,WAAW,EAAEA,WADD;AAEZC,QAAAA,YAAY,EAAEA;AAFF,OAAd;AAID,KAhBH;;AAiBE,SAAKyC,SAAL,GAAiB,CAACC,KAAD,EAAQC,IAAR,KAAiB;AAChC,WAAKtB,QAAL,CAAc;AACZpB,QAAAA,MAAM,eACJ,oBAAC,KAAD;AACE,UAAA,OAAO,EAAE,CAAC;AACRyC,YAAAA,KAAK,EAAE,SADC;AAERE,YAAAA,SAAS,EAAE,IAFH;AAGRC,YAAAA,IAAI,EAAE;AAHE,WAAD,CADX;AAME,UAAA,OAAO,EAAE,MAAM,KAAK1B,SAAL,CAAe,IAAf,CANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKuB,KAAL,CARF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIC,IAAJ,CATF;AAFU,OAAd;AAcD,KAfD;;AAgBA,SAAKG,cAAL,GAAsB,CAACC,KAAK,GAAC,IAAP,KAAgB;AACpC,WAAK5B,SAAL,eACE,oBAAC,KAAD;AACI,QAAA,OAAO,EAAE,CAAC;AACVuB,UAAAA,KAAK,EAAE,QADG;AAEVE,UAAAA,SAAS,EAAE,IAFD;AAGVC,UAAAA,IAAI,EAAE;AAHI,SAAD,CADb;AAMI,QAAA,OAAO,EAAE,MAAM,KAAK1B,SAAL,CAAe,IAAf,CANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDARF,EASG4B,KAAK,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIA,KAAJ,CAAH,gBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wMAT5B,CADF;AAaH,KAdC;AAeL;;AACDC,EAAAA,SAAS,CAACC,GAAD,EAAM;AACb,SAAK5B,QAAL,CAAc;AAACpB,MAAAA,MAAM,eAAE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAT,KAAd;AACAiD,IAAAA,KAAK,CAAC,KAAKtD,KAAL,CAAWC,OAAX,GAAqB,4BAArB,GAAoDoD,GAApD,GAA0D,GAA1D,GAAgEtE,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,CAAjE,CAAL,CACCqE,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMG,IAAI,IAAI;AACZ,UAAGA,IAAI,CAACC,MAAR,EAAgB;AACd,aAAKlC,QAAL,CAAc;AAACpB,UAAAA,MAAM,EAAE;AAAT,SAAd,EADc,CAEd;AACA;AACA;AAED;AACF,KAVD,EAWCuD,KAXD,CAWOC,GAAG,IAAI;AACZ,WAAKX,cAAL;AACD,KAbD;AAcD;;AACDY,EAAAA,OAAO,CAACC,OAAD,EAAUhB,IAAV,EAAgB;AACrB,SAAKxB,SAAL,eAAe,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAf;AACA+B,IAAAA,KAAK,CAAC,KAAKtD,KAAL,CAAWC,OAAX,GAAqB,8BAArB,GAAsD8D,OAAtD,GAAgE,sBAAhE,GAAyFhB,IAAzF,GAAgG,GAAhG,GAAsGhE,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,CAAvG,CAAL,CACCqE,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMG,IAAI,IAAI;AACZ,UAAGA,IAAI,CAACC,MAAR,EAAgB;AACd,aAAKvB,cAAL,CAAoB,IAApB;AACA,aAAKS,SAAL,CAAe,OAAf,EAAwB,sBAAxB;AACA,aAAKtB,SAAL,CAAe,IAAf;AACD,OAJD,MAIM;AACJ,aAAK2B,cAAL,CAAoBQ,IAAI,CAACP,KAAL,CAAWa,OAA/B;AACD;AACF,KAVD,EAWCJ,KAXD,CAWOC,GAAG,IAAI;AACZ,WAAKX,cAAL,CAAoBW,GAApB;AACD,KAbD;AAcD;;AACDI,EAAAA,cAAc,GAAG;AACfX,IAAAA,KAAK,CAAC,KAAKtD,KAAL,CAAWC,OAAX,GAAqB,0BAArB,GAAkDlB,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,CAAnD,CAAL,CACGqE,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,IAAI,IAAI;AACZ,UAAGA,IAAI,CAACC,MAAR,EAAgB;AACd,aAAKhC,OAAL,CAAa+B,IAAI,CAACQ,QAAL,CAActC,EAA3B;AACD,OAFD,MAEO;AACL,aAAKsB,cAAL,CAAoBQ,IAAI,CAACP,KAAL,CAAWa,OAA/B;AACD;AACF,KARH,EASGJ,KATH,CASSC,GAAG,IAAI;AACZ,WAAKX,cAAL,CAAoBW,GAApB;AAED,KAZH;AAaD;;AACDM,EAAAA,SAAS,GAAG;AACVb,IAAAA,KAAK,CAAC,KAAKtD,KAAL,CAAWC,OAAX,GAAqB,8BAArB,GAAuD,KAAKD,KAAL,CAAWe,oBAAlE,GAAyF,WAAzF,GAAuG,KAAKf,KAAL,CAAWc,mBAAlH,GAAwI,GAAxI,GAA8I/B,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,OAAvB,CAA+B,GAA/B,EAAoC,EAApC,CAA/I,CAAL,CACCqE,IADD,CACMG,IAAI,IAAIA,IAAI,CAACD,IAAL,EADd,EAECF,IAFD,CAEMG,IAAI,IAAI;AACZ,UAAGA,IAAI,CAACC,MAAR,EAAgB;AACd,aAAKlC,QAAL,CAAc;AAACZ,UAAAA,MAAM,EAAE6C,IAAI,CAACQ;AAAd,SAAd;AACA,aAAK9B,cAAL,CAAoB,QAApB;AACD,OAHD,MAGO;AACL,aAAKc,cAAL,CAAoBQ,IAAI,CAACP,KAAL,CAAWa,OAA/B;AACD;AACF,KATD;AAUD;;AACDI,EAAAA,MAAM,GAAG;AACL,UAAMC,KAAK,gBACP,oBAAC,SAAD;AACA,MAAA,WAAW,EAAE,KAAKrE,KAAL,CAAWG,WADxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGE,oBAAC,SAAD;AACE,MAAA,EAAE,EAAC,UADL;AAEE,MAAA,OAAO,EAAE,KAAKgC,SAFhB;AAGE,MAAA,MAAM,eACJ,oBAAC,eAAD;AACA,QAAA,KAAK,eAAE,oBAAC,MAAD;AAAQ,UAAA,OAAO,EAAE,KAAKA,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiC,oBAAC,aAAD;AAAe,UAAA,KAAK,EAAE;AAACmC,YAAAA,KAAK,EAAE;AAAR,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAjC,CADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAWI,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,OAAO,EAAC;AAAT,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAM;AACrB,aAAKnC,cAAL,CAAoB,IAApB;AACA,aAAK6B,cAAL;AAED,OAJD;AAKA,MAAA,SAAS,MALT;AAMA,MAAA,IAAI,EAAC,GANL,CAOA;AAPA;AAQA,MAAA,MAAM,eAAE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+FADF,eAUE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAM;AACrB,aAAK7B,cAAL,CAAoB,IAApB;AACA,aAAKrC,KAAL,CAAWoB,IAAX,CAAgBD,UAAhB,CAA2B,QAA3B,EAAqC,KAAKnB,KAAL,CAAWoB,IAAX,CAAgBnB,KAAhB,CAAsBwE,MAAtB,KAAiC,cAAlC,GAAoD,YAApD,GAAmE,cAAvG;AACD,OAHD;AAIA,MAAA,SAAS,MAJT;AAKA,MAAA,IAAI,EAAC,GALL;AAMA,MAAA,KAAK,EAAE;AAACC,QAAAA,UAAU,EAAE;AAAb,OANP;AAOA,MAAA,MAAM,eAAE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EAVF,CAXJ,CAHF,eAkCE,oBAAC,SAAD;AACE,MAAA,EAAE,EAAE,MADN;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKrC,cAAL,CAAoB,IAApB,CAFjB;AAGE,MAAA,IAAI,eAAE,oBAAC,iBAAD;AAAmB,QAAA,KAAK,EAAE;AAACkC,UAAAA,KAAK,EAAE;AAAR,SAA1B;AAAuD,QAAA,KAAK,EAAE,EAA9D;AAAkE,QAAA,MAAM,EAAE,EAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHR;AAIE,MAAA,OAAO,EAAC,mZAJV;AAKE,MAAA,OAAO,EAAE,CAAC;AACRxB,QAAAA,KAAK,EAAE,QADC;AAERG,QAAAA,IAAI,EAAE,WAFE;AAGRyB,QAAAA,MAAM,EAAE,MAAM;AACZ,eAAKtC,cAAL,CAAoB,IAApB;AACD;AALO,OAAD,CALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlCF,eAgDE,oBAAC,SAAD;AACE,MAAA,EAAE,EAAC,UADL;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKA,cAAL,CAAoB,IAApB,CAFjB;AAGE,MAAA,IAAI,eAAE,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAE,KAAKpC,KAAL,CAAWS,aAAX,GAA2B,KAAKT,KAAL,CAAWS,aAAX,CAAyB,QAAzB,EAAmC,KAAnC,CAA3B,GAAuE,IAApF;AAA0F,QAAA,IAAI,EAAE,EAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHR;AAIE,MAAA,MAAM,EAAC,2HAJT;AAKE,MAAA,OAAO,EAAE,CAAC;AACRqC,QAAAA,KAAK,EAAE,cADC;AAERG,QAAAA,IAAI,EAAE,WAFE;AAGRyB,QAAAA,MAAM,EAAE,MAAM;AACZ,eAAKZ,OAAL,CAAa,KAAK9D,KAAL,CAAWS,aAAX,GAA2B,KAAKT,KAAL,CAAWS,aAAX,CAAyB,IAAzB,CAA3B,GAA4D,CAAzE,EAA4E,KAAKT,KAAL,CAAWU,UAAvF;AACD;AALO,OAAD,CALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAaE,oBAAC,KAAD;AAAO,MAAA,QAAQ,MAAf;AAAgB,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWS,aAAX,GAA4B,KAAKT,KAAL,CAAWS,aAAX,CAAyB,IAAzB,IAAiC,CAAlC,GAAuC,CAAC,KAAKT,KAAL,CAAWS,aAAX,CAAyB,IAAzB,CAAxC,GAAyE,KAAKT,KAAL,CAAWS,aAAX,CAAyB,IAAzB,CAApG,GAAqI,IAA5J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,eAeE,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,KAAjB;AAAuB,MAAA,IAAI,EAAC,YAA5B;AAAyC,MAAA,QAAQ,EAAGkE,CAAD,IAAO,KAAK7C,QAAL,CAAc6C,CAAd,CAA1D;AAA4E,MAAA,WAAW,EAAC,gHAAxF;AAA+G,MAAA,KAAK,EAAE,KAAK3E,KAAL,CAAWU,UAAjI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfF,CAhDF,eAkEE,oBAAC,SAAD;AACE,MAAA,EAAE,EAAC,MADL;AAEE,MAAA,OAAO,EAAE,MAAM,KAAK0B,cAAL,CAAoB,IAApB,CAFjB;AAGE,MAAA,IAAI,eAAE,oBAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHR;AAIE,MAAA,MAAM,EAAC,0JAJT;AAKE,MAAA,OAAO,EAAE,CAAC;AACRU,QAAAA,KAAK,EAAE,WADC;AAERG,QAAAA,IAAI,EAAE,WAFE;AAGR2B,QAAAA,QAAQ,EAAE,IAHF;AAIRF,QAAAA,MAAM,EAAE,MAAM;AACZ,eAAKP,SAAL;AACD;AANO,OAAD,CALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAcE,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,GAAjB;AAAqB,MAAA,QAAQ,EAAGQ,CAAD,IAAO,KAAK7C,QAAL,CAAc6C,CAAd,CAAtC;AAAwD,MAAA,WAAW,EAAC,oFAApE;AAAwF,MAAA,IAAI,EAAC,qBAA7F;AAAmH,MAAA,KAAK,EAAE,KAAK3E,KAAL,CAAWc,mBAArI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,eAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfF,eAgBE,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,GAAjB;AAAqB,MAAA,IAAI,EAAC,sBAA1B;AAAiD,MAAA,QAAQ,EAAG6D,CAAD,IAAO,KAAK7C,QAAL,CAAc6C,CAAd,CAAlE;AAAoF,MAAA,WAAW,EAAC,uHAAhG;AAAyH,MAAA,KAAK,EAAE,KAAK3E,KAAL,CAAWe,oBAA3I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,CAlEF,eAuFE,oBAAC,SAAD;AACE,MAAA,EAAE,EAAC,QADL;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKqB,cAAL,CAAoB,IAApB,CAFjB;AAGE,MAAA,IAAI,eAAE,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAE,KAAKpC,KAAL,CAAWa,MAAX,GAAoB,KAAKb,KAAL,CAAWa,MAAX,CAAkBgE,MAAtC,GAA+C,IAA5D;AAAkE,QAAA,IAAI,EAAE,EAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHR;AAIE,MAAA,MAAM,EAAE,KAAK7E,KAAL,CAAWa,MAAX,GAAoB,iBAAiB,KAAKb,KAAL,CAAWa,MAAX,CAAkBiE,KAAvD,GAA+D,IAJzE;AAKE,MAAA,OAAO,EAAE,KAAK9E,KAAL,CAAWa,MAAX,GAAoB,KAAKb,KAAL,CAAWa,MAAX,CAAkBkC,IAAtC,GAA6C,IALxD;AAME,MAAA,OAAO,EAAE,CAAC;AACRD,QAAAA,KAAK,EAAE,SADC;AAERG,QAAAA,IAAI,EAAE,WAFE;AAGRyB,QAAAA,MAAM,EAAE,MAAM;AACZ,eAAKtC,cAAL,CAAoB,IAApB;AACA,eAAKX,QAAL,CAAc;AAACZ,YAAAA,MAAM,EAAE,IAAT;AAAeE,YAAAA,oBAAoB,EAAE,IAArC;AAA2CD,YAAAA,mBAAmB,EAAE;AAAhE,WAAd;AACD;AANO,OAAD,CANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvFF,eAuGE,oBAAC,SAAD;AACE,MAAA,EAAE,EAAC,UADL;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKsB,cAAL,CAAoB,IAApB,CAFjB;AAGE,MAAA,IAAI,eAAE,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAE,KAAKpC,KAAL,CAAWY,QAAX,CAAoBiE,MAAjC;AAAyC,QAAA,IAAI,EAAE,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHR;AAIE,MAAA,MAAM,EAAC,uFAJT;AAKE,MAAA,OAAO,EAAE,KAAK7E,KAAL,CAAWY,QAAX,CAAoBD,OAL/B;AAME,MAAA,OAAO,EAAE,CAAC;AACRmC,QAAAA,KAAK,EAAE,SADC;AAERG,QAAAA,IAAI,EAAE,WAFE;AAGRyB,QAAAA,MAAM,EAAE,MAAM;AACZ,eAAKtC,cAAL,CAAoB,IAApB;AACD;AALO,OAAD,CANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvGF,eAsHE,oBAAC,SAAD;AACE,MAAA,EAAE,EAAC,OADL;AAEE,MAAA,OAAO,EAAE,KAAKD,SAFhB;AAGE,MAAA,MAAM,eACJ,oBAAC,eAAD;AACA,QAAA,KAAK,eAAE,oBAAC,MAAD;AAAQ,UAAA,OAAO,EAAE,KAAKA,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiC,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAjC,CADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAWI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,MAAM,KAAKC,cAAL,CAAoB,IAApB,CAArB;AAAgD,MAAA,MAAM,eAAE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,EAAjB;AAAqB,QAAA,MAAM,EAAE,EAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,MAAM;AAAClI,QAAAA,MAAM,CAACqI,IAAP,CAAY,eAAZ,EAA6B;AAAC,kBAAQ,wCAAwC,KAAKxC,KAAL,CAAWgF,OAAX,CAAmB,IAAnB;AAAjD,SAA7B;AAA0G,aAAK3C,cAAL,CAAoB,IAApB;AAA0B,OAA1J;AAA4J,MAAA,MAAM,eAAE,oBAAC,qBAAD;AAAuB,QAAA,KAAK,EAAE,EAA9B;AAAkC,QAAA,MAAM,EAAE,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uEAFF,eAGE,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,MAAM;AAAClI,QAAAA,MAAM,CAACqI,IAAP,CAAY,kBAAZ,EAAgC;AAACQ,UAAAA,IAAI,EAAE,wCAAwC,KAAKhD,KAAL,CAAWgF,OAAX,CAAmB,IAAnB;AAA/C,SAAhC;AAA2G,aAAK3C,cAAL,CAAoB,IAApB;AAA0B,OAA3J;AAA6J,MAAA,MAAM,eAAE,oBAAC,YAAD;AAAc,QAAA,KAAK,EAAE,EAArB;AAAyB,QAAA,MAAM,EAAE,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAArK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iHAHF,CAXJ,CAtHF,eAuII,oBAAC,SAAD;AACA,MAAA,EAAE,EAAC,IADH;AAEA,MAAA,OAAO,EAAE,KAAKD,SAFd;AAGA,MAAA,MAAM,eACJ,oBAAC,eAAD;AACA,QAAA,KAAK,eAAE,oBAAC,MAAD;AAAQ,UAAA,OAAO,EAAE,KAAKA,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAiC,oBAAC,aAAD;AAAe,UAAA,KAAK,EAAE;AAACmC,YAAAA,KAAK,EAAE;AAAR,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAjC,CADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAWE;AAAK,MAAA,SAAS,EAAC,IAAf;AAAoB,MAAA,uBAAuB,EAAE;AAACU,QAAAA,MAAM,EAAE5F,EAAE,CAAC,KAAKW,KAAL,CAAWgF,OAAX,CAAmB,IAAnB,CAAD,EAA2B,KAAKhF,KAAL,CAAWoB,IAAX,CAAgBnB,KAAhB,CAAsBwE,MAAjD;AAAX,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,eAYC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZD,eAaC;AAAK,MAAA,SAAS,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qLAbD,eAcC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdD,CAvIJ,CADJ;AA0JA,wBACI,oBAAC,IAAD;AACA,MAAA,EAAE,EAAE,KAAKzE,KAAL,CAAW6B,EADf;AAEA,MAAA,WAAW,EAAE,KAAK5B,KAAL,CAAWE,WAFxB;AAGA,MAAA,KAAK,EAAEmE,KAHP;AAIA,MAAA,MAAM,EAAE,KAAKrE,KAAL,CAAWK,MAJnB;AAKA,MAAA,WAAW,EAAE,KAAKiC,MALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAmB,MAAA,IAAI,EAAE,IAAzB;AAA+B,MAAA,OAAO,EAAE,KAAKvC,KAAL,CAAWgF,OAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,eASE,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,IAAZ;AAAiB,MAAA,IAAI,EAAE,IAAvB;AAA6B,MAAA,OAAO,EAAE,KAAKhF,KAAL,CAAWgF,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,eAUE,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,QAAX;AAAoB,MAAA,IAAI,EAAE,IAA1B;AAAgC,MAAA,OAAO,EAAE,KAAKhF,KAAL,CAAWgF,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,eAWE,oBAAC,YAAD;AAAc,MAAA,EAAE,EAAC,cAAjB;AAAgC,MAAA,IAAI,EAAE,IAAtC;AAA4C,MAAA,OAAO,EAAE,KAAKhF,KAAL,CAAWgF,OAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,eAYE,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAC,QAAV;AAAmB,MAAA,IAAI,EAAE,IAAzB;AAA+B,MAAA,SAAS,EAAE,KAAK/E,KAAL,CAAWM,SAArD;AAAgE,MAAA,OAAO,EAAE,KAAKP,KAAL,CAAWgF,OAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZF,eAaE,oBAAC,aAAD;AAAe,MAAA,EAAE,EAAC,eAAlB;AAAkC,MAAA,IAAI,EAAE,IAAxC;AAA8C,MAAA,QAAQ,EAAE,KAAK/E,KAAL,CAAWQ,oBAAnE;AAAyF,MAAA,OAAO,EAAE,KAAKT,KAAL,CAAWgF,OAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbF,CADJ;AAiBH;;AA5W6C","sourcesContent":["import React from 'react'; // React\r\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\r\nimport vkQr from '@vkontakte/vk-qr';\r\n\r\n\r\nimport { \r\n  Panel,\r\n  PanelHeader,\r\n  PanelHeaderButton,\r\n  Button,\r\n  Group,\r\n  Alert,\r\n  Avatar,\r\n  Placeholder,\r\n  Separator,\r\n  PullToRefresh,\r\n  PanelSpinner,\r\n  InfoRow,\r\n  Header,\r\n  Counter,\r\n  SimpleCell,\r\n  PromoBanner,\r\n  FixedLayout,\r\n  Cell,\r\n  Div,\r\n  HorizontalScroll,\r\n  View,\r\n  Switch,\r\n  ScreenSpinner,\r\n  ActionSheet,\r\n  ActionSheetItem,\r\n  Snackbar,\r\n  ModalRoot,\r\n  ModalCard,\r\n  ModalPage,\r\n  ModalPageHeader,\r\n  Tabbar,\r\n  TabbarItem,\r\n  Epic,\r\n  Input,\r\n  FormLayout,\r\n  List,\r\n  Slider,\r\n  ConfigProvider,\r\n  platform\r\n  } from '@vkontakte/vkui';\r\n\r\nimport eruda from 'eruda';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../../style.css';\r\n// Импортируем панели\r\nimport Prof from './panels/profile'\r\nimport Market from './panels/market'\r\nimport Achievements from './panels/achives'\r\nimport MYQuest from './panels/AllQuestions'\r\nimport Settings from './panels/'\r\nimport Tiket from '../../components/tiket';\r\nimport Other_Profile from '../../components/other_profile'\r\n\r\nimport Icon28Profile from '@vkontakte/icons/dist/28/profile';\r\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\r\nimport Icon28Notification from '@vkontakte/icons/dist/28/notifications';\r\nimport Icon28ArticleOutline from '@vkontakte/icons/dist/28/article_outline';\r\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\r\nimport Icon24Qr from '@vkontakte/icons/dist/24/qr';\r\nimport Icon28MessagesOutline from '@vkontakte/icons/dist/28/messages_outline';\r\nimport Icon24Linked from '@vkontakte/icons/dist/24/linked';\r\nimport Icon56FireOutline from '@vkontakte/icons/dist/56/fire_outline';\r\nimport Icon56MoneyTransferOutline from '@vkontakte/icons/dist/56/money_transfer_outline'\r\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\r\nimport Icon56InboxOutline from '@vkontakte/icons/dist/56/inbox_outline';\r\nimport Icon20PlaceOutline from '@vkontakte/icons/dist/20/place_outline';\r\nimport Icon24BrushOutline from '@vkontakte/icons/dist/24/brush_outline';\r\nimport Icon20Stars from '@vkontakte/icons/dist/20/stars';\r\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\r\nimport Icon28BillheadOutline from '@vkontakte/icons/dist/28/billhead_outline';\r\nimport Icon28FireOutline from '@vkontakte/icons/dist/28/fire_outline';\r\n\r\nconst queryString = require('query-string');\r\nconst platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\nconst parsedHash = queryString.parse(window.location.search.replace('?', ''));\r\nconst hash = queryString.parse(window.location.hash);\r\nfunction qr(agent_id, sheme) {\r\n  let hex = \"foregroundColor\"\r\n  if(sheme === \"bright_light\") {\r\n    hex = \"#000\"\r\n  }\r\n  if(sheme === \"space_gray\") {\r\n    hex = \"#fff\"\r\n  }\r\n  return (\r\n    vkQr.createQR('https://vk.com/app7409818#agent_id=' + agent_id, {\r\n    qrSize: 120,\r\n    isShowLogo: true,\r\n    foregroundColor: hex\r\n  })\r\n  )\r\n}\r\nexport default class Main extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            api_url: \"https://xelene.ru/road/php/index.php?\",\r\n            activePanel: 'profile',\r\n            activeModal: null,\r\n            modalHistory: [],\r\n            popout: this.props.popout,\r\n            ticket_id: null,\r\n            history: ['profile'],\r\n            active_other_profile: 0,\r\n            other_profile: null,\r\n            ban_reason: \"\",\r\n            comment: '',\r\n            transfer: {\r\n              'avatar': '',\r\n              'comment': ''\r\n            },\r\n            moneys: null,\r\n            money_transfer_send: null,\r\n            money_transfer_count: null,\r\n            AgeUser: 0,\r\n            snackbar: null,\r\n            active_other_profile:0,\r\n            ticket_id: 0,\r\n        \r\n\r\n        }\r\n        this.changeData = this.props.this.changeData;\r\n        this.playAudio = this.props.this.playAudio;\r\n        this.ReloadProfile = this.props.reloadProfile;\r\n        // this.copy = this.props.this.copy;\r\n        // this.recordHistory = (panel) => {\r\n        //   this.setState({history: [...this.state.history, panel]})\r\n        // }\r\n        this.setPopout = (value) => {\r\n          this.setState({popout: value})\r\n        }\r\n        this.setSnack = (value) => {\r\n          this.setState({snackbar: value})\r\n        }\r\n        this.goTiket = (id) => {\r\n          this.setPopout(<ScreenSpinner/>)\r\n          this.setState({ticket_id: id})\r\n          this.goPanel('ticket');\r\n          this.setPopout(null);\r\n        }\r\n        this.onChange = (event) => {\r\n          var name = event.currentTarget.name;\r\n          var value = event.currentTarget.value;\r\n          this.setState({ [name]: value });\r\n      }\r\n        this.goOtherProfile = (id) => {\r\n          this.setState({active_other_profile: id})\r\n          this.goPanel(\"other_profile\")\r\n        }\r\n        this.modalBack = () => {\r\n            this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n        };\r\n        this.goBack = () => {\r\n          const history = this.state.history;\r\n          if(history.length === 1) {\r\n              bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\r\n          } else if (history.length > 1) {\r\n              history.pop()\r\n              this.setState({activePanel: history[history.length - 1]})\r\n              if(history[history.length - 1] === 'ticket'){\r\n                this.changeData('need_epic', false)\r\n              } else{\r\n                this.changeData('need_epic', true)\r\n              }\r\n          }\r\n      }\r\n        this.goPanel = (panel) => {\r\n          this.setState({history: [...this.state.history, panel], activePanel: panel})\r\n          if(panel === 'ticket'){\r\n            this.changeData('need_epic', false)\r\n          } else{\r\n            this.changeData('need_epic', true)\r\n          }\r\n        }\r\n        this.setActiveModal = (activeModal) => {\r\n            activeModal = activeModal || null;\r\n            let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n        \r\n            if (activeModal === null) {\r\n              modalHistory = [];\r\n            } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n              modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n              modalHistory.push(activeModal);\r\n            }\r\n        \r\n            this.setState({\r\n              activeModal: activeModal,\r\n              modalHistory: modalHistory\r\n            });\r\n          };\r\n          this.showAlert = (title, text) => {\r\n            this.setState({\r\n              popout: \r\n                <Alert\r\n                  actions={[{\r\n                    title: 'Закрыть',\r\n                    autoclose: true,\r\n                    mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n                >\r\n                  <h2>{title}</h2>\r\n                  <p>{text}</p>\r\n              </Alert>\r\n            })\r\n          }\r\n          this.showErrorAlert = (error=null) => {\r\n            this.setPopout(\r\n              <Alert\r\n                  actions={[{\r\n                  title: 'Отмена',\r\n                  autoclose: true,\r\n                  mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n              >\r\n                <h2>Ошибка</h2>\r\n                {error ? <p>{error}</p> : <p>Что-то пошло не так, попробуйте снова!</p>}\r\n              </Alert>\r\n          )\r\n        }\r\n    }\r\n    ChangeAge(age) {\r\n      this.setState({popout: <ScreenSpinner/>})\r\n      fetch(this.state.api_url + \"method=account.setAge&age=\" + age + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setState({popout: null})\r\n          // setTimeout(() => {\r\n          //   this.playAudio()\r\n          // }, 5000)\r\n          \r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert()\r\n      })\r\n    }\r\n    userBan(user_id, text) {\r\n      this.setPopout(<ScreenSpinner/>)\r\n      fetch(this.state.api_url + \"method=account.ban&agent_id=\" + user_id + \"&banned=true&reason=\" + text + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setActiveModal(null);\r\n          this.showAlert('Успех', 'Пользователь забанен');\r\n          this.setPopout(null);\r\n        }else {\r\n          this.showErrorAlert(data.error.message)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert(err)\r\n      })\r\n    }\r\n    getRandomTiket() {\r\n      fetch(this.state.api_url + \"method=ticket.getRandom&\" + window.location.search.replace('?', ''))\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if(data.result) {\r\n            this.goTiket(data.response.id)\r\n          } else {\r\n            this.showErrorAlert(data.error.message)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.showErrorAlert(err)\r\n\r\n        })\r\n    }\r\n    sendMoney() {\r\n      fetch(this.state.api_url + 'method=transfers.send&summa=' +  this.state.money_transfer_count + '&send_to=' + this.state.money_transfer_send + \"&\" + window.location.search.replace('?', ''))\r\n      .then(data => data.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setState({moneys: data.response})\r\n          this.setActiveModal(\"moneys\")\r\n        } else {\r\n          this.showErrorAlert(data.error.message)\r\n        }\r\n      })\r\n    }\r\n    render() {\r\n        const modal = (\r\n            <ModalRoot\r\n            activeModal={this.state.activeModal}\r\n            >\r\n              <ModalPage\r\n                id=\"settings\"\r\n                onClose={this.modalBack}\r\n                header={\r\n                  <ModalPageHeader\r\n                  right={<Header onClick={this.modalBack}><Icon24Dismiss style={{color: 'var(--placeholder_icon_foreground_primary)'}} /></Header>}\r\n                  >\r\n                    Настройки\r\n                  </ModalPageHeader>\r\n                }\r\n                >\r\n                  <Div style={{display:'flex'}}>\r\n                    <Button onClick={() => {\r\n                      this.setActiveModal(null);\r\n                      this.getRandomTiket();\r\n\r\n                    }} \r\n                    stretched \r\n                    size='l'\r\n                    // style={{marginRight: '2%'}}\r\n                    before={<Icon20PlaceOutline />}>Случайный тикет</Button>\r\n                    <Button onClick={() => {\r\n                      this.setActiveModal(null);\r\n                      this.props.this.changeData('scheme',(this.props.this.state.scheme === 'bright_light') ? 'space_gray' : 'bright_light')\r\n                    }}\r\n                    stretched \r\n                    size='l'\r\n                    style={{marginLeft: '5%'}}\r\n                    before={<Icon20Stars />}>Сменить тему</Button>\r\n                  </Div>\r\n                </ModalPage>\r\n              <ModalCard\r\n                id={'prom'}\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Icon56FireOutline style={{color: \"var(--prom_icon)\"}} width={72} height={72} />}\r\n                caption=\"Прометей — особенный значок, выдаваемый агентам за хорошее качество ответов.\"\r\n                actions={[{\r\n                  title: 'Класс!',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }\r\n                ]}\r\n              />\r\n              <ModalCard\r\n                id='ban_user'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.other_profile ? this.state.other_profile['avatar']['url'] : null} size={72} />}\r\n                header=\"Забанить пользователя\"\r\n                actions={[{\r\n                  title: 'Забанить! 🤬',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.userBan(this.state.other_profile ? this.state.other_profile['id'] : 0, this.state.ban_reason);\r\n                  }\r\n                }]}\r\n              >\r\n                <Input disabled value={this.state.other_profile ? (this.state.other_profile['id'] < 0) ? -this.state.other_profile['id'] : this.state.other_profile['id'] : null}/>\r\n                <br/>\r\n                <Input maxLength=\"100\" name=\"ban_reason\" onChange={(e) => this.onChange(e)} placeholder=\"Введите причину бана\" value={this.state.ban_reason} />\r\n                \r\n              </ModalCard>\r\n              <ModalCard\r\n                id='send'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Icon56MoneyTransferOutline />}\r\n                header=\"Отправляйте монетки друзьям\"\r\n                actions={[{\r\n                  title: 'Отправить',\r\n                  mode: 'secondary',\r\n                  disabled: true,\r\n                  action: () => {\r\n                    this.sendMoney();\r\n                  }\r\n                }]}\r\n              >\r\n                <Input maxLength=\"5\" onChange={(e) => this.onChange(e)} placeholder=\"Введите id агента\" name=\"money_transfer_send\" value={this.state.money_transfer_send}/>\r\n                <br/>\r\n                <Input maxLength=\"5\" name=\"money_transfer_count\" onChange={(e) => this.onChange(e)} placeholder=\"Введите кол-во монеток\" value={this.state.money_transfer_count} />\r\n                {/* <br/>\r\n                <Input maxLength=\"100\" name=\"money_transfer_comment\" onChange={(e) => this.onChange(e)} placeholder=\"Введите комментарий к переводу\" value={this.state.money_transfer_comment} /> */}\r\n                \r\n              </ModalCard>\r\n              <ModalCard\r\n                id='moneys'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.moneys ? this.state.moneys.avatar : null} size={72} />}\r\n                header={this.state.moneys ? \"Ваш баланс: \" + this.state.moneys.money : null}\r\n                caption={this.state.moneys ? this.state.moneys.text : null}\r\n                actions={[{\r\n                  title: 'Закрыть',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                    this.setState({moneys: null, money_transfer_count: null, money_transfer_send: null})\r\n                  }\r\n                }]}\r\n              >\r\n              </ModalCard>\r\n              <ModalCard\r\n                id='transfer'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.transfer.avatar} size={72} />}\r\n                header='Перевод монеток'\r\n                caption={this.state.transfer.comment}\r\n                actions={[{\r\n                  title: 'Закрыть',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }]}\r\n              >\r\n              </ModalCard>\r\n              <ModalPage\r\n                id=\"share\"\r\n                onClose={this.modalBack}\r\n                header={\r\n                  <ModalPageHeader\r\n                  right={<Header onClick={this.modalBack}><Icon24Dismiss /></Header>}\r\n                  >\r\n                    Поделиться\r\n                  </ModalPageHeader>\r\n                }\r\n                >\r\n                  <List>\r\n                    <Cell onClick={() => this.setActiveModal(\"qr\")} before={<Icon24Qr width={28} height={28}/>}>QR-code</Cell>\r\n                    <Cell onClick={() => {bridge.send(\"VKWebAppShare\", {\"link\": \"https://vk.com/app7409818#agent_id=\" + this.props.account['id']}); this.setActiveModal(null)}} before={<Icon28MessagesOutline width={28} height={28}/>}>В сообщения</Cell>\r\n                    <Cell onClick={() => {bridge.send(\"VKWebAppCopyText\", {text: \"https://vk.com/app7409818#agent_id=\" + this.props.account['id']}); this.setActiveModal(null)}} before={<Icon24Linked width={28} height={28}/>}>Скопировать ссылку</Cell>\r\n                  </List>\r\n                </ModalPage>\r\n                <ModalPage\r\n                id=\"qr\"\r\n                onClose={this.modalBack}\r\n                header={\r\n                  <ModalPageHeader\r\n                  right={<Header onClick={this.modalBack}><Icon24Dismiss style={{color: 'var(--placeholder_icon_foreground_primary)'}} /></Header>}\r\n                  >\r\n                    QR\r\n                  </ModalPageHeader>\r\n                }\r\n                >\r\n                 {<div className=\"qr\" dangerouslySetInnerHTML={{__html: qr(this.props.account['id'], this.props.this.state.scheme)}}/>}\r\n                 <br/>\r\n                 <div className=\"qr\">Отсканируйте камерой ВКонтакте!</div>\r\n                 <br/>\r\n                </ModalPage>\r\n            </ModalRoot>\r\n        )\r\n        return(\r\n            <View \r\n            id={this.props.id}\r\n            activePanel={this.state.activePanel}\r\n            modal={modal}\r\n            popout={this.state.popout}\r\n            onSwipeBack={this.goBack}\r\n            >\r\n\r\n              <Prof id=\"profile\" this={this} account={this.props.account} />\r\n              <MYQuest id=\"qu\" this={this} account={this.props.account} /> \r\n              <Market id=\"market\" this={this} account={this.props.account} />\r\n              <Achievements id=\"achievements\" this={this} account={this.props.account} />\r\n              <Tiket id=\"ticket\" this={this} ticket_id={this.state.ticket_id} account={this.props.account} />\r\n              <Other_Profile id=\"other_profile\" this={this} agent_id={this.state.active_other_profile} account={this.props.account}/>\r\n            </View>   \r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}