{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\questions\\\\main.js\";\nimport React from 'react'; // React\n\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\n\nimport { Button, Group, Alert, Avatar, Separator, Header, SimpleCell, Div, View, ScreenSpinner, ModalRoot, ModalCard, ModalPage, ModalPageHeader, Input, FormLayout, FormStatus, Slider } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport '../../style.css'; // Импортируем панели\n\nimport NewTicket from './panels/new_tiket';\nimport Questions from './panels/questions';\nimport Tiket from '../../components/tiket';\nimport OtherProfile from '../../components/other_profile'; //Импортируем модальные карточки\n\nimport ModalPrometay from '../../Modals/Prometay';\nimport ModalDonut from '../../Modals/Donut';\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\nimport Icon28BillheadOutline from '@vkontakte/icons/dist/28/billhead_outline';\nimport Icon28FireOutline from '@vkontakte/icons/dist/28/fire_outline';\n\nconst queryString = require('query-string'); // const platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n// const parsedHash = queryString.parse(window.location.search.replace('?', ''));\n\n\nconst hash = queryString.parse(window.location.hash);\nexport default class Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      api_url: \"https://xelene.ru/road/php/index.php?\",\n      activePanel: 'questions',\n      activeModal: null,\n      modalHistory: [],\n      popout: this.props.popout,\n      ticket_id: null,\n      history: ['questions'],\n      active_other_profile: 0,\n      other_profile: null,\n      ban_reason: \"\",\n      comment: '',\n      transfer: {\n        'avatar': '',\n        'comment': ''\n      },\n      AgeUser: 0,\n      offset: 0,\n      tiket_all: null,\n      tiket_all_helper: null\n    };\n    this.changeData = this.props.this.changeData;\n    this.playAudio = this.props.this.playAudio;\n    this.ReloadProfile = this.props.reloadProfile; // this.copy = this.props.this.copy;\n    // this.recordHistory = (panel) => {\n    //   this.setState({history: [...this.state.history, panel]})\n    // }\n\n    this.getQuestions = (need_offset = false) => {\n      let url = need_offset ? \"method=tickets.get&count=20&unanswered=1&offset=\" + this.state.offset : \"method=tickets.get&count=20&unanswered=1\";\n\n      if (!need_offset) {\n        this.setState({\n          offset: 20\n        });\n      }\n\n      fetch(this.state.api_url + url + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n        if (data.result) {\n          this.setState({\n            tiket_all: []\n          });\n\n          if (this.state.tiket_all) {\n            var sliyan = data.response ? this.state.tiket_all.concat(data.response) : this.state.tiket_all;\n          }\n\n          this.setState({\n            tiket_all: sliyan,\n            tiket_all_helper: data.response\n          });\n\n          if (need_offset) {\n            this.setState({\n              offset: this.state.offset + 20\n            });\n          }\n        } else {\n          this.showErrorAlert(data.error.message);\n        }\n      }).catch(err => {\n        this.showErrorAlert(err);\n      });\n    };\n\n    this.setPopout = value => {\n      this.setState({\n        popout: value\n      });\n    };\n\n    this.goTiket = id => {\n      this.setPopout( /*#__PURE__*/React.createElement(ScreenSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 26\n        }\n      }));\n      this.setState({\n        ticket_id: id\n      });\n      this.goPanel('ticket');\n      this.setPopout(null);\n    };\n\n    this.onChange = event => {\n      var name = event.currentTarget.name;\n      var value = event.currentTarget.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.goOtherProfile = id => {\n      this.setState({\n        active_other_profile: id\n      });\n      this.goPanel(\"other_profile\");\n    };\n\n    this.modalBack = () => {\n      this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\n    };\n\n    this.goBack = () => {\n      const history = this.state.history;\n\n      if (history.length === 1) {\n        bridge.send(\"VKWebAppClose\", {\n          \"status\": \"success\"\n        });\n      } else if (history.length > 1) {\n        history.pop();\n        this.setState({\n          activePanel: history[history.length - 1]\n        }); // if(history[history.length - 1] === 'ticket'){\n        //   this.changeData('need_epic', false)\n        // } else{\n        //   this.changeData('need_epic', true)\n        // }\n      }\n    };\n\n    this.goPanel = panel => {\n      this.setState({\n        history: [...this.state.history, panel],\n        activePanel: panel\n      }); // if(panel === 'ticket'){\n      //   this.changeData('need_epic', false)\n      // } else{\n      //   this.changeData('need_epic', true)\n      // }\n    };\n\n    this.setActiveModal = activeModal => {\n      activeModal = activeModal || null;\n      let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\n\n      if (activeModal === null) {\n        modalHistory = [];\n      } else if (modalHistory.indexOf(activeModal) !== -1) {\n        modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\n      } else {\n        modalHistory.push(activeModal);\n      }\n\n      this.setState({\n        activeModal: activeModal,\n        modalHistory: modalHistory\n      });\n    };\n\n    this.showAlert = (title, text) => {\n      this.setState({\n        popout: /*#__PURE__*/React.createElement(Alert, {\n          actions: [{\n            title: 'Закрыть',\n            autoclose: true,\n            mode: 'cancel'\n          }],\n          onClose: () => this.setPopout(null),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 19\n          }\n        }, title), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 19\n          }\n        }, text))\n      });\n    };\n\n    this.showErrorAlert = (error = null) => {\n      this.setPopout( /*#__PURE__*/React.createElement(Alert, {\n        actions: [{\n          title: 'Отмена',\n          autoclose: true,\n          mode: 'cancel'\n        }],\n        onClose: () => this.setPopout(null),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }, \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430\"), error ? /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 26\n        }\n      }, error) : /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 43\n        }\n      }, \"\\u0427\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A, \\u043F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0441\\u043D\\u043E\\u0432\\u0430!\")));\n    };\n  }\n\n  ChangeAge(age) {\n    this.setState({\n      popout: /*#__PURE__*/React.createElement(ScreenSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 30\n        }\n      })\n    });\n    fetch(this.state.api_url + \"method=account.setAge&age=\" + age + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      if (data.result) {\n        this.setState({\n          popout: null\n        }); // setTimeout(() => {\n        //   this.playAudio()\n        // }, 5000)\n      }\n    }).catch(err => {\n      this.showErrorAlert();\n    });\n  }\n\n  userBan(user_id, text) {\n    this.setPopout( /*#__PURE__*/React.createElement(ScreenSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 22\n      }\n    }));\n    fetch(this.state.api_url + \"method=account.ban&agent_id=\" + user_id + \"&banned=true&reason=\" + text + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      if (data.result) {\n        this.setActiveModal(null);\n        this.showAlert('Успех', 'Пользователь забанен');\n        this.setPopout(null);\n      } else {\n        this.showErrorAlert(data.error.message);\n      }\n    }).catch(err => {\n      this.showErrorAlert(err);\n    });\n  }\n\n  getRandomTiket() {\n    fetch(this.state.api_url + \"method=ticket.getRandom&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      if (data.result) {\n        this.goTiket(data.response.id);\n      } else {\n        this.showErrorAlert(data.error.message);\n      }\n    }).catch(err => {\n      this.showErrorAlert(err);\n    });\n  }\n\n  componentDidMount() {\n    if (hash.ticket_id !== undefined) {\n      this.goTiket(hash.ticket_id);\n      bridge.send(\"VKWebAppSetLocation\", {\n        \"location\": \"\"\n      });\n    }\n\n    if (hash.agent_id !== undefined) {\n      this.goOtherProfile(hash.agent_id);\n      bridge.send(\"VKWebAppSetLocation\", {\n        \"location\": \"\"\n      }); //   if(window.history.pushState) {\n      //     window.history.pushState('', '/', window.location.pathname + window.location.search)\n      // } else {\n      //     window.location.hash = '';\n      // }\n    }\n  }\n\n  render() {\n    const modal = /*#__PURE__*/React.createElement(ModalRoot, {\n      activeModal: this.state.activeModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ModalPage, {\n      id: \"start\",\n      onClose: this.modalBack,\n      dynamicContentHeight: true,\n      header: /*#__PURE__*/React.createElement(ModalPageHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 15\n        }\n      }, \"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C \\u0432 \\u0438\\u0433\\u0440\\u0443\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Div, {\n      style: {\n        marginTop: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"AvaModalPage\",\n      src: this.props.account.id !== undefined ? this.props.account.avatar.url : null,\n      size: 70,\n      alt: \"\\u0442\\u0432\\u043E\\u044F \\u0430\\u0432\\u0430\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      subtitle: \"\\u041F\\u043E\\u043C\\u043D\\u0438\\u0442\\u0435, \\u043E\\u0442\\u0432\\u0435\\u0447\\u0430\\u0442\\u044C \\u043D\\u0443\\u0436\\u043D\\u043E \\u0432\\u0434\\u0443\\u043C\\u0447\\u0438\\u0432\\u043E.\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 19\n      }\n    }, \"\\u0412\\u0430\\u043C \\u043F\\u0440\\u0438\\u0441\\u0432\\u043E\\u0435\\u043D \\u043D\\u043E\\u043C\\u0435\\u0440 #\", this.props.account.id !== undefined ? this.props.account.id : \"undefined\"), /*#__PURE__*/React.createElement(Separator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(FormLayout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormStatus, {\n      header: \"\\u0412\\u043D\\u0438\\u043C\\u0430\\u043D\\u0438\\u0435! \\u0412\\u0430\\u0436\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\",\n      mode: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 19\n      }\n    }, \"\\u0421\\u0435\\u0440\\u0432\\u0438\\u0441 \\u043D\\u0435 \\u0438\\u043C\\u0435\\u0435\\u0442 \\u043E\\u0442\\u043D\\u043E\\u0448\\u0435\\u043D\\u0438\\u044F \\u043A \\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438 \\u0412\\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435, \\u0430 \\u0442\\u0430\\u043A \\u0436\\u0435 \\u0438\\u0445 \\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0430\\u043C.\"), /*#__PURE__*/React.createElement(Slider, {\n      min: 10,\n      max: 100,\n      step: 1,\n      value: this.state.AgeUser,\n      onChange: e => {\n        this.setState({\n          AgeUser: e\n        });\n      },\n      top: `Укажите свой возраст: ${this.state.AgeUser}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(SimpleCell, {\n      disabled: true,\n      multiline: true,\n      before: /*#__PURE__*/React.createElement(Icon28CoinsOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }, \"\\u0417\\u0430\\u0440\\u0430\\u0431\\u0430\\u0442\\u044B\\u0432\\u0430\\u0439 \\u043C\\u043E\\u043D\\u0435\\u0442\\u044B\"), /*#__PURE__*/React.createElement(SimpleCell, {\n      disabled: true,\n      multiline: true,\n      before: /*#__PURE__*/React.createElement(Icon28BillheadOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }\n    }, \"\\u041E\\u0442\\u0432\\u0435\\u0447\\u0430\\u0439 \\u043D\\u0430 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B\"), /*#__PURE__*/React.createElement(SimpleCell, {\n      disabled: true,\n      multiline: true,\n      before: /*#__PURE__*/React.createElement(Icon28FavoriteOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }\n    }, \"\\u0423\\u0447\\u0430\\u0441\\u0442\\u0432\\u0443\\u0439 \\u0432 \\u0440\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433\\u0435\"), /*#__PURE__*/React.createElement(SimpleCell, {\n      disabled: true,\n      multiline: true,\n      before: /*#__PURE__*/React.createElement(Icon28FireOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 21\n      }\n    }, \"\\u041F\\u043E\\u043B\\u0443\\u0447\\u0430\\u0439 \\u043E\\u0442\\u043C\\u0435\\u0442\\u043A\\u0443 \\u043E\\u0433\\u043D\\u044F\")), /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      mode: \"secondary\",\n      size: \"xl\",\n      stretched: true,\n      onClick: () => {\n        // this.playAudio()\n        this.ChangeAge(this.state.AgeUser);\n        this.setActiveModal(null);\n        setTimeout(() => {\n          this.ReloadProfile();\n        }, 2000);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 21\n      }\n    }, \"\\u0412\\u043F\\u0435\\u0440\\u0451\\u0434!\")))), /*#__PURE__*/React.createElement(ModalPrometay, {\n      id: \"prom\",\n      onClose: () => this.setActiveModal(null),\n      action: () => this.setActiveModal(null),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ModalDonut, {\n      id: \"donut\",\n      onClose: () => this.setActiveModal(null),\n      action: () => this.setActiveModal(null),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ModalCard, {\n      id: \"ban_user\",\n      onClose: () => this.setActiveModal(null),\n      icon: /*#__PURE__*/React.createElement(Avatar, {\n        src: this.state.other_profile ? this.state.other_profile['avatar']['url'] : null,\n        size: 72,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 23\n        }\n      }),\n      header: \"\\u0417\\u0430\\u0431\\u0430\\u043D\\u0438\\u0442\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",\n      actions: [{\n        title: 'Забанить! 🤬',\n        mode: 'secondary',\n        action: () => {\n          this.userBan(this.state.other_profile ? this.state.other_profile['id'] : 0, this.state.ban_reason);\n          console.log(this.state.other_profile['id']);\n        }\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: true,\n      value: this.state.other_profile ? this.state.other_profile['id'] < 0 ? -this.state.other_profile['id'] : this.state.other_profile['id'] : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      maxLength: \"100\",\n      name: \"ban_reason\",\n      onChange: e => this.onChange(e),\n      placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0443 \\u0431\\u0430\\u043D\\u0430\",\n      value: this.state.ban_reason,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(ModalCard, {\n      id: \"transfer\",\n      onClose: () => this.setActiveModal(null),\n      icon: /*#__PURE__*/React.createElement(Avatar, {\n        src: this.state.transfer.avatar,\n        size: 72,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 23\n        }\n      }),\n      header: \"\\u041F\\u0435\\u0440\\u0435\\u0432\\u043E\\u0434 \\u043C\\u043E\\u043D\\u0435\\u0442\\u043E\\u043A\",\n      caption: this.state.transfer.comment,\n      actions: [{\n        title: 'Закрыть',\n        mode: 'secondary',\n        action: () => {\n          this.setActiveModal(null);\n        }\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ModalPage, {\n      id: \"comment\",\n      onClose: this.modalBack,\n      header: /*#__PURE__*/React.createElement(ModalPageHeader, {\n        right: /*#__PURE__*/React.createElement(Header, {\n          onClick: this.modalBack,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 26\n          }\n        }, /*#__PURE__*/React.createElement(Icon24Dismiss, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 59\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 19\n        }\n      }, \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Div, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        whiteSpace: \"pre-wrap\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 21\n      }\n    }, this.state.comment))));\n    return /*#__PURE__*/React.createElement(View, {\n      id: this.props.id,\n      activePanel: this.state.activePanel,\n      modal: modal,\n      popout: this.state.popout,\n      onSwipeBack: this.goBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Questions, {\n      id: \"questions\",\n      this: this,\n      account: this.props.account,\n      tiket_all: this.state.ti,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(NewTicket, {\n      id: \"new_ticket\",\n      this: this,\n      account: this.props.account,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Tiket, {\n      id: \"ticket\",\n      this: this,\n      ticket_id: this.state.ticket_id,\n      account: this.props.account,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(OtherProfile, {\n      id: \"other_profile\",\n      this: this,\n      agent_id: this.state.active_other_profile,\n      account: this.props.account,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 15\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/questions/main.js"],"names":["React","bridge","Button","Group","Alert","Avatar","Separator","Header","SimpleCell","Div","View","ScreenSpinner","ModalRoot","ModalCard","ModalPage","ModalPageHeader","Input","FormLayout","FormStatus","Slider","NewTicket","Questions","Tiket","OtherProfile","ModalPrometay","ModalDonut","Icon24Dismiss","Icon28FavoriteOutline","Icon28CoinsOutline","Icon28BillheadOutline","Icon28FireOutline","queryString","require","hash","parse","window","location","Main","Component","constructor","props","state","api_url","activePanel","activeModal","modalHistory","popout","ticket_id","history","active_other_profile","other_profile","ban_reason","comment","transfer","AgeUser","offset","tiket_all","tiket_all_helper","changeData","this","playAudio","ReloadProfile","reloadProfile","getQuestions","need_offset","url","setState","fetch","search","replace","then","res","json","data","result","sliyan","response","concat","showErrorAlert","error","message","catch","err","setPopout","value","goTiket","id","goPanel","onChange","event","name","currentTarget","goOtherProfile","modalBack","setActiveModal","length","goBack","send","pop","panel","indexOf","splice","push","showAlert","title","text","autoclose","mode","ChangeAge","age","userBan","user_id","getRandomTiket","componentDidMount","undefined","agent_id","render","modal","marginTop","account","avatar","e","setTimeout","action","console","log","whiteSpace","ti"],"mappings":"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","sourcesContent":["import React from 'react'; // React\r\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\r\n\r\n\r\nimport { \r\n  Button,\r\n  Group,\r\n  Alert,\r\n  Avatar,\r\n  Separator,\r\n  Header,\r\n  SimpleCell,\r\n  Div,\r\n  View,\r\n  ScreenSpinner,\r\n  ModalRoot,\r\n  ModalCard,\r\n  ModalPage,\r\n  ModalPageHeader,\r\n  Input,\r\n  FormLayout,\r\n  FormStatus,\r\n  Slider,\r\n  } from '@vkontakte/vkui';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../../style.css'\r\n// Импортируем панели\r\nimport NewTicket from './panels/new_tiket'\r\nimport Questions from './panels/questions'\r\nimport Tiket from '../../components/tiket';\r\nimport OtherProfile from '../../components/other_profile'\r\n\r\n//Импортируем модальные карточки\r\nimport ModalPrometay from '../../Modals/Prometay';\r\nimport ModalDonut from '../../Modals/Donut'\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\r\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\r\nimport Icon28BillheadOutline from '@vkontakte/icons/dist/28/billhead_outline';\r\nimport Icon28FireOutline from '@vkontakte/icons/dist/28/fire_outline';\r\n\r\nconst queryString = require('query-string');\r\n// const platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n// const parsedHash = queryString.parse(window.location.search.replace('?', ''));\r\nconst hash = queryString.parse(window.location.hash);\r\n\r\nexport default class Main extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            api_url: \"https://xelene.ru/road/php/index.php?\",\r\n            activePanel: 'questions',\r\n            activeModal: null,\r\n            modalHistory: [],\r\n            popout: this.props.popout,\r\n            ticket_id: null,\r\n            history: ['questions'],\r\n            active_other_profile: 0,\r\n            other_profile: null,\r\n            ban_reason: \"\",\r\n            comment: '',\r\n            transfer: {\r\n              'avatar': '',\r\n              'comment': ''\r\n            },\r\n            AgeUser: 0,\r\n            offset: 0,\r\n            tiket_all: null,\r\n            tiket_all_helper: null,\r\n\r\n\r\n        \r\n\r\n        }\r\n        this.changeData = this.props.this.changeData;\r\n        this.playAudio = this.props.this.playAudio;\r\n        this.ReloadProfile = this.props.reloadProfile;\r\n        // this.copy = this.props.this.copy;\r\n        // this.recordHistory = (panel) => {\r\n        //   this.setState({history: [...this.state.history, panel]})\r\n        // }\r\n        this.getQuestions = (need_offset=false) => {\r\n          let url = need_offset ? \"method=tickets.get&count=20&unanswered=1&offset=\" + this.state.offset : \"method=tickets.get&count=20&unanswered=1\";\r\n          if(!need_offset){\r\n              this.setState({ offset: 20})\r\n          }\r\n          fetch(this.state.api_url + url + \"&\" + window.location.search.replace('?', ''))\r\n          .then(res => res.json())\r\n          .then(data => {\r\n            if(data.result) {\r\n              this.setState({tiket_all: []})\r\n              if(this.state.tiket_all){\r\n                  var sliyan = data.response ? this.state.tiket_all.concat(data.response) : this.state.tiket_all;\r\n              }\r\n              \r\n              this.setState({tiket_all: sliyan, tiket_all_helper: data.response})\r\n              if(need_offset){\r\n                  this.setState({ offset: this.state.offset + 20 })\r\n              }\r\n            }else{\r\n              this.showErrorAlert(data.error.message)\r\n          }\r\n          })\r\n          .catch(err => {\r\n            this.showErrorAlert(err)\r\n          })\r\n        }\r\n        this.setPopout = (value) => {\r\n          this.setState({popout: value})\r\n        }\r\n        \r\n        this.goTiket = (id) => {\r\n          this.setPopout(<ScreenSpinner/>)\r\n          this.setState({ticket_id: id})\r\n          this.goPanel('ticket');\r\n          this.setPopout(null);\r\n        }\r\n        this.onChange = (event) => {\r\n          var name = event.currentTarget.name;\r\n          var value = event.currentTarget.value;\r\n          this.setState({ [name]: value });\r\n      }\r\n        this.goOtherProfile = (id) => {\r\n          this.setState({active_other_profile: id})\r\n          this.goPanel(\"other_profile\")\r\n        }\r\n        this.modalBack = () => {\r\n            this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n        };\r\n        this.goBack = () => {\r\n          const history = this.state.history;\r\n          if(history.length === 1) {\r\n              bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\r\n          } else if (history.length > 1) {\r\n              history.pop()\r\n              this.setState({activePanel: history[history.length - 1]})\r\n              // if(history[history.length - 1] === 'ticket'){\r\n              //   this.changeData('need_epic', false)\r\n              // } else{\r\n              //   this.changeData('need_epic', true)\r\n              // }\r\n          }\r\n      }\r\n        this.goPanel = (panel) => {\r\n          this.setState({history: [...this.state.history, panel], activePanel: panel})\r\n          // if(panel === 'ticket'){\r\n          //   this.changeData('need_epic', false)\r\n          // } else{\r\n          //   this.changeData('need_epic', true)\r\n          // }\r\n        }\r\n        this.setActiveModal = (activeModal) => {\r\n            activeModal = activeModal || null;\r\n            let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n        \r\n            if (activeModal === null) {\r\n              modalHistory = [];\r\n            } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n              modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n              modalHistory.push(activeModal);\r\n            }\r\n        \r\n            this.setState({\r\n              activeModal: activeModal,\r\n              modalHistory: modalHistory\r\n            });\r\n          };\r\n          this.showAlert = (title, text) => {\r\n            this.setState({\r\n              popout: \r\n                <Alert\r\n                  actions={[{\r\n                    title: 'Закрыть',\r\n                    autoclose: true,\r\n                    mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n                >\r\n                  <h2>{title}</h2>\r\n                  <p>{text}</p>\r\n              </Alert>\r\n            })\r\n          }\r\n          this.showErrorAlert = (error=null) => {\r\n            this.setPopout(\r\n              <Alert\r\n                  actions={[{\r\n                  title: 'Отмена',\r\n                  autoclose: true,\r\n                  mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n              >\r\n                <h2>Ошибка</h2>\r\n                {error ? <p>{error}</p> : <p>Что-то пошло не так, попробуйте снова!</p>}\r\n              </Alert>\r\n          )\r\n        }\r\n    }\r\n    ChangeAge(age) {\r\n      this.setState({popout: <ScreenSpinner/>})\r\n      fetch(this.state.api_url + \"method=account.setAge&age=\" + age + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setState({popout: null})\r\n          // setTimeout(() => {\r\n          //   this.playAudio()\r\n          // }, 5000)\r\n          \r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert()\r\n      })\r\n    }\r\n    userBan(user_id, text) {\r\n      this.setPopout(<ScreenSpinner/>)\r\n      fetch(this.state.api_url + \"method=account.ban&agent_id=\" + user_id + \"&banned=true&reason=\" + text + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setActiveModal(null);\r\n          this.showAlert('Успех', 'Пользователь забанен');\r\n          this.setPopout(null);\r\n        }else {\r\n          this.showErrorAlert(data.error.message)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert(err)\r\n      })\r\n    }\r\n    getRandomTiket() {\r\n      fetch(this.state.api_url + \"method=ticket.getRandom&\" + window.location.search.replace('?', ''))\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if(data.result) {\r\n            this.goTiket(data.response.id)\r\n          } else {\r\n            this.showErrorAlert(data.error.message)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.showErrorAlert(err)\r\n\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        if(hash.ticket_id !== undefined){\r\n          this.goTiket(hash.ticket_id)\r\n          bridge.send(\"VKWebAppSetLocation\", {\"location\": \"\"});\r\n        }\r\n        if(hash.agent_id !== undefined) {\r\n          this.goOtherProfile(hash.agent_id);\r\n          bridge.send(\"VKWebAppSetLocation\", {\"location\": \"\"});\r\n        //   if(window.history.pushState) {\r\n        //     window.history.pushState('', '/', window.location.pathname + window.location.search)\r\n        // } else {\r\n        //     window.location.hash = '';\r\n        // }\r\n        }\r\n      \r\n    }\r\n    render() {\r\n        const modal = (\r\n            <ModalRoot\r\n            activeModal={this.state.activeModal}\r\n            ><ModalPage\r\n            id=\"start\"\r\n            onClose={this.modalBack}\r\n            dynamicContentHeight\r\n            header={\r\n              <ModalPageHeader>\r\n                Добро пожаловать в игру\r\n              </ModalPageHeader>\r\n            }>\r\n              <Div style={{marginTop: 0}}>\r\n                <img className=\"AvaModalPage\" \r\n                src={this.props.account.id !== undefined ? this.props.account.avatar.url : null} \r\n                size={70}\r\n                alt='твоя ава' />\r\n                  <Header\r\n                  subtitle='Помните, отвечать нужно вдумчиво.'>Вам присвоен номер #{this.props.account.id !== undefined ? this.props.account.id : \"undefined\"}</Header>\r\n                <Separator />\r\n                <FormLayout>\r\n                  <FormStatus header=\"Внимание! Важная информация\" mode=\"error\">\r\n                    Сервис не имеет отношения к Администрации Вконтакте, а так же их разработкам.\r\n                  </FormStatus>\r\n                    <Slider\r\n                      min={10}\r\n                      max={100}\r\n                      step={1}\r\n                      value={this.state.AgeUser}\r\n                      onChange={e => {\r\n                        this.setState({AgeUser: e});\r\n                      }}\r\n                      top={`Укажите свой возраст: ${this.state.AgeUser}`}\r\n                    />\r\n                  </FormLayout>\r\n                  <Group>\r\n                    <SimpleCell disabled multiline\r\n                    before={<Icon28CoinsOutline />}>\r\n                      Зарабатывай монеты\r\n                    </SimpleCell>\r\n                    <SimpleCell disabled multiline\r\n                    before={<Icon28BillheadOutline />}>\r\n                      Отвечай на вопросы\r\n                    </SimpleCell>\r\n                    <SimpleCell disabled multiline\r\n                    before={<Icon28FavoriteOutline />}>\r\n                      Участвуй в рейтинге\r\n                    </SimpleCell>\r\n                    <SimpleCell disabled multiline\r\n                    before={<Icon28FireOutline />}>\r\n                      Получай отметку огня\r\n                    </SimpleCell>\r\n                  </Group>\r\n                  \r\n                  <Div>\r\n                    <Button \r\n                    mode=\"secondary\" \r\n                    size='xl'\r\n                    stretched\r\n                    onClick={() => {\r\n                      // this.playAudio()\r\n                      \r\n                      this.ChangeAge(this.state.AgeUser);\r\n                      this.setActiveModal(null);\r\n                      setTimeout(() => {\r\n                        this.ReloadProfile();\r\n                      },2000);\r\n                    }}>Вперёд!</Button>\r\n                  </Div>\r\n                </Div>\r\n            </ModalPage>\r\n              <ModalPrometay\r\n              id='prom'\r\n              onClose={() => this.setActiveModal(null)}\r\n              action={() => this.setActiveModal(null)} />\r\n\r\n              <ModalDonut\r\n              id='donut'\r\n              onClose={() => this.setActiveModal(null)}\r\n              action={() => this.setActiveModal(null)} />\r\n\r\n              <ModalCard\r\n                id='ban_user'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.other_profile ? this.state.other_profile['avatar']['url'] : null} size={72} />}\r\n                header=\"Забанить пользователя\"\r\n                actions={[{\r\n                  title: 'Забанить! 🤬',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.userBan(this.state.other_profile ? this.state.other_profile['id'] : 0, this.state.ban_reason);\r\n                    console.log(this.state.other_profile['id'])\r\n                  }\r\n                }]}\r\n              >\r\n                <Input disabled value={this.state.other_profile ? (this.state.other_profile['id'] < 0) ? -this.state.other_profile['id'] : this.state.other_profile['id'] : null}/>\r\n                <br/>\r\n                <Input maxLength=\"100\" name=\"ban_reason\" onChange={(e) => this.onChange(e)} placeholder=\"Введите причину бана\" value={this.state.ban_reason} />\r\n                \r\n              </ModalCard>\r\n              \r\n              <ModalCard\r\n                id='transfer'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.transfer.avatar} size={72} />}\r\n                header='Перевод монеток'\r\n                caption={this.state.transfer.comment}\r\n                actions={[{\r\n                  title: 'Закрыть',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }]}\r\n              >\r\n              </ModalCard>\r\n              <ModalPage\r\n                id=\"comment\"\r\n                onClose={this.modalBack}\r\n                header={\r\n                  <ModalPageHeader\r\n                  right={<Header onClick={this.modalBack}><Icon24Dismiss /></Header>}\r\n                  >\r\n                    Комментарий\r\n                  </ModalPageHeader>\r\n                }\r\n                >\r\n                  <Div>\r\n                    <div style={{whiteSpace: \"pre-wrap\"}}>{this.state.comment}</div>\r\n                  </Div>\r\n                </ModalPage>\r\n            </ModalRoot>\r\n        )\r\n        return(\r\n            <View \r\n            id={this.props.id}\r\n            activePanel={this.state.activePanel}\r\n            modal={modal}\r\n            popout={this.state.popout}\r\n            onSwipeBack={this.goBack}\r\n            >\r\n              <Questions id='questions' this={this} account={this.props.account} tiket_all={this.state.ti} />\r\n              <NewTicket id='new_ticket' this={this} account={this.props.account} /> \r\n              <Tiket id=\"ticket\" this={this} ticket_id={this.state.ticket_id} account={this.props.account} />\r\n              <OtherProfile id=\"other_profile\" this={this} agent_id={this.state.active_other_profile} account={this.props.account}/>\r\n            </View>   \r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}