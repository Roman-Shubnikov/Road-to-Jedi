{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\Profile\\\\panels\\\\schemechange.js\";\nimport React from 'react';\nimport { Panel, PanelHeader, ScreenSpinner, Separator, Header, PanelHeaderBack, Radio, FormLayout } from '@vkontakte/vkui';\nimport Message from '../../../components/message';\nimport avaUser from '../../../images/user.jpg';\nimport avaAgent from '../../../images/schemeagent.jpg';\nexport default class SchemeChange extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      api_url: \"https://xelene.ru/road/php/index.php?\"\n    };\n    var propsbi = this.props.this;\n    this.setPopout = propsbi.setPopout;\n    this.showErrorAlert = propsbi.showErrorAlert;\n    this.showAlert = propsbi.showAlert;\n    this.setActiveModal = propsbi.setActiveModal;\n\n    this.onChange = event => {\n      var name = event.currentTarget.name;\n      var value = event.currentTarget.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.ChangeScheme = e => {\n      this.setPopout( /*#__PURE__*/React.createElement(ScreenSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 28\n        }\n      }));\n      let value = e.currentTarget.value;\n      if (value === 0) fetch(this.state.api_url + \"method=account.changeScheme&scheme=\" + value + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n        if (data.result) {\n          setTimeout(() => {\n            this.props.this.ReloadProfile();\n            this.setPopout(null);\n          }, 3000);\n        } else {\n          this.showErrorAlert(data.error.message);\n        }\n      }).catch(err => {\n        this.showErrorAlert(err);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Panel, {\n      id: this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PanelHeader, {\n      left: /*#__PURE__*/React.createElement(PanelHeaderBack, {\n        onClick: () => window.history.back(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0430 \\u0442\\u0435\\u043C\\u044B\"), /*#__PURE__*/React.createElement(Header, {\n      mode: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"\\u041F\\u0440\\u0435\\u0434\\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\"), /*#__PURE__*/React.createElement(Separator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Message, {\n      title: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\",\n      is_mine: false,\n      avatar: avaUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \"\\u041E \\u0442\\u0443\\u0442 \\u043C\\u043E\\u0436\\u043D\\u043E \\u043C\\u0435\\u043D\\u044F\\u0442\\u044C \\u0442\\u0435\\u043C\\u0443\"), /*#__PURE__*/React.createElement(Message, {\n      title: \"\\u0410\\u0433\\u0435\\u043D\\u0442 \\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438\",\n      is_mine: true,\n      avatar: avaAgent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\"), /*#__PURE__*/React.createElement(Separator, {\n      style: {\n        marginTop: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(FormLayout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Radio, {\n      name: \"radio\",\n      onChange: this.ChangeScheme,\n      value: \"1\",\n      defaultChecked: this.props.account.scheme === 1 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u0432\\u0435\\u0442\\u043B\\u0430\\u044F \\u0442\\u0435\\u043C\\u0430\"), /*#__PURE__*/React.createElement(Radio, {\n      name: \"radio\",\n      onChange: this.ChangeScheme,\n      value: \"2\",\n      defaultChecked: this.props.account.scheme === 2 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, \"\\u0422\\u0451\\u043C\\u043D\\u0430\\u044F \\u0442\\u0435\\u043C\\u0430\"), /*#__PURE__*/React.createElement(Radio, {\n      name: \"radio\",\n      onChange: this.ChangeScheme,\n      value: \"0\",\n      description: \"\\u0421\\u0435\\u0440\\u0432\\u0438\\u0441 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u0442\\u0435\\u043C\\u0443, \\u0443\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u0443\\u044E \\u0432 \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430\\u0445 \\u0412\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435\",\n      defaultChecked: this.props.account.scheme === 0 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, \"\\u0410\\u0432\\u0442\\u043E\\u043C\\u0430\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\"))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/Profile/panels/schemechange.js"],"names":["React","Panel","PanelHeader","ScreenSpinner","Separator","Header","PanelHeaderBack","Radio","FormLayout","Message","avaUser","avaAgent","SchemeChange","Component","constructor","props","state","api_url","propsbi","this","setPopout","showErrorAlert","showAlert","setActiveModal","onChange","event","name","currentTarget","value","setState","ChangeScheme","e","fetch","window","location","search","replace","then","res","json","data","result","setTimeout","ReloadProfile","error","message","catch","err","render","id","history","back","marginTop","account","scheme"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n    Panel,\n    PanelHeader,\n    ScreenSpinner,\n    Separator,\n    Header,\n    PanelHeaderBack,\n    Radio,\n    FormLayout,\n    } from '@vkontakte/vkui';\n\nimport Message from '../../../components/message'\nimport avaUser from '../../../images/user.jpg'\nimport avaAgent from '../../../images/schemeagent.jpg'\n\nexport default class SchemeChange extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.showAlert = propsbi.showAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n        this.ChangeScheme = (e) => {\n            this.setPopout(<ScreenSpinner />)\n            let value = e.currentTarget.value;\n            if(value === 0)\n            fetch(this.state.api_url + \"method=account.changeScheme&scheme=\" + value + \"&\" + window.location.search.replace('?', ''))\n                .then(res => res.json())\n                .then(data => {\n                if(data.result) {\n                    setTimeout(() => {\n                        this.props.this.ReloadProfile();\n                        this.setPopout(null)\n                      }, 3000)\n                }else{\n                    this.showErrorAlert(data.error.message)\n                }\n                })\n                .catch(err => {\n                    this.showErrorAlert(err)\n    \n                })\n    \n        }\n    }\n    \n\n    render() {\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderBack onClick={() => window.history.back()} /> \n                }>\n                    Смена темы\n                </PanelHeader>\n                <Header mode='secondary'>Предпросмотр</Header>\n                <Separator /> \n                <Message\n                title='Пользователь'\n                is_mine={false}\n                avatar={avaUser}\n                >О тут можно менять тему</Message>\n                <Message\n                title='Агент Поддержки'\n                is_mine={true}\n                avatar={avaAgent}\n                >Действительно</Message>\n                <Separator style={{marginTop: 10}} />\n                <FormLayout>\n                    <div>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"1\" defaultChecked={(this.props.account.scheme === 1) ? true : false}>Светлая тема</Radio>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"2\" defaultChecked={(this.props.account.scheme === 2) ? true : false}>Тёмная тема</Radio>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"0\" description='Сервис будет использовать тему, установленную в настройках ВКонтакте' defaultChecked={(this.props.account.scheme === 0) ? true : false}>Автоматически</Radio>\n                    </div>\n                </FormLayout>\n            </Panel>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}