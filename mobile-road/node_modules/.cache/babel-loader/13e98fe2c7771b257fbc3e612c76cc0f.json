{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Panel,PanelHeader,Div,Avatar,Separator,PullToRefresh,SimpleCell,PanelSpinner,FormStatus,ScreenSpinner}from'@vkontakte/vkui';import Icon16Fire from'@vkontakte/icons/dist/16/fire';import Icon16Verified from'@vkontakte/icons/dist/16/verified';import Icon16StarCircleFillYellow from'@vkontakte/icons/dist/16/star_circle_fill_yellow';// import Icon28SyncOutline from '@vkontakte/icons/dist/28/sync_outline';\n// const platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\nvar Reader=/*#__PURE__*/function(_React$Component){_inherits(Reader,_React$Component);var _super=_createSuper(Reader);function Reader(props){var _this;_classCallCheck(this,Reader);_this=_super.call(this,props);_this.state={api_url:\"https://xelene.ru/road/php/index.php?\",fetching:false};var propsbi=_this.props.this;_this.setPopout=propsbi.setPopout;_this.showErrorAlert=propsbi.showErrorAlert;_this.setActiveModal=propsbi.setActiveModal;return _this;}_createClass(Reader,[{key:\"Prepare_top\",value:function Prepare_top(){var _this2=this;var needPopout=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(needPopout){this.setPopout(/*#__PURE__*/React.createElement(ScreenSpinner,null));}this.props.this.getTopUsers();setTimeout(function(){_this2.setState({fetching:false});if(needPopout){_this2.setPopout(null);}},500);}},{key:\"componentDidMount\",value:function componentDidMount(){// this.Prepare_top()\n}},{key:\"render\",value:function render(){var _this3=this;var props=this.props.this;// для более удобного использования.\nreturn/*#__PURE__*/React.createElement(Panel,{id:this.props.id},/*#__PURE__*/React.createElement(PanelHeader// left={platformname ? null : <PanelHeaderButton onClick={() => this.Prepare_top(true)}><Icon28SyncOutline/></PanelHeaderButton>}\n,null,\"\\u0422\\u043E\\u043F\"),/*#__PURE__*/React.createElement(Div,null,/*#__PURE__*/React.createElement(FormStatus,{header:\"\\u0412\\u043D\\u0438\\u043C\\u0430\\u043D\\u0438\\u0435! \\u0412\\u0430\\u0436\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\",mode:\"default\"},\"\\u0421\\u0435\\u0440\\u0432\\u0438\\u0441 \\u043D\\u0435 \\u0438\\u043C\\u0435\\u0435\\u0442 \\u043E\\u0442\\u043D\\u043E\\u0448\\u0435\\u043D\\u0438\\u044F \\u043A \\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438 \\u0412\\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435, \\u0430 \\u0442\\u0430\\u043A\\u0436\\u0435 \\u0438\\u0445 \\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0430\\u043C.\")),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PullToRefresh,{onRefresh:function onRefresh(){_this3.setState({fetching:true});_this3.Prepare_top();},isFetching:this.state.fetching},this.props.top_agents?this.props.top_agents.map(function(result,i){return result['banned']?null:/*#__PURE__*/React.createElement(React.Fragment,{key:result.id},/*#__PURE__*/React.createElement(SimpleCell,{onClick:function onClick(){props.goOtherProfile(result['id'],true);_this3.setState({top_agents:null});},description:/*#__PURE__*/React.createElement(\"div\",{className:\"top_moderator_desc\"},result['good_answers']+\" хороших ответов, \"+result['bad_answers']+\" плохих ответов\"),size:\"l\",before:/*#__PURE__*/React.createElement(Avatar,{src:result['avatar']['url']})},/*#__PURE__*/React.createElement(\"div\",{className:\"top_moderator_name\"},isFinite(result['nickname'])?\"\\u0410\\u0433\\u0435\\u043D\\u0442 \\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438 #\".concat(result['nickname']):result['nickname']?result['nickname']:\"\\u0410\\u0433\\u0435\\u043D\\u0442 \\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438 #\".concat(result['id']),/*#__PURE__*/React.createElement(\"div\",{className:\"top_moderator_name_icon\"},result['flash']===true?/*#__PURE__*/React.createElement(Icon16Fire,{width:12,height:12,onClick:function onClick(){return _this3.setActiveModal('prom');},className:\"top_moderator_name_icon\"}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"top_moderator_name_icon\"},result['donut']===true?/*#__PURE__*/React.createElement(Icon16StarCircleFillYellow,{width:12,height:12,className:\"top_moderator_name_icon\",onClick:function onClick(){return _this3.setActiveModal('donut');}}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"top_moderator_name_icon_ver\"},result['verified']===true?/*#__PURE__*/React.createElement(Icon16Verified,{className:\"top_moderator_name_icon_ver\"}):null))),/*#__PURE__*/React.createElement(Separator,null));}):/*#__PURE__*/React.createElement(PanelSpinner,null))));}}]);return Reader;}(React.Component);export default Reader;","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/topUsers/panels/top.js"],"names":["React","Panel","PanelHeader","Div","Avatar","Separator","PullToRefresh","SimpleCell","PanelSpinner","FormStatus","ScreenSpinner","Icon16Fire","Icon16Verified","Icon16StarCircleFillYellow","Reader","props","state","api_url","fetching","propsbi","this","setPopout","showErrorAlert","setActiveModal","needPopout","getTopUsers","setTimeout","setState","id","Prepare_top","top_agents","map","result","i","goOtherProfile","isFinite","Component"],"mappings":"grBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,KADF,CAEEC,WAFF,CAGEC,GAHF,CAIEC,MAJF,CAKEC,SALF,CAMEC,aANF,CAOEC,UAPF,CAQEC,YARF,CASEC,UATF,CAUEC,aAVF,KAYS,iBAZT,CAcA,MAAOC,CAAAA,UAAP,KAAuB,+BAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,CACA,MAAOC,CAAAA,0BAAP,KAAuC,kDAAvC,CACA;AAGA;GAGUC,CAAAA,M,4GACF,gBAAYC,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,uCADE,CAEXC,QAAQ,CAAE,KAFC,CAAb,CAIA,GAAIC,CAAAA,OAAO,CAAG,MAAKJ,KAAL,CAAWK,IAAzB,CACA,MAAKC,SAAL,CAAiBF,OAAO,CAACE,SAAzB,CACA,MAAKC,cAAL,CAAsBH,OAAO,CAACG,cAA9B,CACA,MAAKC,cAAL,CAAsBJ,OAAO,CAACI,cAA9B,CATe,aAUlB,C,oEAC6B,oBAAlBC,CAAAA,UAAkB,2DAAP,KAAO,CAC5B,GAAGA,UAAH,CAAc,CACZ,KAAKH,SAAL,cAAe,oBAAC,aAAD,MAAf,EACD,CACD,KAAKN,KAAL,CAAWK,IAAX,CAAgBK,WAAhB,GACAC,UAAU,CAAC,UAAM,CACf,MAAI,CAACC,QAAL,CAAc,CAACT,QAAQ,CAAE,KAAX,CAAd,EACA,GAAGM,UAAH,CAAc,CACZ,MAAI,CAACH,SAAL,CAAe,IAAf,EACH,CACA,CALS,CAKP,GALO,CAAV,CAMD,C,6DACkB,CACjB;AACD,C,uCACQ,iBACL,GAAIN,CAAAA,KAAK,CAAG,KAAKA,KAAL,CAAWK,IAAvB,CAA6B;AAC7B,mBACI,oBAAC,KAAD,EAAO,EAAE,CAAE,KAAKL,KAAL,CAAWa,EAAtB,eACA,oBAAC,WACD;AADA,2BADA,cAMA,oBAAC,GAAD,mBACI,oBAAC,UAAD,EAAY,MAAM,CAAC,qJAAnB,CAAiD,IAAI,CAAC,SAAtD,iZADJ,CANA,cAWA,qDAAE,oBAAC,aAAD,EAAe,SAAS,CAAE,oBAAM,CAAC,MAAI,CAACD,QAAL,CAAc,CAACT,QAAQ,CAAE,IAAX,CAAd,EAAgC,MAAI,CAACW,WAAL,GAAmB,CAApF,CAAsF,UAAU,CAAE,KAAKb,KAAL,CAAWE,QAA7G,EACC,KAAKH,KAAL,CAAWe,UAAX,CAAwB,KAAKf,KAAL,CAAWe,UAAX,CAAsBC,GAAtB,CAA0B,SAACC,MAAD,CAASC,CAAT,QACjDD,CAAAA,MAAM,CAAC,QAAD,CAAN,CAAmB,IAAnB,cACA,oBAAC,KAAD,CAAO,QAAP,EAAgB,GAAG,CAAEA,MAAM,CAACJ,EAA5B,eACA,oBAAC,UAAD,EACE,OAAO,CAAE,kBAAM,CAACb,KAAK,CAACmB,cAAN,CAAqBF,MAAM,CAAC,IAAD,CAA3B,CAAmC,IAAnC,EAAyC,MAAI,CAACL,QAAL,CAAc,CAACG,UAAU,CAAE,IAAb,CAAd,EAAmC,CAD9F,CAEE,WAAW,cACT,2BAAK,SAAS,CAAC,oBAAf,EACCE,MAAM,CAAC,cAAD,CAAN,CAA0B,oBAA1B,CAAiDA,MAAM,CAAC,aAAD,CAAvD,CAAyE,iBAD1E,CAHJ,CAOE,IAAI,CAAC,GAPP,CAQE,MAAM,cAAE,oBAAC,MAAD,EAAQ,GAAG,CAAEA,MAAM,CAAC,QAAD,CAAN,CAAiB,KAAjB,CAAb,EARV,eAUF,2BAAK,SAAS,CAAC,oBAAf,EACCG,QAAQ,CAACH,MAAM,CAAC,UAAD,CAAP,CAAR,kGAAmDA,MAAM,CAAC,UAAD,CAAzD,EAA0EA,MAAM,CAAC,UAAD,CAAN,CAAqBA,MAAM,CAAC,UAAD,CAA3B,kGAA8DA,MAAM,CAAC,IAAD,CAApE,CAD3E,cAEE,2BAAK,SAAS,CAAC,yBAAf,EACGA,MAAM,CAAC,OAAD,CAAN,GAAoB,IAApB,cAA2B,oBAAC,UAAD,EAAY,KAAK,CAAE,EAAnB,CAAuB,MAAM,CAAE,EAA/B,CAAmC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACT,cAAL,CAAoB,MAApB,CAAN,EAA5C,CAA+E,SAAS,CAAC,yBAAzF,EAA3B,CAAkJ,IADrJ,CAFF,cAKE,2BAAK,SAAS,CAAC,yBAAf,EACGS,MAAM,CAAC,OAAD,CAAN,GAAoB,IAApB,cAA2B,oBAAC,0BAAD,EAA4B,KAAK,CAAE,EAAnC,CAAuC,MAAM,CAAE,EAA/C,CAAmD,SAAS,CAAC,yBAA7D,CAAuF,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACT,cAAL,CAAoB,OAApB,CAAN,EAAhG,EAA3B,CAAoK,IADvK,CALF,cAQE,2BAAK,SAAS,CAAC,6BAAf,EACGS,MAAM,CAAC,UAAD,CAAN,GAAuB,IAAvB,cAA8B,oBAAC,cAAD,EAAgB,SAAS,CAAC,6BAA1B,EAA9B,CAA2F,IAD9F,CARF,CAVE,CADA,cAwBH,oBAAC,SAAD,MAxBG,CAFiD,EAA1B,CAAxB,cA4BG,oBAAC,YAAD,MA7BJ,CAAF,CAXA,CADJ,CA6CC,C,oBA1EYhC,KAAK,CAACoC,S,EA6E/B,cAAetB,CAAAA,MAAf","sourcesContent":["import React from 'react';\nimport { \n  Panel,\n  PanelHeader,\n  Div,\n  Avatar,\n  Separator,\n  PullToRefresh,\n  SimpleCell,\n  PanelSpinner,\n  FormStatus,\n  ScreenSpinner,\n\n  } from '@vkontakte/vkui';\n\nimport Icon16Fire from '@vkontakte/icons/dist/16/fire';\nimport Icon16Verified from '@vkontakte/icons/dist/16/verified';\nimport Icon16StarCircleFillYellow from '@vkontakte/icons/dist/16/star_circle_fill_yellow';\n// import Icon28SyncOutline from '@vkontakte/icons/dist/28/sync_outline';\n\n\n// const platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n\n\n    class Reader extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n              api_url: \"https://xelene.ru/road/php/index.php?\",\n              fetching: false,\n            }\n            var propsbi = this.props.this;\n            this.setPopout = propsbi.setPopout;\n            this.showErrorAlert = propsbi.showErrorAlert;\n            this.setActiveModal = propsbi.setActiveModal;\n        }\n        Prepare_top(needPopout=false) {\n          if(needPopout){\n            this.setPopout(<ScreenSpinner />)\n          }\n          this.props.this.getTopUsers()\n          setTimeout(() => {\n            this.setState({fetching: false});\n            if(needPopout){\n              this.setPopout(null)\n          }\n          }, 500)\n        }\n        componentDidMount(){\n          // this.Prepare_top()\n        }\n        render() {\n            var props = this.props.this; // для более удобного использования.\n            return (\n                <Panel id={this.props.id}>\n                <PanelHeader\n                // left={platformname ? null : <PanelHeaderButton onClick={() => this.Prepare_top(true)}><Icon28SyncOutline/></PanelHeaderButton>}\n                >\n                Топ\n                </PanelHeader>\n                <Div>\n                    <FormStatus header=\"Внимание! Важная информация\" mode=\"default\">\n                    Сервис не имеет отношения к Администрации Вконтакте, а также их разработкам.\n                    </FormStatus>\n                </Div>\n                <><PullToRefresh onRefresh={() => {this.setState({fetching: true});this.Prepare_top()}} isFetching={this.state.fetching}>\n                  {this.props.top_agents ? this.props.top_agents.map((result, i) => \n                    result['banned'] ? null :\n                    <React.Fragment key={result.id}>\n                    <SimpleCell\n                      onClick={() => {props.goOtherProfile(result['id'], true);this.setState({top_agents: null});}}\n                      description={\n                        <div className=\"top_moderator_desc\">\n                        {result['good_answers'] +  \" хороших ответов, \" + result['bad_answers'] + \" плохих ответов\"}\n                        </div>\n                      }\n                      size=\"l\"\n                      before={<Avatar src={result['avatar']['url']}/>}\n                    >\n                  <div className=\"top_moderator_name\">\n                  {isFinite(result['nickname']) ? `Агент Поддержки #${result['nickname']}` : result['nickname'] ? result['nickname'] : `Агент Поддержки #${result['id']}`}\n                    <div className=\"top_moderator_name_icon\">\n                      {result['flash'] === true ? <Icon16Fire width={12} height={12} onClick={() => this.setActiveModal('prom')} className=\"top_moderator_name_icon\"/> : null}\n                    </div>\n                    <div className=\"top_moderator_name_icon\">\n                      {result['donut'] === true ? <Icon16StarCircleFillYellow width={12} height={12} className=\"top_moderator_name_icon\" onClick={() => this.setActiveModal('donut')} /> : null}\n                    </div>\n                    <div className=\"top_moderator_name_icon_ver\">\n                      {result['verified'] === true ? <Icon16Verified className=\"top_moderator_name_icon_ver\"/>  : null }\n                    </div>\n                  </div>\n                  </SimpleCell>\n                 <Separator/>\n                 </React.Fragment>\n                  ) : <PanelSpinner />}\n                </PullToRefresh></>\n            </Panel>\n            )\n            }\n        }\n  \nexport default Reader;"]},"metadata":{},"sourceType":"module"}