{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\topUsers\\\\panels\\\\top.js\";\nimport React from 'react';\nimport { Panel, PanelHeader, PanelHeaderButton, Button, Group, Alert, Avatar, Placeholder, Separator, PullToRefresh, PanelSpinner, InfoRow, Header, Counter, SimpleCell, PromoBanner, FixedLayout, Cell, Div, HorizontalScroll, View, Switch, ScreenSpinner } from '@vkontakte/vkui';\nimport Icon16Fire from '@vkontakte/icons/dist/16/fire';\nimport Icon16Verified from '@vkontakte/icons/dist/16/verified';\n\nclass Reader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      api_url: \"https://xelene.ru/road/php/index.php?\",\n      fetching: false,\n      top_agents: null\n    };\n    var props = this.props.this;\n    this.setPopout = props.setPopout;\n    this.showErrorAlert = props.showErrorAlert;\n    this.setActiveModal = props.setActiveModal;\n  }\n\n  getTopUsers() {\n    fetch(this.state.api_url + \"method=users.getTop&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n      if (data.result) {\n        this.setState({\n          top_agents: data.response\n        });\n        setTimeout(() => {\n          this.setState({\n            fetching: false\n          });\n        }, 500);\n      }\n    }).catch(err => {\n      this.showErrorAlert(err);\n    });\n  }\n\n  componentDidMount() {\n    this.getTopUsers();\n  }\n\n  render() {\n    var props = this.props.this; // для более удобного использования.\n\n    return /*#__PURE__*/React.createElement(Panel, {\n      id: this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PanelHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"\\u0422\\u043E\\u043F\"), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PullToRefresh, {\n      onRefresh: () => {\n        this.setState({\n          fetching: true\n        });\n        this.getTopUsers();\n      },\n      isFetching: this.state.fetching,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }\n    }, this.state.top_agents ? this.state.top_agents.map((result, i) => result['banned'] ? null : /*#__PURE__*/React.createElement(React.Fragment, {\n      key: result.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(SimpleCell, {\n      onClick: () => props.goOtherProfile(result['id'], true),\n      description: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"top_moderator_desc\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }\n      }, result['good_answers'] + \" хороших ответов, \" + result['bad_answers'] + \" плохих ответов\"),\n      size: \"l\",\n      before: /*#__PURE__*/React.createElement(Avatar, {\n        src: result['avatar']['url'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 31\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top_moderator_name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }, isFinite(result['nickname']) ? `Агент Поддержки #${result['nickname']}` : result['nickname'] ? result['nickname'] : `Агент Поддержки #${result['id']}`, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top_moderator_name_icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, result['flash'] === true ? /*#__PURE__*/React.createElement(Icon16Fire, {\n      onClick: () => this.setActiveModal('prom'),\n      className: \"top_moderator_name_icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 90\n      }\n    }) : null, result['verified'] === true ? /*#__PURE__*/React.createElement(Icon16Verified, {\n      className: \"top_moderator_name_icon_ver\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 222\n      }\n    }) : null))), /*#__PURE__*/React.createElement(Separator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 18\n      }\n    }))) : null)));\n  }\n\n}\n\nexport default Reader;","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/topUsers/panels/top.js"],"names":["React","Panel","PanelHeader","PanelHeaderButton","Button","Group","Alert","Avatar","Placeholder","Separator","PullToRefresh","PanelSpinner","InfoRow","Header","Counter","SimpleCell","PromoBanner","FixedLayout","Cell","Div","HorizontalScroll","View","Switch","ScreenSpinner","Icon16Fire","Icon16Verified","Reader","Component","constructor","props","state","api_url","fetching","top_agents","this","setPopout","showErrorAlert","setActiveModal","getTopUsers","fetch","window","location","search","replace","then","res","json","data","result","setState","response","setTimeout","catch","err","componentDidMount","render","id","map","i","goOtherProfile","isFinite"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n  Panel,\n  PanelHeader,\n  PanelHeaderButton,\n  Button,\n  Group,\n  Alert,\n  Avatar,\n  Placeholder,\n  Separator,\n  PullToRefresh,\n  PanelSpinner,\n  InfoRow,\n  Header,\n  Counter,\n  SimpleCell,\n  PromoBanner,\n  FixedLayout,\n  Cell,\n  Div,\n  HorizontalScroll,\n  View,\n  Switch,\n  ScreenSpinner,\n  } from '@vkontakte/vkui';\n\nimport Icon16Fire from '@vkontakte/icons/dist/16/fire';\nimport Icon16Verified from '@vkontakte/icons/dist/16/verified';\n\n    class Reader extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n              api_url: \"https://xelene.ru/road/php/index.php?\",\n              fetching: false,\n              top_agents: null,\n            }\n            var props = this.props.this;\n            this.setPopout = props.setPopout;\n            this.showErrorAlert = props.showErrorAlert;\n            this.setActiveModal = props.setActiveModal;\n        }\n        getTopUsers(){\n          fetch(this.state.api_url + \"method=users.getTop&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n              this.setState({top_agents: data.response})\n              setTimeout(() => {\n                this.setState({fetching: false});\n              }, 500)\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert(err)\n\n          })\n        }\n        componentDidMount(){\n          this.getTopUsers()\n        }\n        render() {\n            var props = this.props.this; // для более удобного использования.\n            return (\n                <Panel id={this.props.id}>\n                <PanelHeader>\n                Топ\n                </PanelHeader>              \n                <><PullToRefresh onRefresh={() => {this.setState({fetching: true});this.getTopUsers()}} isFetching={this.state.fetching}>\n                  {this.state.top_agents ? this.state.top_agents.map((result, i) => \n                    result['banned'] ? null :\n                    <React.Fragment key={result.id}>\n                    <SimpleCell\n                      onClick={() => props.goOtherProfile(result['id'], true)}\n                      description={\n                        <div className=\"top_moderator_desc\">\n                        {result['good_answers'] +  \" хороших ответов, \" + result['bad_answers'] + \" плохих ответов\"}\n                        </div>\n                      }\n                      size=\"l\"\n                      before={<Avatar src={result['avatar']['url']}/>}\n                    >\n                  <div className=\"top_moderator_name\">\n                  {isFinite(result['nickname']) ? `Агент Поддержки #${result['nickname']}` : result['nickname'] ? result['nickname'] : `Агент Поддержки #${result['id']}`}\n                    <div className=\"top_moderator_name_icon\">{result['flash'] === true ? <Icon16Fire onClick={() => this.setActiveModal('prom')} className=\"top_moderator_name_icon\"/> : null}{result['verified'] === true ? <Icon16Verified className=\"top_moderator_name_icon_ver\"/>  : null }</div>\n                  </div>\n                  </SimpleCell>\n                 <Separator/>\n                 </React.Fragment>\n                  ) : null}\n                </PullToRefresh></>\n            </Panel>\n            )\n            }\n        }\n  \nexport default Reader;"]},"metadata":{},"sourceType":"module"}