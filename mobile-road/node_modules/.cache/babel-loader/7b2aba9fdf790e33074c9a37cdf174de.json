{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rshub\\\\Desktop\\\\Road-to-Jedi\\\\mobile-road\\\\src\\\\panels\\\\Profile\\\\panels\\\\schemechange.js\";\nimport React from 'react';\nimport { Panel, PanelHeader, PanelHeaderButton, ScreenSpinner, Group, Input, Avatar, Button, Alert, Placeholder, Separator, PullToRefresh, PanelSpinner, InfoRow, Header, Counter, SimpleCell, PromoBanner, FixedLayout, Cell, Div, HorizontalScroll, View, Switch, Snackbar, PanelHeaderBack, CellButton, Radio, FormLayout } from '@vkontakte/vkui';\nimport Message from '../../../components/message';\nimport Icon28DoneOutline from '@vkontakte/icons/dist/28/done_outline';\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\nimport Icon28DeleteOutline from '@vkontakte/icons/dist/28/delete_outline';\nimport Icon28PaletteOutline from '@vkontakte/icons/dist/28/palette_outline';\nimport Icon28TargetOutline from '@vkontakte/icons/dist/28/target_outline';\nexport default class SchemeChange extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      api_url: \"https://xelene.ru/road/php/index.php?\"\n    };\n    var props = this.props.this;\n    this.setPopout = props.setPopout;\n    this.showErrorAlert = props.showErrorAlert;\n    this.showAlert = props.showAlert;\n    this.setActiveModal = props.setActiveModal;\n\n    this.onChange = event => {\n      var name = event.currentTarget.name;\n      var value = event.currentTarget.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.ChangeScheme = e => {\n      this.setPopout( /*#__PURE__*/React.createElement(ScreenSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 28\n        }\n      }));\n      let value = e.currentTarget.value;\n      fetch(this.state.api_url + \"method=account.changeScheme&scheme=\" + value + \"&\" + window.location.search.replace('?', '')).then(res => res.json()).then(data => {\n        if (data.result) {\n          setTimeout(() => {\n            this.props.this.ReloadProfile();\n            this.setPopout(null);\n          }, 3000);\n        } else {\n          this.showErrorAlert(data.error.message);\n        }\n      }).catch(err => {\n        this.showErrorAlert(err);\n      });\n    };\n  }\n\n  render() {\n    var props = this.props.this;\n    return /*#__PURE__*/React.createElement(Panel, {\n      id: this.props.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PanelHeader, {\n      left: /*#__PURE__*/React.createElement(PanelHeaderBack, {\n        onClick: () => this.props.this.goBack(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0430 \\u0442\\u0435\\u043C\\u044B\"), /*#__PURE__*/React.createElement(Header, {\n      mode: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, \"\\u041F\\u0440\\u0435\\u0434\\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\"), /*#__PURE__*/React.createElement(Separator, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Message, {\n      title: \"\\u0410\\u0433\\u0435\\u043D\\u0442 \\u041F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(FormLayout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Radio, {\n      name: \"radio\",\n      onChange: this.ChangeScheme,\n      value: \"1\",\n      defaultChecked: this.props.account.scheme === 1 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, \"\\u0421\\u0432\\u0435\\u0442\\u043B\\u0430\\u044F \\u0442\\u0435\\u043C\\u0430\"), /*#__PURE__*/React.createElement(Radio, {\n      name: \"radio\",\n      onChange: this.ChangeScheme,\n      value: \"2\",\n      defaultChecked: this.props.account.scheme === 2 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, \"\\u0422\\u0451\\u043C\\u043D\\u0430\\u044F \\u0442\\u0435\\u043C\\u0430\"), /*#__PURE__*/React.createElement(Radio, {\n      name: \"radio\",\n      onChange: this.ChangeScheme,\n      value: \"0\",\n      description: \"\\u0421\\u0435\\u0440\\u0432\\u0438\\u0441 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u0442\\u0435\\u043C\\u0443 \\u0443\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u0443\\u044E \\u0432 \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430\\u0445 \\u0432\\u043A\",\n      defaultChecked: this.props.account.scheme === 0 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, \"\\u0410\\u0432\\u0442\\u043E\\u043C\\u0430\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\"))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rshub/Desktop/Road-to-Jedi/mobile-road/src/panels/Profile/panels/schemechange.js"],"names":["React","Panel","PanelHeader","PanelHeaderButton","ScreenSpinner","Group","Input","Avatar","Button","Alert","Placeholder","Separator","PullToRefresh","PanelSpinner","InfoRow","Header","Counter","SimpleCell","PromoBanner","FixedLayout","Cell","Div","HorizontalScroll","View","Switch","Snackbar","PanelHeaderBack","CellButton","Radio","FormLayout","Message","Icon28DoneOutline","Icon28CoinsOutline","Icon28DeleteOutline","Icon28PaletteOutline","Icon28TargetOutline","SchemeChange","Component","constructor","props","state","api_url","this","setPopout","showErrorAlert","showAlert","setActiveModal","onChange","event","name","currentTarget","value","setState","ChangeScheme","e","fetch","window","location","search","replace","then","res","json","data","result","setTimeout","ReloadProfile","error","message","catch","err","render","id","goBack","account","scheme"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n    Panel,\n    PanelHeader,\n    PanelHeaderButton,\n    ScreenSpinner,\n\n    Group,\n    Input,\n    Avatar,\n    Button,\n    Alert,\n    Placeholder,\n    Separator,\n    PullToRefresh,\n    PanelSpinner,\n    InfoRow,\n    Header,\n    Counter,\n    SimpleCell,\n    PromoBanner,\n    FixedLayout,\n    Cell,\n    Div,\n    HorizontalScroll,\n    View,\n    Switch,\n    Snackbar,\n    PanelHeaderBack,\n    CellButton,\n    Radio,\n    FormLayout,\n    } from '@vkontakte/vkui';\n\nimport Message from '../../../components/message'\n\nimport Icon28DoneOutline from '@vkontakte/icons/dist/28/done_outline';\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\nimport Icon28DeleteOutline from '@vkontakte/icons/dist/28/delete_outline';\nimport Icon28PaletteOutline from '@vkontakte/icons/dist/28/palette_outline';\nimport Icon28TargetOutline from '@vkontakte/icons/dist/28/target_outline';\n\n\nexport default class SchemeChange extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n\n        }\n        var props = this.props.this;\n        this.setPopout = props.setPopout;\n        this.showErrorAlert = props.showErrorAlert;\n        this.showAlert = props.showAlert;\n        this.setActiveModal = props.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n        this.ChangeScheme = (e) => {\n            this.setPopout(<ScreenSpinner />)\n            let value = e.currentTarget.value;\n            fetch(this.state.api_url + \"method=account.changeScheme&scheme=\" + value + \"&\" + window.location.search.replace('?', ''))\n                .then(res => res.json())\n                .then(data => {\n                if(data.result) {\n\n                    setTimeout(() => {\n                        this.props.this.ReloadProfile();\n                        this.setPopout(null)\n                      }, 3000)\n                }else{\n                    this.showErrorAlert(data.error.message)\n                }\n                })\n                .catch(err => {\n                    this.showErrorAlert(err)\n    \n                })\n    \n        }\n    }\n    \n\n    render() {\n        var props = this.props.this;\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderBack onClick={() => this.props.this.goBack()} /> \n                }>\n                    Смена темы\n                </PanelHeader>\n                <Header mode='secondary'>Предпросмотр</Header>\n                <Separator />\n                <Message\n                title='Агент Поддержки '\n                ></Message>\n                <FormLayout>\n                    <div>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"1\" defaultChecked={(this.props.account.scheme === 1) ? true : false}>Светлая тема</Radio>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"2\" defaultChecked={(this.props.account.scheme === 2) ? true : false}>Тёмная тема</Radio>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"0\" description='Сервис будет использовать тему установленную в настройках вк' defaultChecked={(this.props.account.scheme === 0) ? true : false}>Автоматически</Radio>\n                    </div>\n                </FormLayout>\n            </Panel>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}