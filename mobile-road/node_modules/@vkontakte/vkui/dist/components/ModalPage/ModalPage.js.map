{"version":3,"sources":["../../../src/components/ModalPage/ModalPage.tsx"],"names":["React","useContext","useEffect","getClassName","classNames","ModalRootContext","usePlatform","withAdaptivity","ViewHeight","ViewWidth","ModalDismissButton","ModalPage","props","platform","updateModalHeight","children","className","header","viewWidth","viewHeight","onClose","isDesktop","SMALL_TABLET","MEDIUM","canShowCloseBtn","defaultProps","settlingHeight"],"mappings":"AAAA,OAAOA,KAAP,IAA+CC,UAA/C,EAA2DC,SAA3D,QAA4E,OAA5E;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,SAASC,gBAAT,QAAiC,+BAAjC;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,cAAP,IAA0CC,UAA1C,EAAsDC,SAAtD,QAAuE,0BAAvE;AACA,OAAOC,kBAAP,MAA+B,0CAA/B;;AAmBA,IAAMC,SAA6B,GAAG,SAAhCA,SAAgC,CAACC,KAAD,EAAW;AAC/C,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;;AAD+C,oBAEjBL,UAAU,CAACI,gBAAD,CAFO;AAAA,MAEvCS,iBAFuC,eAEvCA,iBAFuC;;AAAA,MAI7CC,QAJ6C,GAU3CH,KAV2C,CAI7CG,QAJ6C;AAAA,MAK7CC,SAL6C,GAU3CJ,KAV2C,CAK7CI,SAL6C;AAAA,MAM7CC,MAN6C,GAU3CL,KAV2C,CAM7CK,MAN6C;AAAA,MAO7CC,SAP6C,GAU3CN,KAV2C,CAO7CM,SAP6C;AAAA,MAQ7CC,UAR6C,GAU3CP,KAV2C,CAQ7CO,UAR6C;AAAA,MAS7CC,OAT6C,GAU3CR,KAV2C,CAS7CQ,OAT6C;AAY/ClB,EAAAA,SAAS,CAAC,YAAM;AACdY,IAAAA,iBAAiB;AAClB,GAFQ,EAEN,CAACC,QAAD,CAFM,CAAT;AAIA,MAAMM,SAAS,GAAGH,SAAS,IAAIT,SAAS,CAACa,YAAvB,IAAuCH,UAAU,IAAIX,UAAU,CAACe,MAAlF;AACA,MAAMC,eAAe,GAAGN,SAAS,IAAIT,SAAS,CAACa,YAA/C;AAEA,sBACE;AAAK,IAAA,SAAS,EAAElB,UAAU,CAACD,YAAY,CAAC,WAAD,EAAcU,QAAd,CAAb,EAAsCG,SAAtC,EAAiD;AACzE,4BAAsBK;AADmD,KAAjD;AAA1B,kBAGE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGJ,MADH,CADF,eAKE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGF,QADH,CADF,CADF,CALF,EAYGS,eAAe,iBAAI,oBAAC,kBAAD;AAAoB,IAAA,OAAO,EAAEJ;AAA7B,IAZtB,CADF,CAHF,CADF;AAsBD,CAzCD;;AA2CAT,SAAS,CAACc,YAAV,GAAyB;AACvBC,EAAAA,cAAc,EAAE;AADO,CAAzB;AAIA,eAAenB,cAAc,CAACI,SAAD,EAAY;AACvCO,EAAAA,SAAS,EAAE,IAD4B;AAEvCC,EAAAA,UAAU,EAAE;AAF2B,CAAZ,CAA7B","sourcesContent":["import React, { FC, HTMLAttributes, ReactNode, useContext, useEffect } from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { ModalRootContext } from '../ModalRoot/ModalRootContext';\nimport usePlatform from '../../hooks/usePlatform';\nimport withAdaptivity, { AdaptivityProps, ViewHeight, ViewWidth } from '../../hoc/withAdaptivity';\nimport ModalDismissButton from '../ModalDismissButton/ModalDismissButton';\n\nexport interface ModalPageProps extends HTMLAttributes<HTMLDivElement>, AdaptivityProps {\n  id: string;\n  /**\n   * Шапка модальной страницы, `<ModalPageHeader />`\n   */\n  header: ReactNode;\n  onClose?(): void;\n  /**\n   * Процент, на который изначально будет открыта модальная страница\n   */\n  settlingHeight?: number;\n  /**\n   * Если высота контента в модальной странице может поменяться, нужно установить это свойство\n   */\n  dynamicContentHeight?: boolean;\n}\n\nconst ModalPage: FC<ModalPageProps> = (props) => {\n  const platform = usePlatform();\n  const { updateModalHeight } = useContext(ModalRootContext);\n  const {\n    children,\n    className,\n    header,\n    viewWidth,\n    viewHeight,\n    onClose,\n  } = props;\n\n  useEffect(() => {\n    updateModalHeight();\n  }, [children]);\n\n  const isDesktop = viewWidth >= ViewWidth.SMALL_TABLET && viewHeight >= ViewHeight.MEDIUM;\n  const canShowCloseBtn = viewWidth >= ViewWidth.SMALL_TABLET;\n\n  return (\n    <div className={classNames(getClassName('ModalPage', platform), className, {\n      'ModalPage--desktop': isDesktop,\n    })}>\n      <div className=\"ModalPage__in-wrap\">\n        <div className=\"ModalPage__in\">\n          <div className=\"ModalPage__header\">\n            {header}\n          </div>\n\n          <div className=\"ModalPage__content-wrap\">\n            <div className=\"ModalPage__content\">\n              <div className=\"ModalPage__content-in\">\n                {children}\n              </div>\n            </div>\n          </div>\n          {canShowCloseBtn && <ModalDismissButton onClick={onClose} />}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nModalPage.defaultProps = {\n  settlingHeight: 75,\n};\n\nexport default withAdaptivity(ModalPage, {\n  viewWidth: true,\n  viewHeight: true,\n});\n"],"file":"ModalPage.js"}