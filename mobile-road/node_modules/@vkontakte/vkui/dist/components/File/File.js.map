{"version":3,"sources":["../../../src/components/File/File.tsx"],"names":["React","useRef","getClassName","Button","classNames","usePlatform","setRef","File","props","children","align","controlSize","mode","stretched","before","className","style","getRef","getRootRef","onClick","restProps","platform","inputRef","getInputRef","element","current","disabled","e","click","defaultProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAwEC,MAAxE,QAAsF,OAAtF;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,MAAP,MAAwC,kBAAxC;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AAEA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,SAASC,MAAT,QAAuB,iBAAvB;;AAWA,IAAMC,IAAkC,GAAG,SAArCA,IAAqC,CAACC,KAAD,EAAsB;AAAA,MACvDC,QADuD,GAERD,KAFQ,CACvDC,QADuD;AAAA,MAC7CC,KAD6C,GAERF,KAFQ,CAC7CE,KAD6C;AAAA,MACtCC,WADsC,GAERH,KAFQ,CACtCG,WADsC;AAAA,MACzBC,IADyB,GAERJ,KAFQ,CACzBI,IADyB;AAAA,MACnBC,SADmB,GAERL,KAFQ,CACnBK,SADmB;AAAA,MACRC,MADQ,GAERN,KAFQ,CACRM,MADQ;AAAA,MACAC,SADA,GAERP,KAFQ,CACAO,SADA;AAAA,MAE7DC,KAF6D,GAERR,KAFQ,CAE7DQ,KAF6D;AAAA,MAEtDC,MAFsD,GAERT,KAFQ,CAEtDS,MAFsD;AAAA,MAE9CC,UAF8C,GAERV,KAFQ,CAE9CU,UAF8C;AAAA,MAElCC,QAFkC,GAERX,KAFQ,CAElCW,OAFkC;AAAA,MAEtBC,SAFsB,4BAERZ,KAFQ;;AAI/D,MAAMa,QAAQ,GAAGhB,WAAW,EAA5B;AACA,MAAMiB,QAAQ,GAAGrB,MAAM,EAAvB;;AAEA,MAAMsB,WAAW,GAAG,SAAdA,WAAc,CAACC,OAAD,EAA+B;AACjDF,IAAAA,QAAQ,CAACG,OAAT,GAAmBD,OAAnB;AACAlB,IAAAA,MAAM,CAACkB,OAAD,EAAUP,MAAV,CAAN;AACD,GAHD;;AAKA,sBACE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAEP,KADT;AAEE,IAAA,SAAS,EAAEN,UAAU,CAACF,YAAY,CAAC,MAAD,EAASmB,QAAT,CAAb,EAAiCN,SAAjC,CAFvB;AAGE,IAAA,SAAS,EAAEF,SAHb;AAIE,IAAA,IAAI,EAAED,IAJR;AAKE,IAAA,IAAI,EAAED,WALR;AAME,IAAA,MAAM,EAAEG,MANV;AAOE,IAAA,KAAK,EAAEE,KAPT;AAQE,IAAA,UAAU,EAAEE,UARd;AASE,IAAA,QAAQ,EAAEE,SAAS,CAACM,QATtB;AAUE,IAAA,OAAO,EAAE,iBAACC,CAAD,EAAO;AACdL,MAAAA,QAAQ,CAACG,OAAT,CAAiBG,KAAjB;AACAT,MAAAA,QAAO,IAAIA,QAAO,CAACQ,CAAD,CAAlB;AACD;AAbH,kBAeE,0CAAWP,SAAX;AAAsB,IAAA,SAAS,EAAC,aAAhC;AAA8C,IAAA,IAAI,EAAC,MAAnD;AAA0D,IAAA,GAAG,EAAEG;AAA/D,KAfF,EAgBGd,QAhBH,CADF;AAoBD,CAhCD;;AAkCAF,IAAI,CAACsB,YAAL,GAAoB;AAClBpB,EAAAA,QAAQ,EAAE,eADQ;AAElBC,EAAAA,KAAK,EAAE;AAFW,CAApB;AAKA,eAAeH,IAAf","sourcesContent":["import React, { HTMLAttributes, FunctionComponent, InputHTMLAttributes, useRef } from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport Button, { VKUIButtonProps } from '../Button/Button';\nimport classNames from '../../lib/classNames';\nimport { HasRef, HasRootRef } from '../../types';\nimport usePlatform from '../../hooks/usePlatform';\nimport { setRef } from '../../lib/utils';\n\nexport interface FileProps extends\n  Omit<VKUIButtonProps, 'size'>,\n  Omit<InputHTMLAttributes<HTMLInputElement>, 'onClick'>,\n  Pick<HTMLAttributes<HTMLElement>, 'onClick'>,\n  HasRef<HTMLInputElement>,\n  HasRootRef<HTMLElement> {\n  controlSize?: VKUIButtonProps['size'];\n}\n\nconst File: FunctionComponent<FileProps> = (props: FileProps) => {\n  const { children, align, controlSize, mode, stretched, before, className,\n    style, getRef, getRootRef, onClick, ...restProps } = props;\n\n  const platform = usePlatform();\n  const inputRef = useRef<HTMLInputElement>();\n\n  const getInputRef = (element: HTMLInputElement) => {\n    inputRef.current = element;\n    setRef(element, getRef);\n  };\n\n  return (\n    <Button\n      align={align}\n      className={classNames(getClassName('File', platform), className)}\n      stretched={stretched}\n      mode={mode}\n      size={controlSize}\n      before={before}\n      style={style}\n      getRootRef={getRootRef}\n      disabled={restProps.disabled}\n      onClick={(e) => {\n        inputRef.current.click();\n        onClick && onClick(e);\n      }}\n    >\n      <input {...restProps} className=\"File__input\" type=\"file\" ref={getInputRef} />\n      {children}\n    </Button>\n  );\n};\n\nFile.defaultProps = {\n  children: 'Выберите файл',\n  align: 'left',\n};\n\nexport default File;\n"],"file":"File.js"}