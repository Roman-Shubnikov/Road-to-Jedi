{"version":3,"sources":["../../../src/components/Avatar/Avatar.tsx"],"names":["React","getClassName","classNames","usePlatform","Avatar","src","size","shadow","mode","style","className","children","getRootRef","restProps","Component","platform","borderRadius","width","height","defaultProps"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAA4D,OAA5D;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;AAaA,IAAMC,MAAsC,GAAG,SAAzCA,MAAyC,OAU5B;AAAA,MATjBC,GASiB,QATjBA,GASiB;AAAA,MARjBC,IAQiB,QARjBA,IAQiB;AAAA,MAPjBC,MAOiB,QAPjBA,MAOiB;AAAA,MANjBC,IAMiB,QANjBA,IAMiB;AAAA,MALjBC,KAKiB,QALjBA,KAKiB;AAAA,MAJjBC,SAIiB,QAJjBA,SAIiB;AAAA,MAHjBC,QAGiB,QAHjBA,QAGiB;AAAA,MAFjBC,UAEiB,QAFjBA,UAEiB;AAAA,MADdC,SACc;;AACjB,MAAMC,SAAS,GAAGT,GAAG,GAAG,KAAH,GAAW,KAAhC;AACA,MAAMU,QAAQ,GAAGZ,WAAW,EAA5B;AACA,MAAIa,YAAJ;;AAEA,UAAQR,IAAR;AACE,SAAK,SAAL;AACEQ,MAAAA,YAAY,GAAG,KAAf;AACA;;AACF,SAAK,OAAL;AACEV,MAAAA,IAAI,GAAG,EAAP,KAAcU,YAAY,GAAG,CAA7B;AACAV,MAAAA,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAArB,KAA4BU,YAAY,GAAG,CAA3C;AACAV,MAAAA,IAAI,IAAI,EAAR,KAAeU,YAAY,GAAG,CAA9B;AACA;;AACF,SAAK,KAAL;AACEV,MAAAA,IAAI,IAAI,EAAR,KAAeU,YAAY,GAAG,CAA9B;AACAV,MAAAA,IAAI,GAAG,EAAP,IAAaA,IAAI,GAAG,EAApB,KAA2BU,YAAY,GAAG,EAA1C;AACAV,MAAAA,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAArB,KAA4BU,YAAY,GAAG,EAA3C;AACAV,MAAAA,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAArB,KAA4BU,YAAY,GAAG,EAA3C;AACAV,MAAAA,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAArB,KAA4BU,YAAY,GAAG,EAA3C;AACA;AAfJ;;AAkBA,sBACE;AACE,IAAA,SAAS,EAAEd,UAAU,CAACD,YAAY,CAAC,QAAD,EAAWc,QAAX,CAAb,EAAmCL,SAAnC,yBAA8DF,IAA9D,wBAAoFF,IAApF,EADvB;AAEE,IAAA,GAAG,EAAEM;AAFP,kBAIE;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,KAAK,EAAE;AAAEK,MAAAA,KAAK,EAAEX,IAAT;AAAeY,MAAAA,MAAM,EAAEZ;AAAvB;AAAnC,kBACE,oBAAC,SAAD,eACMO,SADN;AAEE,IAAA,SAAS,EAAC,aAFZ;AAGE,IAAA,GAAG,EAAER,GAHP;AAIE,IAAA,KAAK,kCAAOI,KAAP;AAAcO,MAAAA,YAAY,EAAZA;AAAd;AAJP,KADF,EAOGT,MAAM,iBAAI;AAAM,IAAA,SAAS,EAAC,gBAAhB;AAAiC,IAAA,KAAK,EAAE;AAAES,MAAAA,YAAY,EAAZA;AAAF;AAAxC,IAPb,EAQGL,QAAQ,iBAAI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAkC,IAAA,KAAK,EAAE;AAAEM,MAAAA,KAAK,EAAEX,IAAT;AAAeY,MAAAA,MAAM,EAAEZ,IAAvB;AAA6BU,MAAAA,YAAY,EAAZA;AAA7B;AAAzC,KAAuFL,QAAvF,CARf,CAJF,CADF;AAiBD,CAlDD;;AAoDAP,MAAM,CAACe,YAAP,GAAsB;AACpBb,EAAAA,IAAI,EAAE,EADc;AAEpBE,EAAAA,IAAI,EAAE,SAFc;AAGpBD,EAAAA,MAAM,EAAE;AAHY,CAAtB;AAMA,eAAeH,MAAf","sourcesContent":["import React, { FunctionComponent, ImgHTMLAttributes } from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport usePlatform from '../../hooks/usePlatform';\nimport { HasRootRef } from '../../types';\n\nexport interface AvatarProps extends ImgHTMLAttributes<HTMLElement>, HasRootRef<HTMLDivElement> {\n  /**\n   * Рекомендуемый сет значений: 96 | 88 | 80 | 72 | 64 | 56 | 48 | 44 | 40 | 36 | 32 | 28 | 24\n   */\n  size?: number;\n  src?: string;\n  mode?: 'default' | 'image' | 'app';\n  shadow?: boolean;\n}\n\nconst Avatar: FunctionComponent<AvatarProps> = ({\n  src,\n  size,\n  shadow,\n  mode,\n  style,\n  className,\n  children,\n  getRootRef,\n  ...restProps\n}: AvatarProps) => {\n  const Component = src ? 'img' : 'div';\n  const platform = usePlatform();\n  let borderRadius;\n\n  switch (mode) {\n    case 'default':\n      borderRadius = '50%';\n      break;\n    case 'image':\n      size < 64 && (borderRadius = 4);\n      size >= 64 && size < 96 && (borderRadius = 6);\n      size >= 96 && (borderRadius = 8);\n      break;\n    case 'app':\n      size <= 40 && (borderRadius = 8);\n      size > 40 && size < 56 && (borderRadius = 10);\n      size >= 56 && size < 64 && (borderRadius = 12);\n      size >= 64 && size < 84 && (borderRadius = 16);\n      size >= 84 && size < 84 && (borderRadius = 18);\n      break;\n  }\n\n  return (\n    <div\n      className={classNames(getClassName('Avatar', platform), className, `Avatar--type-${mode}`, `Avatar--sz-${size}`)}\n      ref={getRootRef}\n    >\n      <div className=\"Avatar__in\" style={{ width: size, height: size }}>\n        <Component\n          {...restProps}\n          className=\"Avatar__img\"\n          src={src}\n          style={{ ...style, borderRadius }}\n        />\n        {shadow && <span className=\"Avatar__shadow\" style={{ borderRadius }} />}\n        {children && <div className=\"Avatar__children\" style={{ width: size, height: size, borderRadius }}>{children}</div>}\n      </div>\n    </div>\n  );\n};\n\nAvatar.defaultProps = {\n  size: 48,\n  mode: 'default',\n  shadow: true,\n};\n\nexport default Avatar;\n"],"file":"Avatar.js"}