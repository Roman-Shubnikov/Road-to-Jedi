{"version":3,"sources":["../../../src/components/RichCell/RichCell.tsx"],"names":["React","classNames","usePlatform","getClassName","Tappable","hasReactNode","Text","Caption","withAdaptivity","RichCell","children","text","caption","before","after","bottom","actions","multiline","className","Component","onClick","sizeY","restProps","platform","RootComponent","disabled","undefined","props","href","defaultProps"],"mappings":"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","sourcesContent":["import React, { ElementType, FunctionComponent, HTMLAttributes, ReactNode } from 'react';\nimport classNames from '../../lib/classNames';\nimport usePlatform from '../../hooks/usePlatform';\nimport getClassName from '../../helpers/getClassName';\nimport { HasLinkProps, HasRootRef } from '../../types';\nimport Tappable from '../Tappable/Tappable';\nimport { hasReactNode } from '../../lib/utils';\nimport Text from '../Typography/Text/Text';\nimport Caption from '../Typography/Caption/Caption';\nimport withAdaptivity, { AdaptivityProps } from '../../hoc/withAdaptivity';\n\nexport interface RichCellProps extends HTMLAttributes<HTMLElement>, HasRootRef<HTMLElement>, HasLinkProps, AdaptivityProps {\n  /**\n   * Контейнер для текста под `children`.\n   */\n  text?: ReactNode;\n  /**\n   * Контейнер для текста под `text`.\n   */\n  caption?: ReactNode;\n  /**\n   * Контейнер для контента под `caption`. Например `<UsersStack size=\"s\" />`\n   */\n  bottom?: ReactNode;\n  /**\n   * Кнопка или набор кнопок `<Button size=\"s\" />`. Располагается под `bottom`.\n   */\n  actions?: ReactNode;\n  /**\n   * `<Avatar size={48|72} />`\n   */\n  before?: ReactNode;\n  /**\n   * Иконка 28 или текст\n   */\n  after?: ReactNode;\n  /**\n   * Убирает анимацию нажатия\n   */\n  disabled?: boolean;\n  multiline?: boolean;\n  Component?: ElementType;\n}\n\nconst RichCell: FunctionComponent<RichCellProps> = ({\n  children,\n  text,\n  caption,\n  before,\n  after,\n  bottom,\n  actions,\n  multiline,\n  className,\n  Component,\n  onClick,\n  sizeY,\n  ...restProps\n}) => {\n  const platform = usePlatform();\n  const RootComponent = restProps.disabled ? Component : Tappable;\n  Component = restProps.disabled ? undefined : Component;\n\n  const props: RichCellProps = restProps;\n\n  if (!restProps.disabled) {\n    props.Component = restProps.href ? 'a' : Component;\n    props.onClick = onClick;\n  }\n\n  return (\n    <RootComponent\n      {...props}\n      className={\n        classNames(\n          className,\n          getClassName('RichCell', platform),\n          {\n            'RichCell--mult': multiline,\n          },\n          `RichCell--sizeY-${sizeY}`,\n        )\n      }\n    >\n      {before}\n      <div className=\"RichCell__in\">\n        <div className=\"RichCell__top\">\n          {/* Этот after будет скрыт из верстки. Он нужен для CSS */}\n          {after}\n          <Text weight=\"medium\" className=\"RichCell__content\">\n            <div className=\"RichCell__children\">{children}</div>\n            {hasReactNode(after) && <div className=\"RichCell__after\">{after}</div>}\n          </Text>\n          {hasReactNode(text) && <Text weight=\"regular\" className=\"RichCell__text\">{text}</Text>}\n          {hasReactNode(caption) && <Caption level=\"1\" weight=\"regular\" className=\"RichCell__caption\">{caption}</Caption>}\n          {(hasReactNode(bottom) || hasReactNode(actions)) &&\n            <div className=\"RichCell__bottom\">\n              {bottom}\n              {hasReactNode(actions) && <div className=\"RichCell__actions\">{actions}</div>}\n            </div>\n          }\n        </div>\n      </div>\n    </RootComponent>\n  );\n};\n\nRichCell.defaultProps = {\n  Component: 'div',\n};\n\nexport default withAdaptivity(RichCell, { sizeY: true });\n"],"file":"RichCell.js"}