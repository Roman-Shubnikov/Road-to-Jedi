{"version":3,"sources":["../../../src/components/Button/Button.tsx"],"names":["React","getClassName","classNames","Tappable","Title","Text","Subhead","Caption","usePlatform","withAdaptivity","SizeType","Platform","VKCOM","getContent","size","children","hasIcons","sizeY","platform","COMPACT","Button","props","className","mode","stretched","align","before","after","getRootRef","Component","restProps","Boolean","href","defaultProps","stopPropagation"],"mappings":"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","sourcesContent":["import React, { ButtonHTMLAttributes, FunctionComponent, ReactNode } from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport Tappable, { TappableProps } from '../Tappable/Tappable';\nimport Title from '../Typography/Title/Title';\nimport Text from '../Typography/Text/Text';\nimport Subhead from '../Typography/Subhead/Subhead';\nimport Caption from '../Typography/Caption/Caption';\nimport { HasAlign } from '../../types';\nimport usePlatform from '../../hooks/usePlatform';\nimport withAdaptivity, { AdaptivityProps, SizeType } from '../../hoc/withAdaptivity';\nimport { Platform, VKCOM } from '../../lib/platform';\n\nexport interface VKUIButtonProps extends HasAlign {\n  mode?: 'primary' | 'secondary' | 'tertiary' | 'outline' | 'commerce' | 'destructive' | 'overlay_primary' | 'overlay_secondary' | 'overlay_outline';\n  size?: 's' | 'm' | 'l';\n  stretched?: boolean;\n  before?: ReactNode;\n  after?: ReactNode;\n}\n\nexport interface ButtonProps extends TappableProps, ButtonHTMLAttributes<HTMLElement>, VKUIButtonProps {\n  href?: string;\n  target?: string;\n}\n\nconst getContent = (size: ButtonProps['size'], children: ButtonProps['children'], hasIcons: boolean, sizeY: AdaptivityProps['sizeY'], platform: Platform) => {\n  switch (size) {\n    case 'l':\n      return (\n        sizeY === SizeType.COMPACT ?\n          <Text weight=\"medium\" className=\"Button__content\">{children}</Text>\n          :\n          <Title level=\"3\" weight=\"medium\" Component=\"div\" className=\"Button__content\">\n            {children}\n          </Title>\n      );\n    case 'm':\n      return (\n        sizeY === SizeType.COMPACT ?\n          <Subhead weight={platform === VKCOM ? 'regular' : 'medium'} className=\"Button__content\" Component=\"div\">\n            {children}\n          </Subhead>\n          :\n          <Text weight=\"medium\" className=\"Button__content\">\n            {children}\n          </Text>\n      );\n    case 's':\n    default:\n      if (hasIcons) {\n        return (\n          <Caption\n            caps={platform !== Platform.VKCOM}\n            level={platform === Platform.VKCOM ? '1' : sizeY === SizeType.COMPACT ? '3' : '2'}\n            weight={platform === Platform.VKCOM ? 'regular' : 'medium'}\n            className={classNames('Button__content', { 'Button__content--caps': platform !== Platform.VKCOM })}\n          >\n            {children}\n          </Caption>\n        );\n      }\n\n      return (\n        sizeY === SizeType.COMPACT ?\n          <Caption\n            weight={platform === VKCOM ? 'regular' : 'medium'}\n            level=\"1\"\n            className=\"Button__content\"\n          >\n            {children}\n          </Caption>\n          :\n          <Subhead\n            weight=\"medium\"\n            Component=\"div\"\n            className=\"Button__content\"\n          >\n            {children}\n          </Subhead>\n      );\n  }\n};\n\nconst Button: FunctionComponent<ButtonProps> = (props: ButtonProps) => {\n  const platform = usePlatform();\n  const { className, size, mode, stretched, align, children, before, after, getRootRef, Component, sizeY, ...restProps } = props;\n  const hasIcons = Boolean(before || after);\n\n  return <Tappable {...restProps}\n    className={\n      classNames(\n        getClassName('Button', platform),\n        className,\n        `Button--sz-${size}`,\n        `Button--lvl-${mode}`,\n        `Button--aln-${align}`,\n        `Button--sizeY-${sizeY}`,\n        {\n          ['Button--str']: stretched,\n          ['Button--with-icon']: hasIcons,\n        },\n      )\n    }\n    getRootRef={getRootRef}\n    Component={restProps.href ? 'a' : Component}\n  >\n    <div className=\"Button__in\">\n      {before && <div className=\"Button__before\">{before}</div>}\n      {children && getContent(size, children, hasIcons, sizeY, platform)}\n      {after && <div className=\"Button__after\">{after}</div>}\n    </div>\n  </Tappable>;\n};\n\nButton.defaultProps = {\n  mode: 'primary',\n  Component: 'button',\n  align: 'center',\n  size: 's',\n  stretched: false,\n  stopPropagation: true,\n};\n\nexport default withAdaptivity(Button, {\n  sizeY: true,\n});\n"],"file":"Button.js"}