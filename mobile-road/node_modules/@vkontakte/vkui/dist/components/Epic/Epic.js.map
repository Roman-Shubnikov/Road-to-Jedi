{"version":3,"sources":["../../../src/components/Epic/Epic.tsx"],"names":["React","useEffect","useRef","getClassName","classNames","usePlatform","withAdaptivity","ViewWidth","ScrollSaver","Epic","props","platform","scroll","current","className","activeStory","tabbar","children","viewWidth","restProps","SMALL_TABLET","console","warn","story","Children","toArray","find","id","value"],"mappings":";;AAAA,OAAOA,KAAP,IAA6DC,SAA7D,EAAwEC,MAAxE,QAAsF,OAAtF;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AAEA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,cAAP,IAAyBC,SAAzB,QAA2D,0BAA3D;AACA,SAASC,WAAT,QAA4B,eAA5B;AAOA,OAAO,IAAMC,IAAmB,GAAG,SAAtBA,IAAsB,CAACC,KAAD,EAAW;AAC5C,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACA,MAAMO,MAAM,GAAGV,MAAM,CAA4B,EAA5B,CAAN,CAAsCW,OAArD;;AAF4C,MAGpCC,SAHoC,GAGkCJ,KAHlC,CAGpCI,SAHoC;AAAA,MAGzBC,WAHyB,GAGkCL,KAHlC,CAGzBK,WAHyB;AAAA,MAGZC,MAHY,GAGkCN,KAHlC,CAGZM,MAHY;AAAA,MAGJC,QAHI,GAGkCP,KAHlC,CAGJO,QAHI;AAAA,MAGMC,SAHN,GAGkCR,KAHlC,CAGMQ,SAHN;AAAA,MAGoBC,SAHpB,4BAGkCT,KAHlC;;AAK5CT,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACe,MAAD,IAAWE,SAAS,GAAGX,SAAS,CAACa,YAArC,EAAmD;AACjDC,MAAAA,OAAO,CAACC,IAAR,CAAa,+DAAb;AACD;AACF,GAJQ,EAIN,CAACJ,SAAD,CAJM,CAAT;AAKA,MAAMK,KAAK,GAAIvB,KAAK,CAACwB,QAAN,CAAeC,OAAf,CAAuBR,QAAvB,CAAD,CAAqDS,IAArD,CAA0D,UAACH,KAAD;AAAA,WAAWA,KAAK,CAACb,KAAN,CAAYiB,EAAZ,KAAmBZ,WAA9B;AAAA,GAA1D,CAAd;AAEA,sBACE,wCAASI,SAAT;AAAoB,IAAA,SAAS,EAAEf,UAAU,CAACD,YAAY,CAAC,MAAD,EAASQ,QAAT,CAAb,EAAiCG,SAAjC;AAAzC,mBACE,oBAAC,WAAD;AACE,IAAA,GAAG,EAAEC,WADP;AAEE,IAAA,aAAa,EAAEH,MAAM,CAACG,WAAD,CAAN,IAAuB,CAFxC;AAGE,IAAA,UAAU,EAAE,oBAACa,KAAD;AAAA,aAAWhB,MAAM,CAACG,WAAD,CAAN,GAAsBa,KAAjC;AAAA;AAHd,KAIEL,KAJF,CADF,EAMGP,MANH,CADF;AAUD,CAtBM;AAwBP,eAAeV,cAAc,CAACG,IAAD,EAAO;AAClCS,EAAAA,SAAS,EAAE;AADuB,CAAP,CAA7B","sourcesContent":["import React, { HTMLAttributes, ReactNode, ReactElement, FC, useEffect, useRef } from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { HasChildren } from '../../types';\nimport usePlatform from '../../hooks/usePlatform';\nimport withAdaptivity, { ViewWidth, AdaptivityProps } from '../../hoc/withAdaptivity';\nimport { ScrollSaver } from './ScrollSaver';\n\nexport interface EpicProps extends HTMLAttributes<HTMLDivElement>, HasChildren, AdaptivityProps {\n  tabbar?: ReactNode;\n  activeStory: string;\n}\n\nexport const Epic: FC<EpicProps> = (props) => {\n  const platform = usePlatform();\n  const scroll = useRef<{ [key: string]: number }>({}).current;\n  const { className, activeStory, tabbar, children, viewWidth, ...restProps } = props;\n\n  useEffect(() => {\n    if (!tabbar && viewWidth < ViewWidth.SMALL_TABLET) {\n      console.warn('[Epic] Using Epic without tabbar is not recommended on mobile');\n    }\n  }, [viewWidth]);\n  const story = (React.Children.toArray(children) as ReactElement[]).find((story) => story.props.id === activeStory);\n\n  return (\n    <div {...restProps} className={classNames(getClassName('Epic', platform), className)}>\n      <ScrollSaver\n        key={activeStory}\n        initialScroll={scroll[activeStory] || 0}\n        saveScroll={(value) => scroll[activeStory] = value}\n      >{story}</ScrollSaver>\n      {tabbar}\n    </div>\n  );\n};\n\nexport default withAdaptivity(Epic, {\n  viewWidth: true,\n});\n"],"file":"Epic.js"}