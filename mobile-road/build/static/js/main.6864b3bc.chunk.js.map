{"version":3,"sources":["music/Soloriver.mp3","images/question_banner_pc.jpg","images/question_banner_mobile.png","images/Ninja.webp","images/user.jpg","images/jedi.svg","panels/questions/panels/new_tiket.js","panels/questions/panels/questions.js","components/message.js","components/tiket.js","components/other_profile.js","panels/questions/main.js","panels/topUsers/panels/top.js","panels/topUsers/main.js","panels/notify/panels/notif.js","panels/notify/main.js","panels/Profile/panels/profile.js","panels/Profile/panels/market.js","panels/Profile/panels/achives.js","panels/Profile/panels/AllQuestions.js","panels/Profile/panels/settings.js","panels/Profile/panels/schemechange.js","panels/Profile/panels/info.js","panels/Profile/main.js","App.js","index.js"],"names":["module","exports","NewTicket","props","state","api_url","title_new_tiket","text_new_tiket","onChange","event","name","currentTarget","value","setState","this","popout","global","length","url","window","location","search","replace","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","responseText","text","JSON","parse","goTiket","response","ticket_id","fetch","then","res","json","data","result","tiket_all","showErrorAlert","error","message","catch","err","send","onerror","console","actions","title","autoclose","style","onClose","closePopout","id","left","onClick","goBack","top","maxLength","type","e","size","level","stretched","disabled","Boolean","sendNewTiket","React","Component","platformname","test","navigator","userAgent","Questions","fething","tiket_all_helper","offset","ShowBanner","propsbi","setPopout","setActiveModal","Prepare_questions","bind","need_offset","fetching","sliyan","concat","setTimeout","account","is_first_start","getRandomTiket","mode","onDismiss","header","subheader","background","backgroundColor","backgroundImage","BannerAvatarMobile","BannerAvatarPC","backgroundPosition","backgroundSize","backgroundRepeat","asideMode","href","target","rel","special","goPanel","onRefresh","isFetching","map","i","Fragment","key","description","asideContent","src","width","icon","Message","is_mine","className","marginBottom","approved","right","children","is_mark","DoneApp","height","display","CanselApp","avatar","alt","marginLeft","time","parsedHash","require","months","fix_time","Ticket","tiket_info","tiket_message","tiket_send_message","add_comment","redaction","goOtherProfile","sendRayt","info","messages","mark","message_id","reyt","author_id","comment","sendClear","other_profile","undefined","message_id_add","Number","message_id_redac","deleteMessage","vk_user_id","deleteTicket","openTicket","bridge","log","Prepare_ticket","thisOb","copy","Date","getDate","month","number_month","getMonth","add_month","marginTop","is_mine_ticket","author","is_mine_message","is_moderator","photo_200","getHours","getMinutes","title_moder","isFinite","first_name","last_name","title_icon","moderator_comment","Admin","is_special","sendRayt_false","sendRayt_true","showAlert","Ninja","placeholder","sendNewMessage","sendNewMessageRedact","sendNewMessageComment","nofinc","vertical","marginRight","Reader","agent_id","give","prof","prometey","Prom","theme","PrepareProfile","please_Month","getFullYear","before","color","indicator","registered","hash","Main","activePanel","activeModal","modalHistory","history","active_other_profile","ban_reason","transfer","AgeUser","changeData","playAudio","ReloadProfile","reloadProfile","modalBack","pop","panel","indexOf","splice","push","age","user_id","modal","dynamicContentHeight","subtitle","min","max","step","multiline","ChangeAge","caption","action","userBan","whiteSpace","onSwipeBack","top_agents","getTopUsers","scheme","ReaderNotif","notification","getNotif","markView","openMoneyTransfer","lineHeight","Notify","Profile","label","notif_count","margin","expandable","snackbar","avatars","blueBackground","Market","changed_id","last_selected","number","Object","keys","object","selectImage","document","getElementById","setSnack","layout","fill","separator","images","changeAvatar","ChangeId","Achiviement","myQuestions","activeTab","limiter","questions","filter","toLowerCase","slice","getFiltresQuestions","searched","getFilterSearch","limiter_search","selected","Settings","balance","actionsLayout","deleteAccount","SchemeChange","ChangeScheme","avaUser","defaultChecked","Info","IconJedi","qr","sheme","hex","vkQr","createQR","qrSize","isShowLogo","foregroundColor","moneys","money_transfer_send","money_transfer_count","ChangeData","sendMoney","money","dangerouslySetInnerHTML","__html","App","activeStory","switchKeys","need_epic","LoadProfile","noti","change","audio","paused","volume","currentTime","audioPromise","play","_","pause","Audio","music","load","loop","connect","subscribe","detail","api_url_second","addEventListener","preventDefault","componentDidMount","back","error_text","isWebView","tabbar","dataset","story","data-story","Sentry","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","root","platform","IOS","mVKMiniAppsScrollHelper","ReactDOM","render"],"mappings":"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","file":"static/js/main.6864b3bc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Soloriver.57a77e9b.mp3\";","module.exports = __webpack_public_path__ + \"static/media/question_banner_pc.b2b8189b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/question_banner_mobile.14c5ae38.png\";","module.exports = __webpack_public_path__ + \"static/media/Ninja.0c4d240d.webp\";","module.exports = __webpack_public_path__ + \"static/media/user.cfc7e0b1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/jedi.7c18eb66.svg\";","import React from 'react';\n\nimport { \n    Panel,\n    PanelHeader,\n    PanelHeaderButton,\n    Button,\n    Alert,\n    ScreenSpinner,\n    Input,\n    FormLayout,\n    Textarea,\n    } from '@vkontakte/vkui';\n\n\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\n\nexport default class NewTicket extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                api_url: \"https://xelene.ru/road/php/index.php?\",\n                title_new_tiket: '',\n                text_new_tiket: '',\n            }\n            this.onChange = (event) => {\n                var name = event.currentTarget.name;\n                var value = event.currentTarget.value;\n                this.setState({ [name]: value });\n            }\n        }\n        sendNewTiket() {\n        this.setState({popout: <ScreenSpinner/>})\n        var global = this;\n        if(this.state.text_new_tiket.length > 5 || this.state.title_new_tiket.length > 5) {\n            var url = this.state.api_url + 'method=ticket.add&' + window.location.search.replace('?', '');\n            var method = 'POST';\n            var async = true;\n        \n            var xhr = new XMLHttpRequest();\n            xhr.open( method, url, async );\n            //.then(response => response.json())\n            \n            xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        \n            xhr.onreadystatechange = function() {//Вызывает функцию при смене состояния.\n            if(xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {\n                if(xhr.responseText) {\n                let text = (JSON.parse(xhr.responseText));\n                global.props.this.goTiket(text.response.ticket_id)\n                fetch(global.state.api_url + \"method=tickets.get&unanswered=1&\" + window.location.search.replace('?', ''))\n                .then(res => res.json())\n                .then(data => {\n                    if(data.result) {\n                        global.setState({tiket_all: data.response, popout: null, title_new_tiket: \"\", text_new_tiket: \"\"})\n                    }else{\n                        this.showErrorAlert(data.error.message)\n                    }\n                })\n                .catch(err => {\n                    this.showErrorAlert()\n\n                })\n                }\n            }\n        }\n            \n            xhr.send( 'title=' + this.state.title_new_tiket + '&text=' + this.state.text_new_tiket );\n            xhr.onerror = ( error ) => {\n            this.showErrorAlert()\n\n            console.error( error );\n            }\n        } else {\n            this.setState({\n            popout: \n            <Alert\n            actions={[{\n            title: 'Отмена',\n            autoclose: true,\n            style: 'cancel'\n            }]}\n            onClose={this.closePopout}\n        >\n            <h2>Ошибка</h2>\n            <p>Заголовок или текст проблемы должен быть больше 5 символов.</p>\n        </Alert>\n            })\n        }\n        }\n\n        render() {\n            return (\n                <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                    <PanelHeaderButton onClick={() => this.props.this.goBack()}> \n                    <Icon24BrowserBack/>\n                    </PanelHeaderButton>\n                    }>\n                Новый вопрос\n                </PanelHeader>\n                <FormLayout>\n                    <Input \n                    top={this.state.title_new_tiket === null ? \"Суть проблемы (0/30). Не менее 5 символов\" : \"Суть проблемы (\" + this.state.title_new_tiket.length + \"/80). Не менее 5 символов\"}\n                    maxLength=\"80\" \n                    type=\"text\" \n                    name=\"title_new_tiket\" \n                    value={this.state.title_new_tiket} \n                    onChange={(e) => this.onChange(e)}/>\n\n                    <Textarea maxLength=\"2020\" \n                    name=\"text_new_tiket\" \n                    top={this.state.text_new_tiket === null ? \"Подробнее о проблеме (0/2020). Не менее 5 символов\" : \"Подробнее о проблеме (\" + this.state.text_new_tiket.length + \"/2020). Не менее 5 символов\"} \n                    onChange={(e) => this.onChange(e)}\n                    value={this.state.text_new_tiket}\n                    ></Textarea>\n                    <Button\n                    size=\"xl\" \n                    level=\"secondary\" \n                    stretched \n                    disabled={!Boolean(this.state.text_new_tiket.length > 5) || !Boolean(this.state.title_new_tiket.length > 5)}\n                    onClick={\n                        () => {\n                            this.sendNewTiket();\n                        }\n                    }>Отправить</Button>\n                </FormLayout>\n            </Panel>\n            )\n            }\n        }\n  ","import React from 'react';\n\nimport { \n    Panel,\n    PanelHeader,\n    PanelHeaderButton,\n    Avatar,\n    Button,\n    Placeholder,\n    Separator,\n    PullToRefresh,\n    PanelSpinner,\n    Cell,\n    Div,\n    Banner,\n    Footer\n    \n    } from '@vkontakte/vkui';\n\nimport Icon56InboxOutline from '@vkontakte/icons/dist/56/inbox_outline';\nimport Icon28CubeBoxOutline from '@vkontakte/icons/dist/28/cube_box_outline';\n\nimport BannerAvatarPC from '../../../images/question_banner_pc.jpg'\nimport BannerAvatarMobile from '../../../images/question_banner_mobile.png'\n\nconst platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n\n\nexport default class Questions extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                api_url: \"https://xelene.ru/road/php/index.php?\",\n                fething: false,\n                tiket_all: null,\n                tiket_all_helper: null,\n                offset: 0,\n                ShowBanner: true,\n\n            }\n            var propsbi = this.props.this;\n            this.setPopout = propsbi.setPopout;\n            this.showErrorAlert = propsbi.showErrorAlert;\n            this.setActiveModal = propsbi.setActiveModal;\n            this.Prepare_questions = this.Prepare_questions.bind(this);\n        }\n        Prepare_questions(need_offset=false){\n            this.setState({ fetching: true });\n            fetch(this.state.api_url + \"method=tickets.get&count=20&unanswered=1&offset=\" + this.state.offset + \"&\" + window.location.search.replace('?', ''))\n            .then(res => res.json())\n            .then(data => {\n              if(data.result) {\n                this.setState({tiket_all: []})\n                if(this.state.tiket_all){\n                    var sliyan = data.response ? this.state.tiket_all.concat(data.response) : this.state.tiket_all;\n                }\n                \n                this.setState({tiket_all: sliyan, tiket_all_helper: data.response})\n                if(need_offset){\n                    this.setState({ offset: this.state.offset + 20 })\n                }\n                setTimeout(() => {\n                  this.setState({ fetching: false });\n                }, 500);\n              }else{\n                this.showErrorAlert(data.error.message)\n            }\n            })\n            .catch(err => {\n              this.showErrorAlert(err)\n            })\n        }\n        componentDidMount() {\n            this.Prepare_questions()\n            setTimeout(() => {\n                if(this.props.account.is_first_start){\n                    // this.props.this.playAudio()\n                    this.setActiveModal('start');\n                }\n                this.setPopout(null)\n            }, 1000) //4000\n        }\n\n        render() {\n            var props = this.props.this; // Для более удобного использования.\n            \n            return (\n                <Panel id={this.props.id}> \n                <PanelHeader\n                left={<PanelHeaderButton onClick={() => this.props.this.getRandomTiket()}><Icon28CubeBoxOutline/></PanelHeaderButton>}\n                >\n                Вопросы\n                </PanelHeader>\n\n                {this.state.ShowBanner && this.props.account.is_first_start ? <><Banner\n                mode=\"image\"\n                size=\"m\"\n                onDismiss={() => {\n                    this.setState({ShowBanner: false});\n                }}\n                header=\"С чего начать?\"\n                subheader='С прочтения статьи'\n                background={\n                <div\n                    style={{\n                    backgroundColor: '#5b9be6',\n                    backgroundImage: platformname ? 'url(' + BannerAvatarMobile + \")\" : 'url(' + BannerAvatarPC + \")\",\n                    backgroundPosition: 'right bottom',\n                    backgroundSize: '100%',\n\n                    backgroundRepeat: 'no-repeat',\n                    }}\n                />\n                }\n                    asideMode=\"dismiss\"\n                    actions={<Button mode=\"overlay_primary\" href=\"https://vk.com/@jedi_road-checking-responses\" target=\"_blank\" rel=\"noopener noreferrer\" size=\"l\">Читать</Button>}\n                /><Separator /></> : null}\n                {this.props.account.special ? <Div>\n                    <Button onClick={() => props.goPanel('new_ticket')}\n                    size=\"xl\" \n                    mode=\"outline\" \n                    stretched>Новый вопрос</Button>\n                </Div> : null}\n                <PullToRefresh onRefresh={this.Prepare_questions} isFetching={this.state.fetching}>\n                    {this.state.tiket_all ? this.state.tiket_all.length > 0 ? this.state.tiket_all.map((result, i) => \n                    <React.Fragment key={i}>\n                        <Cell\n                            onClick={() => props.goTiket(result['id'])}\n                            description={result['status'] === 0 ? \"На рассмотрении\" : result['status'] === 1 ? \"Есть ответ\" : \"Закрыт\" } \n                            asideContent={<Avatar src={result['author']['id'] === 526444378 ? \"https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png\" : result['author']['photo_200']} size={56}/>}\n                        >\n                        {result['title']}\n\n                        </Cell>\n                        <Separator style={{width: \"90%\"}} />\n                    </React.Fragment>\n                    ) : null : null}\n                \n                    {this.state.tiket_all_helper ? this.state.tiket_all_helper.length === 20 ? \n                    <Div>\n                        <Button size=\"xl\" level=\"secondary\" onClick={() => this.Prepare_questions(true)}>Загрузить ещё</Button>\n                    </Div>\n                : this.state.tiket_all ?\n                (this.state.tiket_all.length === 0) ? null : <Footer>{this.state.tiket_all.length} вопрос(а) всего</Footer>\n                 : null :\n                null}\n                {this.state.tiket_all ? this.state.tiket_all.length === 0 ? \n                <Placeholder \n                icon={<Icon56InboxOutline />}>\n                    Упс, кажется вопросы закончились\n                </Placeholder>\n                : null : <PanelSpinner />}\n            </PullToRefresh>\n            </Panel>\n            )\n            }\n        }\n  ","import React from 'react'\n\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\nconst platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n\n\n\nconst Message = props => (\n    props.is_mine === true ?\n        <div className=\"mine_message\">\n            <div id=\"animation\" className=\"message_report_moderator\" style={{marginBottom: props.approved ? \"20px\" : null, right: platformname ? \"-12%\" : \"-22%\"}}>\n                <div onClick={() => props.onClick()}>\n                    <p className=\"moderator_name_message\">{props.title} {props.approved ? '✔️' : ''}</p>\n                    <p className=\"text_message\">{props.children}</p>\n                    \n                </div>\n                {props.is_mark === 1 ? \n                <div className=\"approved\" onClick={() => props.DoneApp()}>\n                    <Icon16Done className=\"approved_icon green\" height={15} width={15} style={{display: \"inline-block\"}}/>\n                </div>\n                : props.is_mark === 0 ?\n                <div className=\"approved\" onClick={() => props.CanselApp()}>\n                    <Icon16Cancel className=\"approved_icon\" height={15} width={15} style={{display: \"inline-block\"}}/>\n                </div>\n            : null}\n                <img className=\"avatar_message_moderator\" src={props.avatar} \n                alt={'а'}\n                style={{marginLeft: platformname ? \"99%\" : \"99%\"}} \n                />\n                <p className=\"time_message\">{props.time}</p>\n            </div>\n            \n        </div>\n    :\n    <div className=\"all_message\" style={props.is_mark === false ? {marginBottom: \"-3px\"} : null}>\n        <img className=\"avatar_message\" src={props.avatar} alt={'а'} />\n        <div id=\"animation\" className=\"message_report\" onClick={() => props.onClick()}>\n            <p className=\"moderator_name_message\">{props.title}</p>\n            <p>{props.children}</p>\n            <p className=\"time_message\">{props.time}</p>\n        </div>\n    </div>\n);\n\nexport default Message;","import React from 'react';\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\n\nimport { \n    Panel,\n    PanelHeader,\n    Button,\n    FixedLayout,\n    Div,\n    ScreenSpinner,\n    ActionSheet,\n    ActionSheetItem,\n    Textarea,\n    PanelHeaderBack\n    } from '@vkontakte/vkui';\n\nimport Icon24Up from '@vkontakte/icons/dist/24/up';\nimport Icon16ReplyOutline from '@vkontakte/icons/dist/16/reply_outline';\nimport Ninja from '../images/Ninja.webp'\n\nimport Message from './message'\nconst platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\nconst queryString = require('query-string');\nconst parsedHash = queryString.parse(window.location.search.replace('?', ''));\n\nvar months = [\n    'января',\n    'февраля',\n    'марта',\n    'апреля',\n    'мая',\n    'июня',\n    'июля',\n    'августа',\n    'сентября',\n    'ноября',\n    'декабря',\n];\n\nfunction fix_time(time) {\n    if(time < 10) {\n        return \"0\" + time\n    } else {\n        return time\n    }\n}\n\nfunction add_month(month) {\n    let number_month = new Date(month * 1e3).getMonth()\n    return months[number_month]\n}\n\nexport default class Ticket extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n            tiket_info: [],\n            tiket_message: [],\n            tiket_send_message: '',\n            add_comment: false,\n            redaction: false,\n            \n\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.goOtherProfile = propsbi.goOtherProfile;\n        this.sendRayt = this.sendRayt.bind(this);\n        this.onChange = (event) => {\n          var name = event.currentTarget.name;\n          var value = event.currentTarget.value;\n          this.setState({ [name]: value });\n        }\n\n    }\n    Prepare_ticket(){\n        fetch(this.state.api_url + \"method=ticket.getById&ticket_id=\" + this.props.ticket_id + \"&\" + window.location.search.replace('?', ''))\n        .then(res => res.json())\n        .then(data => {\n          if(data.result) {\n            this.setState({tiket_info: data.response.info,\n              tiket_message: data.response.messages });\n              this.setPopout(null);\n          } else {\n            this.showErrorAlert(data.error.message)\n          }\n        })\n        .catch(err => {\n          this.showErrorAlert(err)\n\n        })\n    }\n    sendRayt(mark, message_id) {\n        let reyt = 1;\n        if(mark === true) {\n          reyt = 1;\n        } else {\n          reyt = 0;\n        }\n        if(reyt < 2) {\n          fetch(this.state.api_url + \"method=ticket.markMessage&message_id=\" + message_id + \"&mark=\" + reyt + \"&\" + window.location.search.replace('?', ''))\n            .then(res => res.json())\n            .then(data => {\n              if(data.result) {\n          \n                fetch(this.state.api_url + \"method=ticket.getMessages&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', ''))\n                  .then(res => res.json())\n                  .then(data => {\n                    if(data.result) {\n                      this.setState({tiket_message: data.response})\n                      this.setActiveModal(null);\n                      this.setPopout(null);\n                    }else {\n                      this.showErrorAlert(data.error.message)\n                    }\n                    })\n                    .catch(err => {\n                      this.showErrorAlert(err)\n                    })\n              }else {\n                this.showErrorAlert(data.error.message)\n              }\n            })\n            .catch(err => {\n                this.showErrorAlert(err)\n            \n            })\n        }\n      }\n      sendClear(id) {\n        this.setPopout(<ScreenSpinner/>)\n        fetch(this.state.api_url + \"method=ticket.approveReply&message_id=\" + id + \"&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n              this.setPopout(null)\n            } else {\n              this.showErrorAlert(data.error.message)\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert(err)\n    \n          })\n      }\n      Admin(id, author_id, text, comment,avatar=null, mark = -1){\n        this.props.this.setPopout(\n          <ActionSheet onClose={() => this.setPopout(null)}>\n             {author_id > 0 ?\n            <ActionSheetItem autoclose onClick={() => this.goOtherProfile(author_id)}>\n              Профиль\n            </ActionSheetItem>\n            : null}\n           { this.props.account.special && mark !== 0 && mark !== 1 && author_id > 0 ? \n            <ActionSheetItem autoclose onClick={() => this.sendRayt(true, id)}>\n              Оценить положительно\n            </ActionSheetItem> \n            : null}\n            { this.props.account.special && mark !== 0 && mark !== 1 && author_id > 0 ? \n            <ActionSheetItem autoclose onClick={() => this.sendRayt(false, id)}>\n              Оценить отрицательно\n            </ActionSheetItem> \n            : null }\n            { this.props.account.special === true && author_id > 0 ? \n            <ActionSheetItem autoclose onClick={() => this.sendClear(id)}>\n              Одобрить\n            </ActionSheetItem> \n            : null }\n            { (this.props.account.special === true && author_id < 0) ? \n            <ActionSheetItem autoclose onClick={() => {this.props.this.setState({other_profile:{'id':author_id,'avatar': {'url': avatar}}});this.setActiveModal('ban_user');}}>\n              Забанить пользователя\n            </ActionSheetItem> \n            : null }\n            { this.props.account.special === true && author_id > 0 ? \n            comment === null || comment === undefined? \n            <ActionSheetItem autoclose onClick={() => this.setState({add_comment: true, message_id_add: id})}>\n            Добавить комментарий\n            </ActionSheetItem> \n            : null\n            : null }\n            {Number(author_id === this.props.account.id) ? \n           <ActionSheetItem autoclose onClick={() => this.setState({redaction: true, message_id_redac: id, tiket_send_message: text})}>\n           Редактировать\n           </ActionSheetItem>\n           : null}\n        {comment === null || comment === undefined ? null : \n            <ActionSheetItem autoclose onClick={() => {this.props.this.setState({comment: comment}); this.setActiveModal(\"comment\")}}>\n            Просмотреть комментарий\n          </ActionSheetItem>\n            }\n            {Number(author_id) === Number(this.props.account.id) || this.props.account.special === true ? \n            <ActionSheetItem autoclose onClick={() => this.deleteMessage(id)}>\n              Удалить сообщение\n            </ActionSheetItem>\n            : null}\n            {<ActionSheetItem autoclose mode=\"cancel\">Отменить</ActionSheetItem>}\n          </ActionSheet>\n        )\n      }\n      copy(id) {\n        this.setPopout(\n          <ActionSheet onClose={() => this.setState({ popout: null })}>\n            {Number(this.state.tiket_info['author']['id']) === Number(parsedHash.vk_user_id) ? \n            this.state.tiket_info['status'] === 0 ||  this.state.tiket_info['status'] === 1 ?\n            <ActionSheetItem autoclose onClick={() => this.deleteTicket()}>\n            Закрыть тикет\n            </ActionSheetItem>\n            : \n            <ActionSheetItem autoclose onClick={() => this.openTicket()}>\n            Открыть тикет\n            </ActionSheetItem>\n            : \n            this.props.account.special === true ?\n            this.state.tiket_info['status'] === 0 ||  this.state.tiket_info['status'] === 1 ?\n            <ActionSheetItem autoclose onClick={() => this.deleteTicket()}>\n            Закрыть тикет\n            </ActionSheetItem>\n            : \n            <ActionSheetItem autoclose onClick={() => this.openTicket()}>\n            Открыть тикет\n            </ActionSheetItem>\n            : null\n          }\n            <ActionSheetItem autoclose onClick={() => bridge.send(\"VKWebAppCopyText\", {text: \"https://vk.com/app7409818#ticket_id=\" + id})}>\n              Скопировать ссылку\n            </ActionSheetItem>\n            {<ActionSheetItem autoclose mode=\"cancel\">Отменить</ActionSheetItem>}\n          </ActionSheet>)\n      }\n      sendNewMessage() {\n        if(this.state.tiket_send_message.length >= 5) {\n          this.setPopout(<ScreenSpinner/>)\n          var url = this.state.api_url + 'method=ticket.sendMessage&' + window.location.search.replace('?', '');\n          var method = 'POST';\n          var async = true;\n      \n          var xhr = new XMLHttpRequest();\n          xhr.open( method, url, async );\n          xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n      \n          xhr.onreadystatechange = () => {\n            if(xhr.status === 4) return;\n            if ( xhr.status === 200 ) {\n              fetch(this.state.api_url + \"method=ticket.getMessages&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', ''))\n              .then(res => res.json())\n              .then(data => {\n                if(data.result) {\n                  this.setState({tiket_message: data.response, tiket_send_message: \"\",add_comment: false, redaction: false})\n                  this.setPopout(null)\n                }else {\n                  this.showErrorAlert(data.error.message)\n                }\n              })\n              .catch(err => {\n                this.showErrorAlert(err)\n  \n              })\n            }\n          }\n          \n          xhr.send( 'ticket_id=' + this.state.tiket_info['id'] + '&text=' + this.state.tiket_send_message);\n      \n          xhr.onerror = ( error ) => {\n            this.showErrorAlert(error)\n  \n            console.error( error );\n          }\n        } else {\n            // this.showErrorAlert(\"Текст сообщения должен быть минимум из 5 символов.\")\n        }\n      }\n      deleteMessage(message_id) {\n        this.setPopout(<ScreenSpinner/>)\n          fetch(this.state.api_url + \"method=ticket.deleteMessage&message_id=\" + message_id + \"&\" + window.location.search.replace('?', ''))\n            .then(res => res.json())\n            .then(data => {\n              if(data.result) {\n                fetch(this.state.api_url + \"method=ticket.getMessages&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', ''))\n                  .then(res => res.json())\n                  .then(data => {\n                    if(data.result) {\n                      this.setState({tiket_message: data.response})\n                      this.setPopout(null)\n                    }else {\n                      this.showErrorAlert(data.error.message)\n                    }\n                  })\n                  .catch(err => {\n                    this.showErrorAlert(err)\n          \n                  })\n              }else {\n                this.showErrorAlert(data.error.message)\n              }\n            })\n            .catch(err => {\n                this.showErrorAlert(err)\n  \n            })\n      }\n      deleteTicket() {\n        this.setPopout(<ScreenSpinner/>)\n        fetch(this.state.api_url + \"method=ticket.close&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n              fetch(this.state.api_url + \"method=ticket.getById&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', ''))\n              .then(res => res.json())\n               .then(data => {\n              if(data.result) {\n                this.setState({tiket_info: data.response.info})\n                this.setPopout(null)\n              }else {\n                this.showErrorAlert(data.error.message)\n              }\n              })\n              .catch(err => {\n                this.showErrorAlert(err)\n      \n              })\n            }else {\n              this.showErrorAlert(data.error.message)\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert(err)\n  \n          })\n      }\n      openTicket() {\n        this.setPopout(<ScreenSpinner/>)\n        fetch(this.state.api_url + \"method=ticket.open&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n              fetch(this.state.api_url + \"method=ticket.getById&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', ''))\n              .then(res => res.json())\n               .then(data => {\n              if(data.result) {\n                this.setState({tiket_info: data.response.info})\n                this.setPopout(null)\n              }else {\n                this.showErrorAlert(data.error.message)\n              }\n            })\n          .catch(err => {\n            this.showErrorAlert(err)\n  \n          })\n            }else {\n              this.showErrorAlert(data.error.message)\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert(err)\n  \n          })\n      }\n      sendNewMessageRedact() {\n        this.setPopout(<ScreenSpinner/>)\n        if(this.state.tiket_send_message.length >= 5) {\n          var url = this.state.api_url + 'method=ticket.editMessage&' + window.location.search.replace('?', '');\n          var method = 'POST';\n          var async = true;\n      \n          var xhr = new XMLHttpRequest();\n          xhr.open( method, url, async );\n          xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n      \n          xhr.onreadystatechange = () => {\n            if(xhr.status === 4) return;\n            if ( xhr.status === 200 ) {\n              fetch(this.state.api_url + \"method=ticket.getMessages&ticket_id=\" + this.state.tiket_info['id'] + \"&\" + window.location.search.replace('?', ''))\n              .then(res => res.json())\n              .then(data => {\n                if(data.result) {\n                  this.setState({tiket_message: data.response, tiket_send_message: \"\", add_comment: false, redaction: false})\n                  this.setPopout(null)\n                }else {\n                  this.showErrorAlert(data.error.message)\n                }\n              })\n              .catch(err => {\n                console.log(err)\n              })\n            }\n          }\n          \n          xhr.send('message_id=' + this.state.message_id_redac + '&text=' + this.state.tiket_send_message);\n      \n          xhr.onerror = ( error ) => {\n            this.showErrorAlert(error)\n  \n            console.error( error );\n          }\n        } else {\n            this.showErrorAlert(\"Текст сообщения должен быть минимум из 5 символов.\")\n        }\n      }\n  \n    componentDidMount(){\n      this.setPopout(<ScreenSpinner/>)\n      this.Prepare_ticket()\n    }\n    nofinc(){\n      return 1\n    }\n    render(){\n        var props = this.props;\n        var thisOb = this;\n        return(\n        <Panel id={this.props.id}>\n            <PanelHeader \n                left={<PanelHeaderBack onClick={() => this.props.this.goBack()} />}\n            >\n                <span id=\"animation\" onClick={() => this.copy(this.state.tiket_info['id'])}>Вопрос #{this.state.tiket_info['id']}</span>\n            </PanelHeader>\n            {/* MESSAGES */}\n            <div className=\"title_tiket\">{new Date(this.state.tiket_info['time'] * 1e3).getDate()} {add_month(this.state.tiket_info['time'])}</div>\n            <div className=\"title_tiket\" style={{marginTop: \"10px\", width: \"95%\", marginLeft: \"10px\"}}>Пользователь обратился с вопросом  «{this.state.tiket_info['title']}»</div>\n                    {this.state.tiket_message ? this.state.tiket_message.map(function(result, i) {\n                        var is_mine_ticket = Number(thisOb.state.tiket_info.author['id']) === Number(parsedHash.vk_user_id) ? true : false\n\n\n                        var is_mine_message = Number(result['author']['id']) === Number(parsedHash.vk_user_id) ? true : false\n                        var avatar = result.author.is_moderator ? result['author']['avatar']['url'] : result.author.photo_200\n                        var time = fix_time(new Date(result.time * 1e3).getHours()) + \":\" + fix_time(new Date(result.time * 1e3).getMinutes())\n                        var title_moder = isFinite(result['nickname']) ? `Агент Поддержки #${result['nickname']}` : result['nickname'] ? result['nickname'] : `Агент Поддержки #${result['author']['id']}`;\n                        return (\n                            Number(thisOb.state.tiket_info.author['id']) === Number(parsedHash.vk_user_id) ?\n                            <Message \n                                title={result.author.id === 526444378 ? \"Витёк\" : result.author.is_moderator ? title_moder : result.author.first_name + \" \" + result.author.last_name} \n                                title_icon={result.moderator_comment !== undefined ? <Icon16ReplyOutline width={10} height={10} style={{display: \"inline-block\"}}/> : false}\n                                is_mine={is_mine_message === is_mine_ticket}\n                                avatar={avatar}\n                                onClick={() => thisOb.Admin(result['id'], result['author'].first_name ? -result['author']['id'] : result['author']['id'] , result['text'], result.moderator_comment !== undefined ? result['moderator_comment']['text'] : null,avatar, result['mark'])}\n                                key={i}\n                                is_special={thisOb.props.account.special}\n                                is_mark={result.mark}\n                                time={time}\n                                sendRayt_false={() => thisOb.sendRayt(false, result.id)}\n                                sendRayt_true={() => thisOb.sendRayt(true, result.id)}\n                                approved={result.approved ? true : false}\n                                CanselApp={() => props.this.showAlert('Информация', 'Этот ответ оценен отрицательно')}\n                                DoneApp={() => props.this.showAlert('Информация', 'Этот ответ оценен положительно')}\n                            >\n                                {result.text}\n                            </Message>\n                            \n                            :\n                            <Message \n                                title={result.author.id === 526444378 ? \"Витёк\" : result.author.is_moderator ? title_moder : result.author.first_name + \" \" + result.author.last_name} \n                                title_icon={result.moderator_comment !== undefined ? <Icon16ReplyOutline width={10} height={10} style={{display: \"inline-block\"}}/> : false}\n                                is_mine={result.author.is_moderator}\n                                avatar={result.author.id === 526444378 ? Ninja : avatar}\n                                key={i}\n                                time={time}\n                                onClick={() => thisOb.Admin(result['id'], result['author'].first_name ? -result['author']['id'] : result['author']['id'], result['text'], result.moderator_comment !== undefined ? result['moderator_comment']['text'] : null,avatar, result['mark'])}\n                                is_special={thisOb.props.account.special}\n                                is_mark={result.mark}\n                                sendRayt_false={() => thisOb.sendRayt(false, result.id)}\n                                sendRayt_true={() => thisOb.sendRayt(true, result.id)}\n                                approved={result.approved ? true : false}\n                                CanselApp={() => props.this.showAlert('Информация', 'Этот ответ оценен отрицательно')}\n                                DoneApp={() => props.this.showAlert('Информация', 'Этот ответ оценен положительно')}\n                            >\n                                {result.text}\n                            </Message>\n                        )}) : null}\n            {/* INPUT */}\n            {this.state.tiket_info['status'] === 0 || (this.state.redaction === true || this.state.add_comment === true) ? \n                //  <div id=\"other\" className=\"other\">\n                //     <div className=\"down_input_message\">\n                //         <textarea maxLength=\"2020\" name=\"tiket_send_message\" value={this.state.tiket_send_message} onChange={(e) => this.onChange(e)} placeholder={this.state.add_comment ? \"Комментарий... (Не менее 6 символов)\" : \"Ответ... (Не менее 6 символов)\"} className=\"textarea\"></textarea>\n                //     </div>\n                //     <div className=\"send_text\" onClick={() => {(this.state.tiket_send_message.length > 5) ? this.state.redaction !== true && this.state.add_comment !== true ? this.sendNewMessage() : this.state.redaction ? this.sendNewMessageRedact() : this.sendNewMessageComment() : this.nofinc()}}>\n                //         <Icon24Up style={{color: (this.state.tiket_send_message.length > 5) ? \"var(--dynamic_green)\" : \"var(--dynamic_orange)\"}} />\n                //     </div>\n                // </div>\n                <Div className=\"message_sending\">\n                    <Textarea \n                    maxLength=\"2020\" \n                    value={this.state.tiket_send_message}\n                    name=\"tiket_send_message\"\n                    onChange={(e) => this.onChange(e)} \n                    placeholder={this.state.add_comment ? \"Комментарий... (Не менее 6 символов)\" : \"Ответ... (Не менее 6 символов)\"}\n                    style={{width: platformname ? \"82%\" : \"85%\"}}></Textarea>\n                    <div className=\"send_text\" \n                    onClick={() => {(this.state.tiket_send_message.length > 5) ? this.state.redaction !== true && this.state.add_comment !== true ? this.sendNewMessage() : this.state.redaction ? this.sendNewMessageRedact() : this.sendNewMessageComment() : this.nofinc()}}\n                    style={{background: (this.state.tiket_send_message.length > 5) ? \"var(--button_send)\" : \"#98A0AD\"}} >\n                        <Icon24Up width={30} height={30} />\n                    </div>\n                </Div>\n                 : null}\n            {this.state.tiket_info['status'] === 1 ? \n                Number(this.state.tiket_info['author']['id']) === Number(parsedHash.vk_user_id) ?\n                    <div>\n                      <FixedLayout vertical=\"bottom\">\n                        <Div style={{display: \"flex\"}}>\n                          <Button size=\"l\" style={{marginRight: \"5%\"}} stretched onClick={() => this.deleteTicket()}>Проблема решена</Button>\n                          <Button size=\"l\" stretched mode=\"secondary\" onClick={() => this.openTicket()}>Проблема не решена</Button>\n                        </Div>\n                      </FixedLayout>\n                        \n                    </div>\n                : null\n            : null}\n                <br/>\n                <br/>\n                <br/>\n            </Panel>\n        )\n    }\n};\n","import React from 'react';\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\n\nimport { \n    Panel,\n    PanelHeader,\n    PanelHeaderButton,\n    Group,\n    Avatar,\n    Separator,\n    Counter,\n    SimpleCell,\n    Cell,\n    ScreenSpinner,\n    ActionSheet,\n    ActionSheetItem,\n    } from '@vkontakte/vkui';\n\nimport Icon28RecentOutline from '@vkontakte/icons/dist/28/recent_outline';\nimport Icon24DoNotDisturb from '@vkontakte/icons/dist/24/do_not_disturb';\nimport Icon28CheckCircleOutline from '@vkontakte/icons/dist/28/check_circle_outline';\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\nimport Icon16Fire from '@vkontakte/icons/dist/16/fire';\nimport Icon16Verified from '@vkontakte/icons/dist/16/verified';\n\nfunction fix_time(time) {\n    if(time < 10) {\n        return \"0\" + time\n    } else {\n        return time\n    }\n  }\n    class Reader extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                api_url: \"https://xelene.ru/road/php/index.php?\",\n                other_profile: null\n            }\n            var propsbi = this.props.this;\n            this.setPopout = propsbi.setPopout;\n            this.showErrorAlert = propsbi.showErrorAlert;\n            this.setActiveModal = propsbi.setActiveModal;\n        }\n        PrepareProfile(is_change=false){\n            fetch(this.state.api_url + \"method=user.getById&id=\" + this.props.agent_id + \"&\" + window.location.search.replace('?', ''))\n            .then(res => res.json())\n            .then(data => {\n              if(data.result) {\n                this.setState({other_profile: data.response})\n                this.setPopout(null)\n              }else {\n                this.showErrorAlert(data.error.message)\n              }\n            })\n            .catch(err => {\n              this.showErrorAlert(err)\n    \n            })\n        }\n        Prom(id, give=true) {\n            this.setState({popout: <ScreenSpinner/>})\n            fetch(this.state.api_url + \"method=account.Flash&agent_id=\" + id + '&give=' + Number(give) + \"&\" + window.location.search.replace('?', ''))\n              .then(res => res.json())\n              .then(data => {\n                if(data.result) {\n                    let prof = this.state.other_profile;\n                    if(give){\n                        prof['flash'] = true;\n                    } else {\n                        prof['flash'] = false;\n                    }\n                    this.setState({other_profile: prof})\n                }else {\n                    this.showErrorAlert(data.error.message)\n                  }\n              })\n              .catch(err => {\n                this.showErrorAlert(err)\n              })\n          }\n        copy(id, prometey) {\n            this.setPopout(\n              <ActionSheet onClose={() => this.setPopout(null)}>\n                {this.props.account.special ? \n                 <ActionSheetItem autoclose onClick={prometey ? () => this.Prom(id, false) : () => this.Prom(id)}>\n                  {prometey ? 'Забрать прометей' : 'Выдать прометей'}\n                </ActionSheetItem>\n                : null }\n                {this.props.account.special ? \n                 <ActionSheetItem autoclose onClick={() => {this.props.this.setState({other_profile:this.state.other_profile});this.setActiveModal('ban_user');}}>\n                  Заблокировать\n                </ActionSheetItem>\n                : null }\n                <ActionSheetItem autoclose onClick={() => {bridge.send(\"VKWebAppCopyText\", {text: \"https://vk.com/app7409818#agent_id=\" + id})}}>\n                  Скопировать ссылку\n                </ActionSheetItem>\n                {<ActionSheetItem autoclose theme=\"cancel\">Отменить</ActionSheetItem>}\n              </ActionSheet>)\n          }\n        \n        please_Month(text) {\n            let month = 'января'\n            switch(text) {\n               case 0:\n                 month = \"января\"\n               break;\n               case 1:\n                   month = \"февраля\"\n               break;\n               case 2:\n                   month= \"марта\"\n               break;\n               case 3:\n                   month= \"апреля\"\n               break;\n               case 4:\n                   month= \"мая\"\n               break;\n               case 5:\n                   month= \"июня\"\n               break;\n               case 6:\n                   month= \"июля\"\n               break;\n               case 7:\n                   month= \"августа\"\n               break;\n               case 8:\n                   month= \"сентября\"\n               break;\n               case 9:\n                   month= \"октября\"\n               break;\n               case 10:\n                   month= \"ноября\"\n               break;\n               case 11:\n                   month= \"декабря\"\n               break;\n               default: \n                month = \"января\"\n            }\n            return month\n         }\n        componentDidMount(){\n            this.setPopout(<ScreenSpinner/>);\n            this.PrepareProfile();\n        }\n\n        render() {\n            var props = this.props.this; // для более удобного использования.\n            return (\n                <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderButton onClick={() => this.props.this.goBack()}>\n\n                    <Icon24BrowserBack/>\n                    </PanelHeaderButton>\n                    }>\n                        <span onClick={() => this.copy(this.state.other_profile['id'], this.state.other_profile['flash'])}>Профиль</span>\n                </PanelHeader>\n                {this.state.other_profile ? <>\n                <Cell\n                  description={\n                      <div className=\"description_other_profile\">\n                     {this.state.other_profile['online']['is_online'] === true ? \"online\" : new Date(this.state.other_profile['online']['last_seen'] * 1e3).getDate() + \" \" + this.please_Month(new Date(this.state.other_profile['registered'] * 1e3).getMonth() + 1) + \" \"  + new Date(this.state.other_profile['online']['last_seen'] * 1e3).getFullYear() + \" в \" \n                  + fix_time(new Date(this.state.other_profile['online']['last_seen'] * 1e3).getHours()) + \":\" + fix_time(new Date(this.state.other_profile['online']['last_seen'] * 1e3).getMinutes())}\n                  </div>\n                }\n                  size=\"l\"\n                  before={<Avatar src={this.state.other_profile['avatar']['url']} size={70}/>}\n                >\n                  <div className=\"title_profile\">\n                  {isFinite(this.state.other_profile['nickname']) ? `Агент Поддержки #${this.state.other_profile['nickname']}` : this.state.other_profile['nickname'] ? this.state.other_profile['nickname'] : `Агент Поддержки #${this.state.other_profile['id']}`}\n                    {this.state.other_profile['flash'] === true ? \n                    <div className=\"profile_moderator_name_icon\">\n                        <Icon16Fire width={12} height={12} style={{color: \"var(--prom_icon)\"}} onClick={() => props.setActiveModal('prom')} />  \n                    </div>\n                    : null}\n                    {this.state.other_profile['verified'] === true ?\n                    <div className=\"profile_moderator_name_icon\">\n                        <Icon16Verified width={12} height={12} style={{color: \"var(--dynamic_blue)\"}} />  \n                    </div>\n                    : null}\n                  </div>\n                  </Cell>\n                  <Separator />\n                  {this.state.other_profile['nickname'] === 'Специальный Агент' || this.state.other_profile['banned'] ? <div style={{marginTop: \"20px\"}} className=\"help_title_profile\">{this.state.other_profile['banned'] ? 'Этот профиль забанен' : 'Вы не можете просматривать этот профиль'}</div> :\n                    <Group>\n                    <SimpleCell \n                        disabled\n                        before={<Icon28RecentOutline />}\n                        indicator={new Date(this.state.other_profile.registered * 1e3).getDate() + \" \" + this.please_Month(new Date(this.state.other_profile['registered'] * 1e3).getMonth() + 1) + \" \" + new Date(this.state.other_profile.registered * 1e3).getFullYear()}>\n                            Дата регистрации\n                    </SimpleCell>\n                    <SimpleCell \n                        disabled\n                        before={<Icon28InfoOutline />}\n                        indicator={<Counter mode='primary'>{this.state.other_profile['total_answers']}</Counter>}>\n                            Всего ответов\n                    </SimpleCell>\n                    <SimpleCell \n                        disabled\n                        before={<Icon28CheckCircleOutline />}\n                        indicator={<Counter mode='primary'>{this.state.other_profile['good_answers']}</Counter>}>\n                            Положительные ответы\n                    </SimpleCell>\n                    <SimpleCell \n                        disabled\n                        before={<Icon24DoNotDisturb width={28} height={28} />}\n                        indicator={<Counter mode='primary'>{this.state.other_profile['bad_answers']}</Counter>}>\n                            Отрицательных ответов\n                    </SimpleCell>\n                </Group>}\n                <Separator />\n                <div style={{marginTop: \"20px\"}} className=\"help_title_profile\">В недалеком будущем здесь что-то будет.</div>\n                <div className=\"help_title_profile\">Ждем вместе с вами!</div>\n                </> : null}\n            </Panel>\n            )\n            }\n        }\n  \nexport default Reader;","import React from 'react'; // React\r\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\r\n\r\n\r\nimport { \r\n  Button,\r\n  Group,\r\n  Alert,\r\n  Avatar,\r\n  Separator,\r\n  Header,\r\n  SimpleCell,\r\n  Div,\r\n  View,\r\n  ScreenSpinner,\r\n  ModalRoot,\r\n  ModalCard,\r\n  ModalPage,\r\n  ModalPageHeader,\r\n  Input,\r\n  FormLayout,\r\n  FormStatus,\r\n  Slider,\r\n  } from '@vkontakte/vkui';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../../style.css'\r\n// Импортируем панели\r\nimport NewTicket from './panels/new_tiket'\r\nimport Questions from './panels/questions'\r\nimport Tiket from '../../components/tiket';\r\nimport OtherProfile from '../../components/other_profile'\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\r\nimport Icon56FireOutline from '@vkontakte/icons/dist/56/fire_outline';\r\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\r\nimport Icon28BillheadOutline from '@vkontakte/icons/dist/28/billhead_outline';\r\nimport Icon28FireOutline from '@vkontakte/icons/dist/28/fire_outline';\r\n\r\nconst queryString = require('query-string');\r\n// const platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n// const parsedHash = queryString.parse(window.location.search.replace('?', ''));\r\nconst hash = queryString.parse(window.location.hash);\r\n\r\nexport default class Main extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            api_url: \"https://xelene.ru/road/php/index.php?\",\r\n            activePanel: 'questions',\r\n            activeModal: null,\r\n            modalHistory: [],\r\n            popout: this.props.popout,\r\n            ticket_id: null,\r\n            history: ['questions'],\r\n            active_other_profile: 0,\r\n            other_profile: null,\r\n            ban_reason: \"\",\r\n            comment: '',\r\n            transfer: {\r\n              'avatar': '',\r\n              'comment': ''\r\n            },\r\n            AgeUser: 0,\r\n\r\n        \r\n\r\n        }\r\n        this.changeData = this.props.this.changeData;\r\n        this.playAudio = this.props.this.playAudio;\r\n        this.ReloadProfile = this.props.reloadProfile;\r\n        // this.copy = this.props.this.copy;\r\n        // this.recordHistory = (panel) => {\r\n        //   this.setState({history: [...this.state.history, panel]})\r\n        // }\r\n        this.setPopout = (value) => {\r\n          this.setState({popout: value})\r\n        }\r\n        \r\n        this.goTiket = (id) => {\r\n          this.setPopout(<ScreenSpinner/>)\r\n          this.setState({ticket_id: id})\r\n          this.goPanel('ticket');\r\n          this.setPopout(null);\r\n        }\r\n        this.onChange = (event) => {\r\n          var name = event.currentTarget.name;\r\n          var value = event.currentTarget.value;\r\n          this.setState({ [name]: value });\r\n      }\r\n        this.goOtherProfile = (id) => {\r\n          this.setState({active_other_profile: id})\r\n          this.goPanel(\"other_profile\")\r\n        }\r\n        this.modalBack = () => {\r\n            this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n        };\r\n        this.goBack = () => {\r\n          const history = this.state.history;\r\n          if(history.length === 1) {\r\n              bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\r\n          } else if (history.length > 1) {\r\n              history.pop()\r\n              this.setState({activePanel: history[history.length - 1]})\r\n              if(history[history.length - 1] === 'ticket'){\r\n                this.changeData('need_epic', false)\r\n              } else{\r\n                this.changeData('need_epic', true)\r\n              }\r\n          }\r\n      }\r\n        this.goPanel = (panel) => {\r\n          this.setState({history: [...this.state.history, panel], activePanel: panel})\r\n          if(panel === 'ticket'){\r\n            this.changeData('need_epic', false)\r\n          } else{\r\n            this.changeData('need_epic', true)\r\n          }\r\n        }\r\n        this.setActiveModal = (activeModal) => {\r\n            activeModal = activeModal || null;\r\n            let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n        \r\n            if (activeModal === null) {\r\n              modalHistory = [];\r\n            } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n              modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n              modalHistory.push(activeModal);\r\n            }\r\n        \r\n            this.setState({\r\n              activeModal: activeModal,\r\n              modalHistory: modalHistory\r\n            });\r\n          };\r\n          this.showAlert = (title, text) => {\r\n            this.setState({\r\n              popout: \r\n                <Alert\r\n                  actions={[{\r\n                    title: 'Закрыть',\r\n                    autoclose: true,\r\n                    mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n                >\r\n                  <h2>{title}</h2>\r\n                  <p>{text}</p>\r\n              </Alert>\r\n            })\r\n          }\r\n          this.showErrorAlert = (error=null) => {\r\n            this.setPopout(\r\n              <Alert\r\n                  actions={[{\r\n                  title: 'Отмена',\r\n                  autoclose: true,\r\n                  mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n              >\r\n                <h2>Ошибка</h2>\r\n                {error ? <p>{error}</p> : <p>Что-то пошло не так, попробуйте снова!</p>}\r\n              </Alert>\r\n          )\r\n        }\r\n    }\r\n    ChangeAge(age) {\r\n      this.setState({popout: <ScreenSpinner/>})\r\n      fetch(this.state.api_url + \"method=account.setAge&age=\" + age + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setState({popout: null})\r\n          // setTimeout(() => {\r\n          //   this.playAudio()\r\n          // }, 5000)\r\n          \r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert()\r\n      })\r\n    }\r\n    userBan(user_id, text) {\r\n      this.setPopout(<ScreenSpinner/>)\r\n      fetch(this.state.api_url + \"method=account.ban&agent_id=\" + user_id + \"&banned=true&reason=\" + text + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setActiveModal(null);\r\n          this.showAlert('Успех', 'Пользователь забанен');\r\n          this.setPopout(null);\r\n        }else {\r\n          this.showErrorAlert(data.error.message)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert(err)\r\n      })\r\n    }\r\n    getRandomTiket() {\r\n      fetch(this.state.api_url + \"method=ticket.getRandom&\" + window.location.search.replace('?', ''))\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if(data.result) {\r\n            this.goTiket(data.response.id)\r\n          } else {\r\n            this.showErrorAlert(data.error.message)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.showErrorAlert(err)\r\n\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        if(hash.ticket_id !== undefined){\r\n          this.goTiket(hash.ticket_id)\r\n          bridge.send(\"VKWebAppSetLocation\", {\"location\": \"\"});\r\n        }\r\n        if(hash.agent_id !== undefined) {\r\n          this.goOtherProfile(hash.agent_id);\r\n          bridge.send(\"VKWebAppSetLocation\", {\"location\": \"\"});\r\n        //   if(window.history.pushState) {\r\n        //     window.history.pushState('', '/', window.location.pathname + window.location.search)\r\n        // } else {\r\n        //     window.location.hash = '';\r\n        // }\r\n        }\r\n      \r\n    }\r\n    render() {\r\n        const modal = (\r\n            <ModalRoot\r\n            activeModal={this.state.activeModal}\r\n            ><ModalPage\r\n            id=\"start\"\r\n            onClose={this.modalBack}\r\n            dynamicContentHeight\r\n            header={\r\n              <ModalPageHeader>\r\n                Добро пожаловать в игру\r\n              </ModalPageHeader>\r\n            }>\r\n              <Div style={{marginTop: 0}}>\r\n                <img className=\"AvaModalPage\" \r\n                src={this.props.account.id !== undefined ? this.props.account.avatar.url : null} \r\n                size={70}\r\n                alt='твоя ава' />\r\n                  <Header\r\n                  subtitle='Помните, отвечать нужно вдумчиво.'>Вам присвоен номер #{this.props.account.id !== undefined ? this.props.account.id : \"undefined\"}</Header>\r\n                <Separator />\r\n                <FormLayout>\r\n                  <FormStatus header=\"Внимание! Важная информация\" mode=\"error\">\r\n                    Сервис не имеет отношения к Администрации Вконтакте, а так же их разработкам.\r\n                  </FormStatus>\r\n                    <Slider\r\n                      min={10}\r\n                      max={100}\r\n                      step={1}\r\n                      value={this.state.AgeUser}\r\n                      onChange={e => {\r\n                        this.setState({AgeUser: e});\r\n                      }}\r\n                      top={`Укажите свой возраст: ${this.state.AgeUser}`}\r\n                    />\r\n                  </FormLayout>\r\n                  <Group>\r\n                    <SimpleCell disabled multiline\r\n                    before={<Icon28CoinsOutline />}>\r\n                      Зарабатывай монеты\r\n                    </SimpleCell>\r\n                    <SimpleCell disabled multiline\r\n                    before={<Icon28BillheadOutline />}>\r\n                      Отвечай на вопросы\r\n                    </SimpleCell>\r\n                    <SimpleCell disabled multiline\r\n                    before={<Icon28FavoriteOutline />}>\r\n                      Участвуй в рейтинге\r\n                    </SimpleCell>\r\n                    <SimpleCell disabled multiline\r\n                    before={<Icon28FireOutline />}>\r\n                      Получай отметку огня\r\n                    </SimpleCell>\r\n                  </Group>\r\n                  \r\n                  <Div>\r\n                    <Button \r\n                    mode=\"secondary\" \r\n                    size='xl'\r\n                    stretched\r\n                    onClick={() => {\r\n                      // this.playAudio()\r\n                      \r\n                      this.ChangeAge(this.state.AgeUser);\r\n                      this.setActiveModal(null);\r\n                      setTimeout(() => {\r\n                        this.ReloadProfile();\r\n                      },2000);\r\n                    }}>Вперёд!</Button>\r\n                  </Div>\r\n                </Div>\r\n            </ModalPage>\r\n              <ModalCard\r\n                id={'prom'}\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Icon56FireOutline style={{color: \"var(--dynamic_red)\"}} width={72} height={72} />}\r\n                caption=\"Прометей — особенный значок, выдаваемый агентам за хорошее качество ответов.\"\r\n                actions={[{\r\n                  title: 'Класс!',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }\r\n                ]}\r\n              />\r\n              <ModalCard\r\n                id='ban_user'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.other_profile ? this.state.other_profile['avatar']['url'] : null} size={72} />}\r\n                header=\"Забанить пользователя\"\r\n                actions={[{\r\n                  title: 'Забанить! 🤬',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.userBan(this.state.other_profile ? this.state.other_profile['id'] : 0, this.state.ban_reason);\r\n                    console.log(this.state.other_profile['id'])\r\n                  }\r\n                }]}\r\n              >\r\n                <Input disabled value={this.state.other_profile ? (this.state.other_profile['id'] < 0) ? -this.state.other_profile['id'] : this.state.other_profile['id'] : null}/>\r\n                <br/>\r\n                <Input maxLength=\"100\" name=\"ban_reason\" onChange={(e) => this.onChange(e)} placeholder=\"Введите причину бана\" value={this.state.ban_reason} />\r\n                \r\n              </ModalCard>\r\n              \r\n              <ModalCard\r\n                id='transfer'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.transfer.avatar} size={72} />}\r\n                header='Перевод монеток'\r\n                caption={this.state.transfer.comment}\r\n                actions={[{\r\n                  title: 'Закрыть',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }]}\r\n              >\r\n              </ModalCard>\r\n              <ModalPage\r\n                id=\"comment\"\r\n                onClose={this.modalBack}\r\n                header={\r\n                  <ModalPageHeader\r\n                  right={<Header onClick={this.modalBack}><Icon24Dismiss /></Header>}\r\n                  >\r\n                    Комментарий\r\n                  </ModalPageHeader>\r\n                }\r\n                >\r\n                  <Div>\r\n                    <div style={{whiteSpace: \"pre-wrap\"}}>{this.state.comment}</div>\r\n                  </Div>\r\n                </ModalPage>\r\n            </ModalRoot>\r\n        )\r\n        return(\r\n            <View \r\n            id={this.props.id}\r\n            activePanel={this.state.activePanel}\r\n            modal={modal}\r\n            popout={this.state.popout}\r\n            onSwipeBack={this.goBack}\r\n            >\r\n              <Questions id='questions' this={this} account={this.props.account} />\r\n              <NewTicket id='new_ticket' this={this} account={this.props.account} /> \r\n              <Tiket id=\"ticket\" this={this} ticket_id={this.state.ticket_id} account={this.props.account} />\r\n              <OtherProfile id=\"other_profile\" this={this} agent_id={this.state.active_other_profile} account={this.props.account}/>\r\n            </View>   \r\n        )\r\n    }\r\n}","import React from 'react';\nimport { \n  Panel,\n  PanelHeader,\n  Avatar,\n  Separator,\n  PullToRefresh,\n  SimpleCell,\n  } from '@vkontakte/vkui';\n\nimport Icon16Fire from '@vkontakte/icons/dist/16/fire';\nimport Icon16Verified from '@vkontakte/icons/dist/16/verified';\n\n    class Reader extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n              api_url: \"https://xelene.ru/road/php/index.php?\",\n              fetching: false,\n              top_agents: null,\n            }\n            var propsbi = this.props.this;\n            this.setPopout = propsbi.setPopout;\n            this.showErrorAlert = propsbi.showErrorAlert;\n            this.setActiveModal = propsbi.setActiveModal;\n        }\n        getTopUsers(){\n          fetch(this.state.api_url + \"method=users.getTop&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n              this.setState({top_agents: data.response})\n              setTimeout(() => {\n                this.setState({fetching: false});\n              }, 500)\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert(err)\n\n          })\n        }\n        componentDidMount(){\n          this.getTopUsers()\n        }\n        render() {\n            var props = this.props.this; // для более удобного использования.\n            return (\n                <Panel id={this.props.id}>\n                <PanelHeader>\n                Топ\n                </PanelHeader>              \n                <><PullToRefresh onRefresh={() => {this.setState({fetching: true});this.getTopUsers()}} isFetching={this.state.fetching}>\n                  {this.state.top_agents ? this.state.top_agents.map((result, i) => \n                    result['banned'] ? null :\n                    <React.Fragment key={result.id}>\n                    <SimpleCell\n                      onClick={() => props.goOtherProfile(result['id'], true)}\n                      description={\n                        <div className=\"top_moderator_desc\">\n                        {result['good_answers'] +  \" хороших ответов, \" + result['bad_answers'] + \" плохих ответов\"}\n                        </div>\n                      }\n                      size=\"l\"\n                      before={<Avatar src={result['avatar']['url']}/>}\n                    >\n                  <div className=\"top_moderator_name\">\n                  {isFinite(result['nickname']) ? `Агент Поддержки #${result['nickname']}` : result['nickname'] ? result['nickname'] : `Агент Поддержки #${result['id']}`}\n                    <div className=\"top_moderator_name_icon\">\n                      {result['flash'] === true ? <Icon16Fire width={12} height={12} onClick={() => this.setActiveModal('prom')} className=\"top_moderator_name_icon\"/> : null}\n                    </div>\n                    <div className=\"top_moderator_name_icon_ver\">\n                      {result['verified'] === true ? <Icon16Verified className=\"top_moderator_name_icon_ver\"/>  : null }\n                    </div>\n                  </div>\n                  </SimpleCell>\n                 <Separator/>\n                 </React.Fragment>\n                  ) : null}\n                </PullToRefresh></>\n            </Panel>\n            )\n            }\n        }\n  \nexport default Reader;","import React from 'react'; // React\r\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\r\n\r\n\r\nimport { \r\n  Button,\r\n  Alert,\r\n  Avatar,\r\n  Header,\r\n  Div,\r\n  View,\r\n  ScreenSpinner,\r\n  ModalRoot,\r\n  ModalCard,\r\n  ModalPage,\r\n  ModalPageHeader,\r\n  Input,\r\n  } from '@vkontakte/vkui';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../../style.css';\r\n// Импортируем панели\r\nimport Top from './panels/top';\r\nimport OtherProfile from '../../components/other_profile';\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon56FireOutline from '@vkontakte/icons/dist/56/fire_outline';\r\nimport Icon20PlaceOutline from '@vkontakte/icons/dist/20/place_outline';\r\nimport Icon20Stars from '@vkontakte/icons/dist/20/stars';\r\n\r\n// const queryString = require('query-string');\r\n// const platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n// const parsedHash = queryString.parse(window.location.search.replace('?', ''));\r\n// const hash = queryString.parse(window.location.hash);\r\n\r\nexport default class Main extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            api_url: \"https://xelene.ru/road/php/index.php?\",\r\n            activePanel: 'top',\r\n            activeModal: null,\r\n            modalHistory: [],\r\n            popout: this.props.popout,\r\n            ticket_id: null,\r\n            history: ['top'],\r\n            active_other_profile: 0,\r\n            other_profile: null,\r\n            ban_reason: \"\",\r\n            comment: '',\r\n            transfer: {\r\n              'avatar': '',\r\n              'comment': ''\r\n            },\r\n            AgeUser: 0,\r\n\r\n        \r\n\r\n        }\r\n        this.changeData = this.props.this.changeData;\r\n        this.playAudio = this.props.this.playAudio;\r\n        // this.copy = this.props.this.copy;\r\n        // this.recordHistory = (panel) => {\r\n        //   this.setState({history: [...this.state.history, panel]})\r\n        // }\r\n        this.setPopout = (value) => {\r\n          this.setState({popout: value})\r\n        }\r\n        \r\n        this.goTiket = (id) => {\r\n          this.setPopout(<ScreenSpinner/>)\r\n          this.setState({ticket_id: id})\r\n          this.goPanel('ticket');\r\n          this.setPopout(null);\r\n        }\r\n        this.onChange = (event) => {\r\n          var name = event.currentTarget.name;\r\n          var value = event.currentTarget.value;\r\n          this.setState({ [name]: value });\r\n      }\r\n        this.goOtherProfile = (id) => {\r\n          this.setState({active_other_profile: id})\r\n          this.goPanel(\"other_profile\")\r\n        }\r\n        this.modalBack = () => {\r\n            this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n        };\r\n        this.goBack = () => {\r\n          const history = this.state.history;\r\n          if(history.length === 1) {\r\n              bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\r\n          } else if (history.length > 1) {\r\n              history.pop()\r\n              this.setState({activePanel: history[history.length - 1]})\r\n              if(history[history.length - 1] === 'ticket'){\r\n                this.changeData('need_epic', false)\r\n              } else{\r\n                this.changeData('need_epic', true)\r\n              }\r\n          }\r\n      }\r\n        this.goPanel = (panel) => {\r\n          this.setState({history: [...this.state.history, panel], activePanel: panel})\r\n          if(panel === 'ticket'){\r\n            this.changeData('need_epic', false)\r\n          } else{\r\n            this.changeData('need_epic', true)\r\n          }\r\n        }\r\n        this.setActiveModal = (activeModal) => {\r\n            activeModal = activeModal || null;\r\n            let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n        \r\n            if (activeModal === null) {\r\n              modalHistory = [];\r\n            } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n              modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n              modalHistory.push(activeModal);\r\n            }\r\n        \r\n            this.setState({\r\n              activeModal: activeModal,\r\n              modalHistory: modalHistory\r\n            });\r\n          };\r\n          this.showAlert = (title, text) => {\r\n            this.setState({\r\n              popout: \r\n                <Alert\r\n                  actions={[{\r\n                    title: 'Закрыть',\r\n                    autoclose: true,\r\n                    mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n                >\r\n                  <h2>{title}</h2>\r\n                  <p>{text}</p>\r\n              </Alert>\r\n            })\r\n          }\r\n          this.showErrorAlert = (error=null) => {\r\n            this.setPopout(\r\n              <Alert\r\n                  actions={[{\r\n                  title: 'Отмена',\r\n                  autoclose: true,\r\n                  mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.closePopout}\r\n              >\r\n                <h2>Ошибка</h2>\r\n                {error ? <p>{error}</p> : <p>Что-то пошло не так, попробуйте снова!</p>}\r\n              </Alert>\r\n          )\r\n        }\r\n    }\r\n    ChangeAge(age) {\r\n      this.setState({popout: <ScreenSpinner/>})\r\n      fetch(this.state.api_url + \"method=account.setAge&age=\" + age + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setState({popout: null})\r\n          // setTimeout(() => {\r\n          //   this.playAudio()\r\n          // }, 5000)\r\n          \r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert()\r\n      })\r\n    }\r\n    userBan(user_id, text) {\r\n      this.setPopout(<ScreenSpinner/>)\r\n      fetch(this.state.api_url + \"method=account.ban&agent_id=\" + user_id + \"&banned=true&reason=\" + text + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setActiveModal(null);\r\n          this.showAlert('Успех', 'Пользователь забанен');\r\n          this.setPopout(null);\r\n        }else {\r\n          this.showErrorAlert(data.error.message)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert(err)\r\n      })\r\n    }\r\n    getRandomTiket() {\r\n      fetch(this.state.api_url + \"method=ticket.getRandom&\" + window.location.search.replace('?', ''))\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if(data.result) {\r\n            this.goTiket(data.response.id)\r\n          } else {\r\n            this.showErrorAlert(data.error.message)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.showErrorAlert(err)\r\n\r\n        })\r\n    }\r\n    render() {\r\n        const modal = (\r\n            <ModalRoot\r\n            activeModal={this.state.activeModal}\r\n            >\r\n              <ModalPage\r\n                id=\"settings\"\r\n                onClose={this.modalBack}\r\n                header={\r\n                  <ModalPageHeader\r\n                  right={<Header onClick={this.modalBack}><Icon24Dismiss style={{color: 'var(--placeholder_icon_foreground_primary)'}} /></Header>}\r\n                  >\r\n                    Настройки\r\n                  </ModalPageHeader>\r\n                }\r\n                >\r\n                  <Div style={{display:'flex'}}>\r\n                    <Button onClick={() => {\r\n                      this.setActiveModal(null);\r\n                      this.getRandomTiket();\r\n\r\n                    }} \r\n                    stretched \r\n                    size='l'\r\n                    // style={{marginRight: '2%'}}\r\n                    before={<Icon20PlaceOutline />}>Случайный тикет</Button>\r\n                    <Button onClick={() => {\r\n                      this.setActiveModal(null);\r\n                      this.props.this.changeData('scheme',(this.props.this.state.scheme === 'bright_light') ? 'space_gray' : 'bright_light')\r\n                    }}\r\n                    stretched \r\n                    size='l'\r\n                    style={{marginLeft: '5%'}}\r\n                    before={<Icon20Stars />}>Сменить тему</Button>\r\n                  </Div>\r\n                </ModalPage>\r\n              <ModalCard\r\n                id={'prom'}\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Icon56FireOutline style={{color: \"var(--prom_icon)\"}} width={72} height={72} />}\r\n                caption=\"Прометей — особенный значок, выдаваемый агентам за хорошее качество ответов.\"\r\n                actions={[{\r\n                  title: 'Класс!',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }\r\n                ]}\r\n              />\r\n              <ModalCard\r\n                id='ban_user'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.other_profile ? this.state.other_profile['avatar']['url'] : null} size={72} />}\r\n                header=\"Забанить пользователя\"\r\n                actions={[{\r\n                  title: 'Забанить! 🤬',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.userBan(this.state.other_profile ? this.state.other_profile['id'] : 0, this.state.ban_reason);\r\n                    console.log(this.state.other_profile['id'])\r\n                  }\r\n                }]}\r\n              >\r\n                <Input disabled value={this.state.other_profile ? (this.state.other_profile['id'] < 0) ? -this.state.other_profile['id'] : this.state.other_profile['id'] : null}/>\r\n                <br/>\r\n                <Input maxLength=\"100\" name=\"ban_reason\" onChange={(e) => this.onChange(e)} placeholder=\"Введите причину бана\" value={this.state.ban_reason} />\r\n                \r\n              </ModalCard>\r\n              \r\n              <ModalCard\r\n                id='transfer'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.transfer.avatar} size={72} />}\r\n                header='Перевод монеток'\r\n                caption={this.state.transfer.comment}\r\n                actions={[{\r\n                  title: 'Закрыть',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }]}\r\n              >\r\n              </ModalCard>\r\n            </ModalRoot>\r\n        )\r\n        return(\r\n            <View \r\n            id={this.props.id}\r\n            activePanel={this.state.activePanel}\r\n            modal={modal}\r\n            popout={this.state.popout}\r\n            onSwipeBack={this.goBack}\r\n            >\r\n              <Top id=\"top\" this={this} account={this.props.account} />\r\n              <OtherProfile id=\"other_profile\" this={this} agent_id={this.state.active_other_profile} account={this.props.account}/>\r\n            </View>   \r\n        )\r\n    }\r\n}","import React from 'react';\n\nimport { \n    Panel,\n    PanelHeader,\n    Avatar,\n    Placeholder,\n    Separator,\n    PullToRefresh,\n    PanelSpinner,\n    SimpleCell,\n    } from '@vkontakte/vkui';\n\nimport Icon56NotificationOutline from '@vkontakte/icons/dist/56/notification_outline';\n\nfunction fix_time(time) {\n    if(time < 10) {\n        return \"0\" + time\n    } else {\n        return time\n    }\n}\n\nvar month= [\n    'января',\n    'февраля',\n    'марта',\n    'апреля',\n    'мая',\n    'июня',\n    'июля',\n    'августа',\n    'сентября',\n    'октября',\n    'ноября',\n    'декабря',\n];\n\n\nexport default class ReaderNotif extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                notification: null,\n                fetching: false,\n\n            }\n\n            this.getNotif = () => {\n                fetch(this.props.this.state.api_url + \"method=notifications.get&\" + window.location.search.replace('?', ''))\n                .then(res => res.json())\n                .then(data => {\n                if(data.result) {\n                    this.setState({notification: data.response})\n                    setTimeout(() => {\n                        this.setState({ fetching: false });\n                      }, 500);\n                }else {\n                   this.props.this.showErrorAlert(data.error.message)\n                  }\n                })\n                .catch(err => {\n                this.props.this.showErrorAlert()\n\n                })\n            }\n            this.markView = () => {\n                fetch(this.props.this.state.api_url + \"method=notifications.markAsViewed&\" + window.location.search.replace('?', ''))\n                .then(res => res.json())\n                .then(data => {\n                if(data.result) {\n                    setTimeout(() => {\n                        this.props.this.ReloadProfile();\n                      }, 4000)\n                }else {\n                   this.props.this.showErrorAlert(data.error.message)\n                  }\n                })\n                .catch(err => {\n                this.props.this.showErrorAlert()\n\n                })\n            }\n        }\n        componentDidMount() {\n            this.getNotif();\n            this.markView();\n        }\n        \n\n        render() {\n            var props = this.props.this; // для более удобного использования.\n            return (\n                <Panel id={this.props.id}>\n                <PanelHeader>\n                Уведомления\n                </PanelHeader>\n                <><PullToRefresh onRefresh={() => {this.setState({fetching: true});this.getNotif()}} isFetching={this.state.fetching}>\n                    {this.state.notification ? this.state.notification.length > 0 ?\n                    this.state.notification.map((result, i) =>\n                    <React.Fragment key={i}> \n                        <SimpleCell\n                            onClick={result['object']['object'] !== '0' ? () => props.goTiket(result['object']['object']) : () => props.openMoneyTransfer(result['image'], result['text'], result['comment'])}\n                            description={new Date(result['time'] * 1e3).getDate() + \" \" + month[new Date(result['time'] * 1e3).getMonth()] + \" \" + new Date(result['time'] * 1e3).getFullYear() + \" в \" \n                            + fix_time(new Date(result['time'] * 1e3).getHours()) + \":\" + fix_time(new Date(result['time'] * 1e3).getMinutes())}\n                            size=\"l\"\n                            before={<Avatar src={result['image']} />}\n                            multiline=\"boolean\"\n                        >\n                            <div style={{lineHeight: \"17px\", marginTop: \"3px\"}}>{result['text']}</div>\n                            <div style={{marginTop: \"4px\"}}></div>\n                        </SimpleCell>\n                        <Separator className={{width: \"100%\"}}></Separator>\n                    </React.Fragment>\n                    ) :\n                    <Placeholder \n                    stretched\n                    icon={<Icon56NotificationOutline />}>\n                        У Вас нет новых уведомлений\n                    </Placeholder>\n                    :\n                    <PanelSpinner />\n                    }\n                </PullToRefresh></>\n            </Panel>\n            )\n            }\n        }\n  ","import React from 'react'; // React\r\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\r\n\r\nimport { \r\n  Alert,\r\n  Avatar,\r\n  View,\r\n  ScreenSpinner,\r\n  ModalRoot,\r\n  ModalCard,\r\n  Input,\r\n  } from '@vkontakte/vkui';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../../style.css'\r\n// Импортируем панели\r\nimport Notif from './panels/notif';\r\nimport Tiket from '../../components/tiket';\r\nimport OtherProfile from '../../components/other_profile'\r\n\r\nimport Icon56FireOutline from '@vkontakte/icons/dist/56/fire_outline';\r\n\r\n// const queryString = require('query-string');\r\n// const platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n// const parsedHash = queryString.parse(window.location.search.replace('?', ''));\r\n// const hash = queryString.parse(window.location.hash);\r\n\r\nexport default class Notify extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            api_url: \"https://xelene.ru/road/php/index.php?\",\r\n            activePanel: 'notif',\r\n            activeModal: null,\r\n            modalHistory: [],\r\n            popout: this.props.popout,\r\n            ticket_id: null,\r\n            history: ['notif'],\r\n            active_other_profile: 0,\r\n            other_profile: null,\r\n            ban_reason: \"\",\r\n            comment: \"\",\r\n            transfer: {\r\n              'avatar': '',\r\n              'comment': ''\r\n            },\r\n        \r\n\r\n        }\r\n        this.changeData = this.props.this.changeData;\r\n        this.ReloadProfile = this.props.reloadProfile;\r\n        // this.copy = this.props.this.copy;\r\n        // this.recordHistory = (panel) => {\r\n        //   this.setState({history: [...this.state.history, panel]})\r\n        // }\r\n        this.setPopout = (value) => {\r\n          this.setState({popout: value})\r\n        }\r\n        \r\n        this.goTiket = (id) => {\r\n          this.setPopout(<ScreenSpinner/>)\r\n          this.setState({ticket_id: id})\r\n          this.goPanel('ticket');\r\n          this.setPopout(null);\r\n        }\r\n        this.onChange = (event) => {\r\n          var name = event.currentTarget.name;\r\n          var value = event.currentTarget.value;\r\n          this.setState({ [name]: value });\r\n      }\r\n        this.goOtherProfile = (id) => {\r\n          this.setState({active_other_profile: id})\r\n          this.goPanel(\"other_profile\")\r\n        }\r\n        this.openMoneyTransfer = (avatar, text, comment) => {\r\n          this.setState({transfer: {\r\n            avatar: avatar,\r\n            text: text,\r\n            comment: comment ? comment : 'Агент не оставил комментария 😢'\r\n          }})\r\n          this.setActiveModal('transfer')\r\n        }\r\n        this.modalBack = () => {\r\n            this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n        };\r\n        this.goBack = () => {\r\n          const history = this.state.history;\r\n          if(history.length === 1) {\r\n              bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\r\n          } else if (history.length > 1) {\r\n              history.pop()\r\n              this.setState({activePanel: history[history.length - 1]})\r\n              if(history[history.length - 1] === 'ticket'){\r\n                this.changeData('need_epic', false)\r\n              } else{\r\n                this.changeData('need_epic', true)\r\n              }\r\n          }\r\n      }\r\n        this.goPanel = (panel) => {\r\n          this.setState({history: [...this.state.history, panel], activePanel: panel})\r\n          if(panel === 'ticket'){\r\n            this.changeData('need_epic', false)\r\n          } else{\r\n            this.changeData('need_epic', true)\r\n          }\r\n        }\r\n        this.setActiveModal = (activeModal) => {\r\n            activeModal = activeModal || null;\r\n            let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n        \r\n            if (activeModal === null) {\r\n              modalHistory = [];\r\n            } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n              modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n              modalHistory.push(activeModal);\r\n            }\r\n        \r\n            this.setState({\r\n              activeModal: activeModal,\r\n              modalHistory: modalHistory\r\n            });\r\n          };\r\n          this.showAlert = (title, text) => {\r\n            this.setState({\r\n              popout: \r\n                <Alert\r\n                  actions={[{\r\n                    title: 'Закрыть',\r\n                    autoclose: true,\r\n                    mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n                >\r\n                  <h2>{title}</h2>\r\n                  <p>{text}</p>\r\n              </Alert>\r\n            })\r\n          }\r\n          this.showErrorAlert = (error=null) => {\r\n            this.setPopout(\r\n              <Alert\r\n                  actions={[{\r\n                  title: 'Отмена',\r\n                  autoclose: true,\r\n                  mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n              >\r\n                <h2>Ошибка</h2>\r\n                {error ? <p>{error}</p> : <p>Что-то пошло не так, попробуйте снова!</p>}\r\n              </Alert>\r\n          )\r\n        }\r\n    }\r\n    userBan(user_id, text) {\r\n      this.setPopout(<ScreenSpinner/>)\r\n      fetch(this.state.api_url + \"method=account.ban&agent_id=\" + user_id + \"&banned=true&reason=\" + text + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setActiveModal(null);\r\n          this.showAlert('Успех', 'Пользователь забанен');\r\n          this.setPopout(null);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert()\r\n      })\r\n    }\r\n    render() {\r\n        const modal = (\r\n            <ModalRoot\r\n            activeModal={this.state.activeModal}\r\n            >\r\n              <ModalCard\r\n                id={'prom'}\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Icon56FireOutline style={{color: \"var(--dynamic_red)\"}} width={72} height={72} />}\r\n                caption=\"Прометей — особенный значок, выдаваемый агентам за хорошее качество ответов.\"\r\n                actions={[{\r\n                  title: 'Класс!',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }\r\n                ]}\r\n              />\r\n              <ModalCard\r\n                id='ban_user'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.other_profile ? this.state.other_profile['avatar']['url'] : null} size={72} />}\r\n                header=\"Забанить пользователя\"\r\n                actions={[{\r\n                  title: 'Забанить! 🤬',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.userBan(this.state.other_profile ? this.state.other_profile['id'] : 0, this.state.ban_reason);\r\n                    console.log(this.state.other_profile['id'])\r\n                  }\r\n                }]}\r\n              >\r\n                <Input disabled value={this.state.other_profile ? (this.state.other_profile['id'] < 0) ? -this.state.other_profile['id'] : this.state.other_profile['id'] : null}/>\r\n                <br/>\r\n                <Input maxLength=\"100\" name=\"ban_reason\" onChange={(e) => this.onChange(e)} placeholder=\"Введите причину бана\" value={this.state.ban_reason} />\r\n                \r\n              </ModalCard>\r\n              \r\n              <ModalCard\r\n                id='transfer'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.transfer.avatar} size={72} />}\r\n                header='Перевод монеток'\r\n                caption={this.state.transfer.comment}\r\n                actions={[{\r\n                  title: 'Закрыть',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }]}\r\n              >\r\n              </ModalCard>\r\n            </ModalRoot>\r\n        )\r\n        return(\r\n            <View \r\n            id={this.props.id}\r\n            activePanel={this.state.activePanel}\r\n            modal={modal}\r\n            popout={this.state.popout}\r\n            >\r\n              <Notif id=\"notif\" this={this}/>\r\n              <Tiket id=\"ticket\" this={this} ticket_id={this.state.ticket_id} account={this.props.account} />\r\n              <OtherProfile id=\"other_profile\" this={this} agent_id={this.state.active_other_profile} account={this.props.account}/>\r\n            </View>   \r\n        )\r\n    }\r\n}","import React from 'react';\n\nimport { \n    Panel,\n    PanelHeader,\n    PanelHeaderButton,\n    Group,\n    Avatar,\n    Button,\n    Separator,\n    Counter,\n    SimpleCell,\n    Div,\n    } from '@vkontakte/vkui';\n\nimport Icon12Fire from '@vkontakte/icons/dist/12/fire';\nimport Icon16Verified from '@vkontakte/icons/dist/16/verified';\nimport Icon28GhostOutline from '@vkontakte/icons/dist/28/ghost_outline';\nimport Icon28PollSquareOutline from '@vkontakte/icons/dist/28/poll_square_outline';\nimport Icon28MarketOutline from '@vkontakte/icons/dist/28/market_outline';\nimport Icon28PaletteOutline from '@vkontakte/icons/dist/28/palette_outline';\nimport Icon28Notifications from '@vkontakte/icons/dist/28/notifications';\nimport Icon28QrCodeOutline from '@vkontakte/icons/dist/28/qr_code_outline';\n\n\nexport default class Profile extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n\n    }\n    render(){\n        var props = this.props.this;\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader\n                left={<><PanelHeaderButton onClick={() => {\n                    this.setActiveModal(\"share\");\n                }}>\n                        <Icon28QrCodeOutline />\n                    </PanelHeaderButton>\n                    <PanelHeaderButton label={this.props.account.notif_count ? <Counter size=\"s\" mode=\"prominent\">{this.props.account.notif_count}</Counter> : null}\n                    onClick={() => {\n                        this.props.this.changeData(\"activeStory\", 'notif');\n                    }}>\n                        <Icon28Notifications/>\n                    </PanelHeaderButton></>}>Профиль</PanelHeader>\n                    <SimpleCell\n                    disabled\n                    before={<Avatar src={this.props.account['avatar']['url']} size={72} />}\n                    size=\"l\"\n                    description={isFinite(this.props.account['nickname']) ? `#${this.props.account['nickname']}` : this.props.account['nickname'] ? '' : `#${this.props.account['id']}`}\n                    >\n                        <div style={{display:\"flex\"}}>\n                            <p style={{margin:0}}>\n                                {isFinite(this.props.account['nickname']) ? `Агент Поддержки` : this.props.account['nickname'] ? this.props.account['nickname'] : `Агент Поддержки`}\n                            </p> \n                            {\n                                this.props.account['flash'] === true ? \n                                    <div className=\"profile_icon\">\n                                        <Icon12Fire width={12} height={12} onClick={() => props.setActiveModal('prom')}/>  \n                                    </div>\n                                    : null}\n                                {this.props.account['verified'] === true ? \n                                    <div className=\"profile_icon_ver\">\n                                        <Icon16Verified />  \n                                    </div>\n                                    : null}\n                        </div>\n                        \n                    </SimpleCell>\n                    <Separator />\n                    <Div>\n                        <Button\n                        stretched\n                        size='l'\n                        mode='secondary'\n                        onClick={() => this.props.this.goPanel('settings')}\n                        >Настройки</Button>\n                    </Div>\n                    \n                    <Separator />\n                    <Group>\n                        <SimpleCell\n                            expandable\n                            href=\"https://vk.me/join/AJQ1dxm7YRd7rN/MQHaAtZx7\"\n                            target=\"_blank\" rel=\"noopener noreferrer\"\n                            before={<Icon28GhostOutline />}>\n                                Фантом-чат\n                        </SimpleCell>\n\n                    </Group>\n                    <Group>\n                        <SimpleCell\n                        expandable\n                        onClick={() => {\n                            this.props.this.goPanel('qu');\n                        }}\n                        before={<Icon28PollSquareOutline />}>Мои ответы</SimpleCell>\n                        <SimpleCell\n                        expandable\n                        onClick={() => {\n                            this.props.this.goPanel('market');\n                        }}\n                        before={<Icon28MarketOutline />}>Магазин</SimpleCell>\n                        {/* props.this.state.profile['balance'] Вынести отдельно в магазин */}\n\n                        <SimpleCell\n                        expandable\n                        onClick={() => {\n                            this.props.this.goPanel('achievements');\n                        }}\n                        before={<Icon28PaletteOutline />}>Достижения</SimpleCell>\n                        {/* <SimpleCell\n                        expandable\n                        onClick={() => {\n                            props.this.Dop();\n                        }}\n                        before={<Icon28ArticleOutline />}>Мои вопросы</SimpleCell> */}\n                        {/* <SimpleCell\n                        expandable\n                        onClick={() => {\n                            this.setActiveModal(\"share\");\n                        }}\n                        before={<Icon24ShareOutline />}>Поделиться профилем</SimpleCell> */}\n                        \n                    </Group>\n                    {/* <Group>\n                        <SimpleCell\n                        onClick={() => {\n                            props.this.allowMessage();\n                        }}\n                        indicator={<Switch onChange={() => props.this.allowMessage()} defaultChecked={props.this.state.switchKeys}/>}\n                        before={<Icon28Notifications />}>Уведомления в сообщения</SimpleCell>\n                    </Group> */}\n                {this.props.this.state.snackbar}\n            </Panel>\n        )\n    }\n        \n}\n    ","import React from 'react';\nimport { \n    Panel,\n    PanelHeader,\n    ScreenSpinner,\n    Group,\n    Input,\n    Avatar,\n    Button,\n    Header,\n    Div,\n    Snackbar,\n    PanelHeaderBack\n    } from '@vkontakte/vkui';\n\nimport Icon24Repeat from '@vkontakte/icons/dist/24/repeat';\nimport Icon28MoneyCircleOutline from '@vkontakte/icons/dist/28/money_circle_outline';\n\nimport Icon28MoneyHistoryBackwardOutline from '@vkontakte/icons/dist/28/money_history_backward_outline';\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\n\nvar avatars = [\n    \"1.png\",\n    \"2.png\",\n    \"3.png\",\n    \"4.png\",\n    \"5.png\",\n    \"6.png\",\n    \"7.png\",\n    \"8.png\",\n    \"9.png\",\n    \"10.png\",\n    \"11.png\",\n    \"12.png\",\n    \"13.png\",\n    \"14.png\",\n    \"15.png\",\n    \"16.png\",\n    \"17.png\",\n    \"18.png\",\n    \"19.png\",\n    \"20.png\",\n    \"21.png\",\n    \"22.png\",\n    \"23.png\",\n    \"24.png\",\n    // \"25.png\",\n    // \"26.png\",\n\n]\n\nconst blueBackground = {\n    backgroundColor: 'var(--accent)'\n  };\nexport default class Market extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            changed_id: '',\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n            last_selected: null,\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.showAlert = propsbi.showAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n    }\n    images() {\n      var number = Object.keys(avatars).length;\n      var object = []\n          for (let i = 0; i < number; i++ ) {\n              object.push(\n                  <img id={i}\n                  onClick={(e) => this.selectImage(e)} \n                  style={i === 0 ? {marginLeft: \"20px\"} : null} \n                  className=\"changes_avatars\" key={i} \n                  src={\"https://xelene.ru/road/php/images/avatars/\" + avatars[i]}\n                  alt={'ava'} />\n              )\n          }\n      \n      return(object)\n  }\n  selectImage(e) {\n    let number = e.currentTarget.id;\n    if(this.state.last_selected !== null){\n      let last_image = document.getElementById(this.state.last_selected)\n      last_image.className = \"changes_avatars\"\n    }\n    let image = document.getElementById(number);\n    \n    image.className = \"changes_avatars select_avatar\"\n    this.setState({last_selected: Number(number)});\n  }\n    changeAvatar(last_selected) {\n        fetch(this.state.api_url + \"method=shop.changeAvatar&avatar_id=\" + last_selected + \"&\" + window.location.search.replace('?', ''))\n        .then(data => data.json())\n        .then(data => {\n              if(data.result){\n                  this.props.this.setSnack( \n                    <Snackbar\n                      layout=\"vertical\"\n                      onClose={() => this.props.this.setSnack(null)}\n                      before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n                    >\n                      Аватар успешно сменен\n                    </Snackbar>\n                  )\n\n                  setTimeout(() => {\n                    this.props.this.ReloadProfile();\n                  }, 4000)\n                }else{\n                  this.setState({snackbar: \n                    <Snackbar\n                    layout=\"vertical\"\n                    onClose={() => this.props.this.setSnack(null)}\n                    before={<Icon20CancelCircleFillRed width={24} height={24} />}\n                  >\n                    {data.error.message}\n                  </Snackbar>});\n                }\n            })\n            .catch(err => {\n                this.showErrorAlert(err)\n        })\n    }\n    ChangeId() {\n        if(this.state.changed_id){ \n          this.setPopout(<ScreenSpinner/>)\n          fetch(this.state.api_url + \"method=shop.changeId&change_id=\" + this.state.changed_id + \"&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n            if(data.result) {\n                this.props.this.setSnack(\n                <Snackbar\n                  layout=\"vertical\"\n                  onClose={() => this.props.this.setSnack(null)}\n                  before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n                >\n                  id Агента успешно сменен\n                </Snackbar>\n              )\n              this.setPopout(null)\n              setTimeout(() => {\n                this.props.this.ReloadProfile();\n              }, 4000)\n            } else {\n                this.showErrorAlert(data.error.message)\n            }\n          })\n          .catch(err => {\n            this.showErrorAlert(err)\n          })\n        } else {\n          this.props.this.setSnack(\n            <Snackbar\n            layout=\"vertical\"\n            onClose={() => this.props.this.setSnack(null)}\n            before={<Icon20CancelCircleFillRed width={24} height={24} />}\n          >\n            Вы не указали желаемый id\n          </Snackbar>);\n        }\n      }\n\n    render() {\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderBack onClick={() => this.props.this.goBack()} /> \n                }>\n                    Магазин\n                </PanelHeader>\n                <Group separator=\"hide\" header={<Header>Сменить аватар</Header>}>\n                        <div className=\"scrollImages\">\n                            {this.images()}\n                        </div>\n                        <Div>\n                            <Button onClick={() => {this.changeAvatar(Number(this.state.last_selected) + 1);this.setState({last_selected: null});this.props.this.goBack() }} \n                            before={<Icon28MoneyCircleOutline \n                            style={{marginRight: \"5px\"}}/>} \n                            size=\"xl\" \n                            mode=\"secondary\"\n                            disabled={(this.state.last_selected !== null) ? false : true}>Сменить за 300 монеток</Button>\n                        </Div>\n                </Group>\n                <Group separator=\"hide\" header={<Header>Сменить id агента</Header>}>\n                    <Div>\n                        <Input placeholder=\"Введите желаемый ник (макс. 10 символов)\" onChange={(e) => this.onChange(e)} value={this.state.changed_id} maxLength=\"10\" name=\"changed_id\"/>\n                        <br/>\n                        <Button onClick={() => {this.ChangeId(this.state.changed_id);this.props.this.goBack()}} \n                        before={<Icon24Repeat width={28} height={28} style={{marginRight: \"5px\"}}/>}\n                        size=\"xl\" \n                        mode=\"secondary\"\n                        disabled={(this.state.changed_id <= 0) ? true : false}>Сменить за 500 монеток</Button>\n                    </Div>\n                </Group>\n                {/* <Group separator=\"hide\" header={<Header>Сброс статистики</Header>}>\n                    <Div>\n                        <Button onClick={() => props.this.deleteStats()} before={<Icon28GridSquareOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Сбросить за 150 монеток</Button>\n                    </Div>\n                </Group> */}\n                <Group separator=\"hide\" header={<Header>Опции</Header>}>\n                    <Div>\n                        <Button onClick={() => this.setActiveModal('send')} before={<Icon28MoneyHistoryBackwardOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Перевести</Button>\n                        {/* <br/>\n                        <Button onClick={() => props.this.goVitas()} before={<Icon28GlobeOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Обучать Витька</Button> */}\n                    </Div>\n                </Group>\n                {this.props.this.state.snackbar}\n                {/* <Group separator=\"hide\" header={<Header>Обнулить статистику</Header>}>\n                    <Div>\n                        Мы обнулим вам встатистику, число всех ответов станет равным 0.\n                    </Div>\n                </Group>\n                <Div>\n                    <Button before={<Icon28MoneyCircleOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Купить за 350 монеток</Button>\n                </Div>\n                <Group separator=\"hide\" header={<Header>Сменить id Агента</Header>}>\n                    <Div>\n                        Установите себе другой id и будьте заметнее!\n                    </Div>\n                </Group>\n                <Div>\n                    <Button before={<Icon28MoneyCircleOutline style={{marginRight: \"5px\"}}/>} size=\"xl\" mode=\"secondary\">Купить за 700 монеток</Button>\n                </Div> */}\n            </Panel>\n        )\n    }\n}\n","import React from 'react';\n\nimport { \n    Panel,\n    PanelHeader,\n    PanelHeaderBack\n    } from '@vkontakte/vkui';\n\nexport default class Achiviement extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            changed_id:0,\n\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n    }\n    render(){\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={<PanelHeaderBack onClick={() => this.props.this.goBack()} />}>\n                </PanelHeader>\n                <div className=\"Achives_Block\">\n                    <img src=\"https://vk.com/images/blog/about/img_about_2_2x.png\" alt={'Дракон'} />\n                </div>\n                <div style={{marginTop: \"20px\"}} className=\"help_title_profile\">В недалеком будущем здесь что-то будет</div>\n                <div className=\"help_title_profile\">Ждем вместе с вами!</div>\n            </Panel>\n        )\n    }\n}","import React from 'react';\n\nimport { \n    Panel,\n    PanelHeader,\n    Button,\n    Placeholder,\n    Separator,\n    PullToRefresh,\n    Cell,\n    Div,\n    PanelHeaderBack,\n    Tabs,\n    TabsItem,\n    Search,\n    } from '@vkontakte/vkui';\n\nimport Icon56InboxOutline from '@vkontakte/icons/dist/56/inbox_outline';\nimport Icon28WarningTriangleOutline from '@vkontakte/icons/dist/28/warning_triangle_outline';\nfunction fix_time(time) {\n    if(time < 10) {\n        return \"0\" + time\n    } else {\n        return time\n    }\n  }\n\n  var months = [\n    'янв',\n    'фев',\n    'мар',\n    'апр',\n    'мая',\n    'июн',\n    'июл',\n    'авг',\n    'сен',\n    'окт',\n    'ноя',\n    'дек',\n];\n\nexport default class myQuestions extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                api_url: \"https://xelene.ru/road/php/index.php?\",\n                myQuestions:[],\n                fetching: false,\n                activeTab: 'positive',\n                search: '',\n                limiter: 20\n            }\n            this.myQuestions = () => {\n                fetch(this.state.api_url + \"method=tickets.getByModeratorAnswers&\" + window.location.search.replace('?', ''))\n                  .then(res => res.json())\n                  .then(data => {\n                    if(data.result) {\n                      this.setState({myQuestions: data.response})\n                      setTimeout(() => {\n                          this.setState({fetching: false});\n                    }, 500)\n                      \n                    }\n                  })\n                  .catch(err => {\n                    this.props.this.showErrorAlert()\n          \n                  })\n              }\n        }\n        getFiltresQuestions(questions){\n            if(this.state.activeTab === 'positive'){\n                return questions.filter(({mark}) => mark === 1);\n            }else{\n                return questions.filter(({mark}) => mark === 0);\n            }\n        }\n        getFilterSearch(questions) {\n            const search = this.state.search.toLowerCase();\n            return questions.filter(({text}) => text.toLowerCase().indexOf(search) > -1);\n        }\n\n        limiter(questions){\n            return questions.slice(0, this.state.limiter)\n        }\n        componentDidMount(){\n            this.myQuestions()\n        }\n\n        render() {\n            var props = this.props.this; // для более удобного использования.\n            var questions = this.getFiltresQuestions(this.state.myQuestions);\n            var searched = this.getFilterSearch(questions);\n            var limiter_search = this.limiter(searched);\n            return (\n                <Panel id={this.props.id}>\n            <PanelHeader separator={false}\n                left={<PanelHeaderBack onClick={() => this.props.this.goBack()} />}\n            >\n                Мои ответы\n                </PanelHeader>\n                <Search value={this.state.search}\n                    onChange={(e) => {\n                        this.setState({search: e.target.value})\n                    }} />\n                <Tabs>\n                <TabsItem\n                    onClick={() => this.setState({ activeTab: 'positive' })}\n                    selected={this.state.activeTab === 'positive'}\n                >\n                    Положительные\n                </TabsItem>\n                <TabsItem\n                    onClick={() => this.setState({ activeTab: 'negative' })}\n                    selected={this.state.activeTab === 'negative'}\n                >\n                    Отрицательные\n                </TabsItem>\n                </Tabs>\n                <PullToRefresh onRefresh={() => {this.setState({fetching: true});this.myQuestions()}} isFetching={this.state.fetching}>\n                    {questions.length > 0 ?\n                    searched.length > 0 ?\n                    <>\n                    {limiter_search.map((result, i) => \n                    <React.Fragment key={result.id}> \n                    <Cell\n                        key={i}\n                        onClick={() => props.goTiket(result['ticket_id'])}\n                        description={new Date(result['time'] * 1e3).getDate() + \" \" + months[new Date(result['time'] * 1e3).getMonth()] + \" \" + new Date(result['time'] * 1e3).getFullYear() + \" в \" \n                        + fix_time(new Date(result['time'] * 1e3).getHours()) + \":\" + fix_time(new Date(result['time'] * 1e3).getMinutes())}\n                        size=\"l\"\n                        // before={<Avatar src={result['author']['id'] === 526444378 ? \"https://cdn3.iconfinder.com/data/icons/avatars-15/64/_Ninja-2-512.png\" : result['author']['photo_200']} />}\n                    >\n                        {result['text']}\n                    </Cell>\n                    <Separator style={{width: \"90%\"}} />\n                    </React.Fragment>\n                    )}\n                    {(limiter_search < searched) ? \n                    <Div>\n                        <Button \n                        mode='secondary' \n                        size='xl' \n                        stretched\n                        onClick={() => this.setState({limiter: this.state.limiter + 10})}\n                        >Показать ещё 10 ответов</Button>\n                    </Div> : null}\n                    </> :\n                    <Placeholder \n                    icon={<Icon28WarningTriangleOutline width={56} height={56} />}>\n                        По вашему запросу ничего не найдено.\n                    </Placeholder> :\n                    <Placeholder \n                    icon={<Icon56InboxOutline />}>\n                        Упс, кажется здесь нет ваших ответов.\n                    </Placeholder>\n                    }\n                </PullToRefresh>\n            </Panel>\n            )\n            }\n        }\n  ","import React from 'react';\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\n\n\nimport { \n    Panel,\n    PanelHeader,\n    Group,\n    Alert,\n    Counter,\n    SimpleCell,\n    Snackbar,\n    PanelHeaderBack,\n    CellButton,\n    } from '@vkontakte/vkui';\n\nimport Icon28DoneOutline from '@vkontakte/icons/dist/28/done_outline';\nimport Icon28CoinsOutline from '@vkontakte/icons/dist/28/coins_outline';\nimport Icon28DeleteOutline from '@vkontakte/icons/dist/28/delete_outline';\nimport Icon28PaletteOutline from '@vkontakte/icons/dist/28/palette_outline';\nimport Icon20CancelCircleFillRed from '@vkontakte/icons/dist/20/cancel_circle_fill_red';\nimport Icon28TargetOutline from '@vkontakte/icons/dist/28/target_outline';\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\n\n\nexport default class Settings extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.showAlert = propsbi.showAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n    }\n    deleteAccount(){\n      fetch(this.state.api_url + \"method=account.delete&\" + window.location.search.replace('?', ''))\n      .then(res => res.json())\n      .then(data => {\n      if(data.result) {\n        bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n      }else{\n          this.showErrorAlert(data.error.message)\n      }\n      })\n      .catch(err => {\n          this.showErrorAlert(err)\n\n      })\n    }\n\n    render() {\n        var props = this.props.this;\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderBack onClick={() => this.props.this.goBack()} /> \n                }>\n                    Настройки\n                </PanelHeader>\n                <Group>\n                  <SimpleCell\n                  disabled\n                  indicator={this.props.account.age}\n                  before={<Icon28TargetOutline/>}>Ваш возраст</SimpleCell>\n                  \n                </Group>\n                <Group>\n                  <SimpleCell\n                  before={<Icon28PaletteOutline />}\n                  expandable\n                  onClick={() => props.goPanel('schemechange')}>Смена темы</SimpleCell>\n                  <SimpleCell\n                  onClick={() => this.props.this.setSnack(\n                    <Snackbar\n                    layout=\"vertical\"\n                    onClose={() => this.props.this.setSnack(null)}\n                    before={<Icon20CancelCircleFillRed width={24} height={24} />}\n                  >\n                    Данный раздел ещё не готов для просмотра. Он стесняется :)\n                  </Snackbar>)}\n                  before={<Icon28DoneOutline />}>Верификация</SimpleCell>\n                </Group>\n                <Group>\n                  <SimpleCell\n                  disabled\n                  indicator={<Counter>{this.props.account.balance}</Counter>}\n                  before={<Icon28CoinsOutline />}>Баланс</SimpleCell>\n                  <SimpleCell\n                  expandable\n                  onClick={() => {\n                      this.props.this.goPanel(\"info\");\n                  }}\n                  before={<Icon28InfoOutline />}>О приложении</SimpleCell>\n                </Group>\n                <Group>\n                  <CellButton \n                  mode=\"danger\"\n                  onClick={() => this.setPopout(<Alert\n                    actionsLayout='vertical'\n                    actions={[{\n                      title: 'Нет, я нажал сюда случайно',\n                      autoclose: true,\n                      style: 'cancel'\n                    },{\n                      title: 'Удалить аккаунт',\n                      autoclose: true,\n                      mode: 'destructive',\n                      action: () => this.deleteAccount(),\n                    }]}\n                    onClose={() => this.setPopout(null)}\n                  >\n                    <h2>Внимание, опасность</h2>\n                    <p>Данное действие ведёт к удалению вашего аккаунта: всех ответов, достижений и другой информации, которая сохранена на вашем аккаунте. Вы действительно хотите его удалить?</p>\n                </Alert>)}\n                  before={<Icon28DeleteOutline />}>Удалить аккаунт</CellButton>\n                </Group>\n                {this.props.this.state.snackbar}\n            </Panel>\n        )\n    }\n}\n","import React from 'react';\nimport { \n    Panel,\n    PanelHeader,\n    ScreenSpinner,\n    Separator,\n    Header,\n    PanelHeaderBack,\n    Radio,\n    FormLayout,\n    } from '@vkontakte/vkui';\n\nimport Message from '../../../components/message'\nimport avaUser from '../../../images/user.jpg'\n\nexport default class SchemeChange extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n\n        }\n        var propsbi = this.props.this;\n        this.setPopout = propsbi.setPopout;\n        this.showErrorAlert = propsbi.showErrorAlert;\n        this.showAlert = propsbi.showAlert;\n        this.setActiveModal = propsbi.setActiveModal;\n        this.onChange = (event) => {\n            var name = event.currentTarget.name;\n            var value = event.currentTarget.value;\n            this.setState({ [name]: value });\n        }\n        this.ChangeScheme = (e) => {\n            this.setPopout(<ScreenSpinner />)\n            let value = e.currentTarget.value;\n            fetch(this.state.api_url + \"method=account.changeScheme&scheme=\" + value + \"&\" + window.location.search.replace('?', ''))\n                .then(res => res.json())\n                .then(data => {\n                if(data.result) {\n\n                    setTimeout(() => {\n                        this.props.this.ReloadProfile();\n                        this.setPopout(null)\n                      }, 3000)\n                }else{\n                    this.showErrorAlert(data.error.message)\n                }\n                })\n                .catch(err => {\n                    this.showErrorAlert(err)\n    \n                })\n    \n        }\n    }\n    \n\n    render() {\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                        <PanelHeaderBack onClick={() => this.props.this.goBack()} /> \n                }>\n                    Смена темы\n                </PanelHeader>\n                <Header mode='secondary'>Предпросмотр</Header>\n                <Separator /> \n                <Message\n                title='Пользователь'\n                is_mine={false}\n                avatar={avaUser}\n                >О тут можно менять тему</Message>\n                <Message\n                title='Агент Поддержки'\n                is_mine={true}\n                avatar={'https://xelene.ru/road/php/images/avatars/10004.png'}\n                >Действительно</Message>\n                <Separator style={{marginTop: 10}} />\n                <FormLayout>\n                    <div>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"1\" defaultChecked={(this.props.account.scheme === 1) ? true : false}>Светлая тема</Radio>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"2\" defaultChecked={(this.props.account.scheme === 2) ? true : false}>Тёмная тема</Radio>\n                    <Radio name=\"radio\" onChange={this.ChangeScheme} value=\"0\" description='Сервис будет использовать тему, установленную в настройках ВКонтакте' defaultChecked={(this.props.account.scheme === 0) ? true : false}>Автоматически</Radio>\n                    </div>\n                </FormLayout>\n            </Panel>\n        )\n    }\n}\n","import React from 'react';\nimport { \n    Panel,\n    PanelHeader,\n    Group,\n    Placeholder,\n    Separator,\n    SimpleCell,\n    PanelHeaderBack,\n    Footer\n    } from '@vkontakte/vkui';\n\nimport IconJedi from '../../../images/jedi.svg'\nimport Icon28MessagesCircleFillYellow from '@vkontakte/icons/dist/28/messages_circle_fill_yellow';\nimport Icon28RadiowavesLeftAndRightCircleFillRed from '@vkontakte/icons/dist/28/radiowaves_left_and_right_circle_fill_red';\n\nexport default class Info extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n        }\n    }\n\n    render() {\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader \n                    left={\n                    <PanelHeaderBack onClick={() => this.props.this.goBack()} /> \n                    }>\n                    О сервисе\n                </PanelHeader>\n                <Placeholder icon={<img src={IconJedi} alt='jedi' />} >Версия 2.0</Placeholder>\n                <Separator />\n                <Group>\n                  <SimpleCell\n                  before={<Icon28RadiowavesLeftAndRightCircleFillRed />}\n                  href='https://vk.com/jedi_road'\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\">\n                    Официальное сообщество\n                  </SimpleCell>\n                  <SimpleCell\n                  before={<Icon28MessagesCircleFillYellow />}\n                  href='https://vk.me/jedi_road'\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\">\n                    Напишите нам\n                  </SimpleCell>\n                </Group>\n                <Separator />\n                <Footer>Всегда ваша<br/>Команда Jedi</Footer>\n            </Panel>\n        )\n    }\n}\n","import React from 'react'; // React\r\nimport bridge from '@vkontakte/vk-bridge'; // VK Brige\r\nimport vkQr from '@vkontakte/vk-qr';\r\n\r\n\r\nimport { \r\n  Button,\r\n  Alert,\r\n  Avatar,\r\n  Header,\r\n  Cell,\r\n  Div,\r\n  View,\r\n  ScreenSpinner,\r\n  ModalRoot,\r\n  ModalCard,\r\n  ModalPage,\r\n  ModalPageHeader,\r\n  Input,\r\n  List,\r\n  } from '@vkontakte/vkui';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport '../../style.css';\r\n// Импортируем панели\r\nimport Prof from './panels/profile';\r\nimport Market from './panels/market';\r\nimport Achievements from './panels/achives';\r\nimport MYQuest from './panels/AllQuestions';\r\nimport Settings from './panels/settings';\r\nimport SchemeChange from './panels/schemechange';\r\nimport Info from './panels/info'\r\nimport Tiket from '../../components/tiket';\r\nimport OtherProfile from '../../components/other_profile'\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Qr from '@vkontakte/icons/dist/24/qr';\r\nimport Icon28MessagesOutline from '@vkontakte/icons/dist/28/messages_outline';\r\nimport Icon24Linked from '@vkontakte/icons/dist/24/linked';\r\nimport Icon56FireOutline from '@vkontakte/icons/dist/56/fire_outline';\r\nimport Icon56MoneyTransferOutline from '@vkontakte/icons/dist/56/money_transfer_outline'\r\nimport Icon20PlaceOutline from '@vkontakte/icons/dist/20/place_outline';\r\nimport Icon20Stars from '@vkontakte/icons/dist/20/stars';\r\n\r\n// const queryString = require('query-string');\r\n// const platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n// const parsedHash = queryString.parse(window.location.search.replace('?', ''));\r\n// const hash = queryString.parse(window.location.hash);\r\nfunction qr(agent_id, sheme) {\r\n  let hex = \"foregroundColor\"\r\n  if(sheme === \"bright_light\") {\r\n    hex = \"#000\"\r\n  }\r\n  if(sheme === \"space_gray\") {\r\n    hex = \"#fff\"\r\n  }\r\n  return (\r\n    vkQr.createQR('https://vk.com/app7409818#agent_id=' + agent_id, {\r\n    qrSize: 120,\r\n    isShowLogo: true,\r\n    foregroundColor: hex\r\n  })\r\n  )\r\n}\r\nexport default class Main extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            api_url: \"https://xelene.ru/road/php/index.php?\",\r\n            activePanel: 'profile',\r\n            activeModal: null,\r\n            modalHistory: [],\r\n            popout: this.props.popout,\r\n            ticket_id: null,\r\n            history: ['profile'],\r\n            active_other_profile: 0,\r\n            other_profile: null,\r\n            ban_reason: \"\",\r\n            comment: '',\r\n            transfer: {\r\n              'avatar': '',\r\n              'comment': ''\r\n            },\r\n            moneys: null,\r\n            money_transfer_send: null,\r\n            money_transfer_count: null,\r\n            AgeUser: 0,\r\n            snackbar: null,\r\n        }\r\n        this.changeData = this.props.this.changeData;\r\n        this.playAudio = this.props.this.playAudio;\r\n        this.ReloadProfile = this.props.reloadProfile;\r\n        this.ChangeData = this.props.this.changeData;\r\n        this.setPopout = (value) => {\r\n          this.setState({popout: value})\r\n        }\r\n        this.setSnack = (value) => {\r\n          this.setState({snackbar: value})\r\n        }\r\n        this.goTiket = (id) => {\r\n          this.setPopout(<ScreenSpinner/>)\r\n          this.setState({ticket_id: id})\r\n          this.goPanel('ticket');\r\n          this.setPopout(null);\r\n        }\r\n        this.onChange = (event) => {\r\n          var name = event.currentTarget.name;\r\n          var value = event.currentTarget.value;\r\n          this.setState({ [name]: value });\r\n      }\r\n        this.goOtherProfile = (id) => {\r\n          this.setState({active_other_profile: id})\r\n          this.goPanel(\"other_profile\")\r\n        }\r\n        this.modalBack = () => {\r\n            this.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\r\n        };\r\n        this.goBack = () => {\r\n          const history = this.state.history;\r\n          if(history.length === 1) {\r\n              bridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\r\n          } else if (history.length > 1) {\r\n              history.pop()\r\n              this.setState({activePanel: history[history.length - 1]})\r\n              if(history[history.length - 1] === 'ticket'){\r\n                this.changeData('need_epic', false)\r\n              } else{\r\n                this.changeData('need_epic', true)\r\n              }\r\n          }\r\n      }\r\n        this.goPanel = (panel) => {\r\n          this.setState({history: [...this.state.history, panel], activePanel: panel})\r\n          if(panel === 'ticket'){\r\n            this.changeData('need_epic', false)\r\n          } else{\r\n            this.changeData('need_epic', true)\r\n          }\r\n        }\r\n        this.setActiveModal = (activeModal) => {\r\n            activeModal = activeModal || null;\r\n            let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\r\n        \r\n            if (activeModal === null) {\r\n              modalHistory = [];\r\n            } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n              modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n              modalHistory.push(activeModal);\r\n            }\r\n        \r\n            this.setState({\r\n              activeModal: activeModal,\r\n              modalHistory: modalHistory\r\n            });\r\n          };\r\n          this.showAlert = (title, text) => {\r\n            this.setState({\r\n              popout: \r\n                <Alert\r\n                  actions={[{\r\n                    title: 'Закрыть',\r\n                    autoclose: true,\r\n                    mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n                >\r\n                  <h2>{title}</h2>\r\n                  <p>{text}</p>\r\n              </Alert>\r\n            })\r\n          }\r\n          this.showErrorAlert = (error=null) => {\r\n            this.setPopout(\r\n              <Alert\r\n                  actions={[{\r\n                  title: 'Отмена',\r\n                  autoclose: true,\r\n                  mode: 'cancel'\r\n                  }]}\r\n                  onClose={() => this.setPopout(null)}\r\n              >\r\n                <h2>Ошибка</h2>\r\n                {error ? <p>{error}</p> : <p>Что-то пошло не так, попробуйте снова!</p>}\r\n              </Alert>\r\n          )\r\n        }\r\n    }\r\n    ChangeAge(age) {\r\n      this.setState({popout: <ScreenSpinner/>})\r\n      fetch(this.state.api_url + \"method=account.setAge&age=\" + age + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setState({popout: null})\r\n          // setTimeout(() => {\r\n          //   this.playAudio()\r\n          // }, 5000)\r\n          \r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert(err)\r\n      })\r\n    }\r\n    userBan(user_id, text) {\r\n      this.setPopout(<ScreenSpinner/>)\r\n      fetch(this.state.api_url + \"method=account.ban&agent_id=\" + user_id + \"&banned=true&reason=\" + text + \"&\" + window.location.search.replace('?', ''))\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setActiveModal(null);\r\n          this.showAlert('Успех', 'Пользователь забанен');\r\n          this.setPopout(null);\r\n        }else {\r\n          this.showErrorAlert(data.error.message)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        this.showErrorAlert(err)\r\n      })\r\n    }\r\n    sendMoney() {\r\n      fetch(this.state.api_url + 'method=transfers.send&summa=' +  this.state.money_transfer_count + '&send_to=' + this.state.money_transfer_send + \"&\" + window.location.search.replace('?', ''))\r\n      .then(data => data.json())\r\n      .then(data => {\r\n        if(data.result) {\r\n          this.setState({moneys: data.response})\r\n          this.setActiveModal(\"moneys\")\r\n        } else {\r\n          this.showErrorAlert(data.error.message)\r\n        }\r\n      })\r\n    }\r\n    render() {\r\n        const modal = (\r\n            <ModalRoot\r\n            activeModal={this.state.activeModal}\r\n            >\r\n              <ModalPage\r\n                id=\"settings\"\r\n                onClose={this.modalBack}\r\n                header={\r\n                  <ModalPageHeader\r\n                  right={<Header onClick={this.modalBack}><Icon24Dismiss style={{color: 'var(--placeholder_icon_foreground_primary)'}} /></Header>}\r\n                  >\r\n                    Настройки\r\n                  </ModalPageHeader>\r\n                }\r\n                >\r\n                  <Div style={{display:'flex'}}>\r\n                    <Button onClick={() => {\r\n                      this.setActiveModal(null);\r\n                      this.getRandomTiket();\r\n\r\n                    }} \r\n                    stretched \r\n                    size='l'\r\n                    // style={{marginRight: '2%'}}\r\n                    before={<Icon20PlaceOutline />}>Случайный тикет</Button>\r\n                    <Button onClick={() => {\r\n                      this.setActiveModal(null);\r\n                      this.props.this.changeData('scheme',(this.props.this.state.scheme === 'bright_light') ? 'space_gray' : 'bright_light')\r\n                    }}\r\n                    stretched \r\n                    size='l'\r\n                    style={{marginLeft: '5%'}}\r\n                    before={<Icon20Stars />}>Сменить тему</Button>\r\n                  </Div>\r\n                </ModalPage>\r\n              <ModalCard\r\n                id={'prom'}\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Icon56FireOutline style={{color: \"var(--prom_icon)\"}} width={72} height={72} />}\r\n                caption=\"Прометей — особенный значок, выдаваемый агентам за хорошее качество ответов.\"\r\n                actions={[{\r\n                  title: 'Класс!',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }\r\n                ]}\r\n              />\r\n              <ModalCard\r\n                id='ban_user'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.other_profile ? this.state.other_profile['avatar']['url'] : null} size={72} />}\r\n                header=\"Забанить пользователя\"\r\n                actions={[{\r\n                  title: 'Забанить! 🤬',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.userBan(this.state.other_profile ? this.state.other_profile['id'] : 0, this.state.ban_reason);\r\n                  }\r\n                }]}\r\n              >\r\n                <Input disabled value={this.state.other_profile ? (this.state.other_profile['id'] < 0) ? -this.state.other_profile['id'] : this.state.other_profile['id'] : null}/>\r\n                <br/>\r\n                <Input maxLength=\"100\" name=\"ban_reason\" onChange={(e) => this.onChange(e)} placeholder=\"Введите причину бана\" value={this.state.ban_reason} />\r\n                \r\n              </ModalCard>\r\n              <ModalCard\r\n                id='send'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Icon56MoneyTransferOutline />}\r\n                header=\"Отправляйте монетки друзьям\"\r\n                actions={[{\r\n                  title: 'Отправить',\r\n                  mode: 'secondary',\r\n                  disabled: true,\r\n                  action: () => {\r\n                    this.sendMoney();\r\n                  }\r\n                }]}\r\n              >\r\n                <Input maxLength=\"5\" onChange={(e) => this.onChange(e)} placeholder=\"Введите id агента\" name=\"money_transfer_send\" value={this.state.money_transfer_send}/>\r\n                <br/>\r\n                <Input maxLength=\"5\" name=\"money_transfer_count\" onChange={(e) => this.onChange(e)} placeholder=\"Введите кол-во монеток\" value={this.state.money_transfer_count} />\r\n                {/* <br/>\r\n                <Input maxLength=\"100\" name=\"money_transfer_comment\" onChange={(e) => this.onChange(e)} placeholder=\"Введите комментарий к переводу\" value={this.state.money_transfer_comment} /> */}\r\n                \r\n              </ModalCard>\r\n              <ModalCard\r\n                id='moneys'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.moneys ? this.state.moneys.avatar : null} size={72} />}\r\n                header={this.state.moneys ? \"Ваш баланс: \" + this.state.moneys.money : null}\r\n                caption={this.state.moneys ? this.state.moneys.text : null}\r\n                actions={[{\r\n                  title: 'Закрыть',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                    this.setState({moneys: null, money_transfer_count: null, money_transfer_send: null})\r\n                  }\r\n                }]}\r\n              >\r\n              </ModalCard>\r\n              <ModalCard\r\n                id='transfer'\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={<Avatar src={this.state.transfer.avatar} size={72} />}\r\n                header='Перевод монеток'\r\n                caption={this.state.transfer.comment}\r\n                actions={[{\r\n                  title: 'Закрыть',\r\n                  mode: 'secondary',\r\n                  action: () => {\r\n                    this.setActiveModal(null);\r\n                  }\r\n                }]}\r\n              >\r\n              </ModalCard>\r\n              <ModalPage\r\n                id=\"share\"\r\n                onClose={this.modalBack}\r\n                header={\r\n                  <ModalPageHeader\r\n                  right={<Header onClick={this.modalBack}><Icon24Dismiss /></Header>}\r\n                  >\r\n                    Поделиться\r\n                  </ModalPageHeader>\r\n                }\r\n                >\r\n                  <List>\r\n                    <Cell onClick={() => this.setActiveModal(\"qr\")} before={<Icon24Qr width={28} height={28}/>}>QR-code</Cell>\r\n                    <Cell onClick={() => {bridge.send(\"VKWebAppShare\", {\"link\": \"https://vk.com/app7409818#agent_id=\" + this.props.account['id']}); this.setActiveModal(null)}} before={<Icon28MessagesOutline width={28} height={28}/>}>В сообщения</Cell>\r\n                    <Cell onClick={() => {bridge.send(\"VKWebAppCopyText\", {text: \"https://vk.com/app7409818#agent_id=\" + this.props.account['id']}); this.setActiveModal(null)}} before={<Icon24Linked width={28} height={28}/>}>Скопировать ссылку</Cell>\r\n                  </List>\r\n                </ModalPage>\r\n                <ModalPage\r\n                id=\"qr\"\r\n                onClose={this.modalBack}\r\n                header={\r\n                  <ModalPageHeader\r\n                  right={<Header onClick={this.modalBack}><Icon24Dismiss style={{color: 'var(--placeholder_icon_foreground_primary)'}} /></Header>}\r\n                  >\r\n                    QR\r\n                  </ModalPageHeader>\r\n                }\r\n                >\r\n                 {<div className=\"qr\" dangerouslySetInnerHTML={{__html: qr(this.props.account['id'], this.props.this.state.scheme)}}/>}\r\n                 <br/>\r\n                 <div className=\"qr\">Отсканируйте камерой ВКонтакте!</div>\r\n                 <br/>\r\n                </ModalPage>\r\n            </ModalRoot>\r\n        )\r\n        return(\r\n            <View \r\n            id={this.props.id}\r\n            activePanel={this.state.activePanel}\r\n            modal={modal}\r\n            popout={this.state.popout}\r\n            onSwipeBack={this.goBack}\r\n            >\r\n\r\n              <Prof id=\"profile\" this={this} account={this.props.account} />\r\n              <MYQuest id=\"qu\" this={this} account={this.props.account} /> \r\n              <Market id=\"market\" this={this} account={this.props.account} />\r\n              <Achievements id=\"achievements\" this={this} account={this.props.account} />\r\n              <Settings id=\"settings\" this={this} account={this.props.account} />\r\n              <SchemeChange id=\"schemechange\" this={this} account={this.props.account} />\r\n              <Info id='info' this={this} />\r\n              <Tiket id=\"ticket\" this={this} ticket_id={this.state.ticket_id} account={this.props.account} />\r\n              <OtherProfile id=\"other_profile\" this={this} agent_id={this.state.active_other_profile} account={this.props.account}/>\r\n            </View>   \r\n        )\r\n    }\r\n}","import React from 'react'; // React\nimport connect from '@vkontakte/vk-bridge'; // VK Connect\n\nimport music from './music/Soloriver.mp3';\n\nimport { \n  Alert,\n  Avatar,\n  ScreenSpinner,\n  Snackbar,\n  Tabbar,\n  TabbarItem,\n  Epic,\n  ConfigProvider,\n  } from '@vkontakte/vkui';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './style.css'\n// Импортируем панели\nimport Questions from './panels/questions/main'\nimport Top from './panels/topUsers/main'\nimport Notification from './panels/notify/main'\nimport Profile from './panels/Profile/main'\n\nimport Icon28Profile from '@vkontakte/icons/dist/28/profile';\nimport Icon16CheckCircle from '@vkontakte/icons/dist/16/check_circle';\nimport Icon28ArticleOutline from '@vkontakte/icons/dist/28/article_outline';\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\n\n// const queryString = require('query-string');\nconst platformname = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n// const parsedHash = queryString.parse(window.location.search.replace('?', ''));\n// const hash = queryString.parse(window.location.hash);\n\n\nconst blueBackground = {\n  backgroundColor: 'var(--accent)'\n};\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            account:[],\n            activeStory: 'questions',\n            scheme: \"bright_light\",\n            api_url: \"https://xelene.ru/road/php/index.php?\",\n            popout: <ScreenSpinner/>,\n            snackbar: null,\n            switchKeys: false,\n            need_epic: true,\n\n        };\n        this.changeData = (name,value) => {\n          this.setState({ [name]: value });\n        }\n        this.LoadProfile = () => {\n          fetch(this.state.api_url + \"method=account.get&\" + window.location.search.replace('?', ''))\n          .then(res => res.json())\n          .then(data => {\n          if(data.result) {\n              this.setState({account: data.response,popout: null, switchKeys: data.response.noti})\n              if(Number(this.state.account.scheme) !== 0){\n                let change = (Number(this.state.account.scheme) === 1) ? 'bright_light' : 'space_gray';\n                this.setState({scheme: change})\n              }\n            }})\n          .catch(err => {\n            this.showErrorAlert(err)\n    \n          })\n        }\n        this.setPopout = (value) => {\n          this.setState({popout: value})\n        }\n          this.playAudio = () => {\n            if(!this.audio.paused){\n              this.audio.pause()\n            } else {\n              this.audio.volume = 0.1;\n              this.audio.currentTime = 0;\n              const audioPromise = this.audio.play()\n              if (audioPromise !== undefined) {\n              audioPromise\n                .then(_ => {\n                // autoplay started\n                \n                })\n                .catch(err => {\n                // catch dom exception\n                console.info(err)\n                })\n              }\n            }\n            this.setState({paused: this.audio.paused})\n          }\n    }\n    \n    componentDidMount() {\n      this.audio = new Audio(music)\n      this.audio.load()\n      this.audio.loop = true;\n        connect.subscribe(({ detail: { type, data }}) => { \n        if(type === 'VKWebAppAllowMessagesFromGroupResult') {\n          fetch(this.state.api_url_second + \"method=notifications.swift&swift=on&\" + window.location.search.replace('?', ''))\n            .then(res => res.json())\n            .then(data => {\n              if(data) {\n                this.setState({switchKeys: true})\n              }\n            })\n            .catch(err => {\n              this.showErrorAlert()\n            })\n        }\n        if(type === 'VKWebAppAllowMessagesFromGroupFailed') {\n          fetch(this.state.api_url_second + \"method=notifications.swift&swift=off&\" + window.location.search.replace('?', ''))\n            .then(res => res.json())\n            .then(data => {\n              if(data) {\n                this.setState({switchKeys: false})\n              }\n            })\n            .catch(err => {\n              this.showErrorAlert()\n            })\n        }\n        if(type === 'VKWebAppViewHide') {\n          console.log('closing...')\n        }\n\t\t\t  if (type === 'VKWebAppUpdateConfig') {\n          this.setState({scheme: data.scheme})\n\n            }\n        })\n        window.addEventListener('popstate', e => e.preventDefault() & this.goBack(e)); \n        fetch(this.state.api_url + \"method=account.get&\" + window.location.search.replace('?', ''))\n        .then(res => res.json())\n        .then(data => {\n          if(data.result) {\n            this.setState({account: data.response, popout: null, switchKeys: data.response.noti})\n            if(Number(this.state.account.scheme) !== 0){\n              let change = (Number(this.state.account.scheme) === 1) ? 'bright_light' : 'space_gray';\n              this.setState({scheme: change})\n            }\n          } else {\n            this.setState({popout: \n              <Alert\n        actions={[{\n          title: 'Повторить',\n          autoclose: true,\n          action: () => this.componentDidMount()\n        }]}\n        onClose={() => {this.closePopout();this.componentDidMount()}}\n      >\n        <h2>Ошибка</h2>\n        <p>{data.error.message}</p>\n            </Alert>})\n          }\n        })\n        .catch(err => {\n          this.showErrorAlert(err)\n        })\n    }\n\n    showAlert(title, text) {\n      this.setState({\n        popout: \n          <Alert\n            actions={[{\n              title: 'Закрыть',\n              autoclose: true,\n              style: 'cancel'\n            }]}\n            onClose={this.setPopout(null)}\n          >\n            <h2>{title}</h2>\n            <p>{text}</p>\n        </Alert>\n      })\n    }\n\n\n    deleteStats() {\n      this.setState({popout: <ScreenSpinner/>})\n      fetch(this.state.api_url + \"method=delete.stats&\" + window.location.search.replace('?', ''))\n      .then(res => res.json())\n      .then(data => {\n        if(data.response) {\n          this.setState({snackbar: \n            <Snackbar\n              layout=\"vertical\"\n              onClose={() => this.setState({ snackbar: null })}\n              before={<Avatar size={24} style={blueBackground}><Icon16CheckCircle fill=\"#fff\" width={14} height={14} /></Avatar>}\n            >\n              Статистика профиля сброшена\n            </Snackbar>, popout: null\n          })\n          this.LoadProfile()\n          window.history.back()\n        } else {\n          this.showAlert('Ошибка', data.error_text);\n        }\n      })\n      .catch(err => {\n        this.showErrorAlert()\n      })\n    }\n    showErrorAlert(error=null){\n      this.setPopout(\n        <Alert\n            actions={[{\n            title: 'Отмена',\n            autoclose: true,\n            mode: 'cancel'\n            }]}\n            onClose={() => this.setPopout(null)}\n        >\n          <h2>Ошибка</h2>\n          {error ? <p>{error}</p> : <p>Что-то пошло не так, попробуйте снова!</p>}\n        </Alert>\n    )\n  }\n\n    \n    render() {\n        return(\n            <ConfigProvider isWebView={platformname} scheme={this.state.scheme}> \n            <Epic activeStory={this.state.activeStory}\n            tabbar={\n                this.state.need_epic &&\n                <Tabbar>\n                  <TabbarItem\n                    onClick={(e) => {this.setState({activeStory: e.currentTarget.dataset.story})}} \n                    selected={this.state.activeStory === 'questions'}\n                    data-story=\"questions\"\n                    text='Вопросы'\n                  ><Icon28ArticleOutline/></TabbarItem>\n                  <TabbarItem\n                    onClick={(e) => {this.setState({activeStory: e.currentTarget.dataset.story})}} \n                    selected={this.state.activeStory === 'top'}\n                    data-story=\"top\"\n                    text='Топ'\n                  ><Icon28FavoriteOutline /></TabbarItem>\n                  <TabbarItem\n                    onClick={(e) => {this.setState({activeStory: e.currentTarget.dataset.story})}} \n                    selected={this.state.activeStory === 'profile'}\n                    data-story=\"profile\"\n                    text='Профиль'\n                  ><Icon28Profile /></TabbarItem>\n                </Tabbar>\n              }>\n              <Questions \n              id='questions'\n              this={this}\n              reloadProfile={this.LoadProfile}\n              account={this.state.account}\n              popout={this.state.popout} />\n\n              <Top \n              id='top'\n              this={this}\n              account={this.state.account}\n              popout={this.state.popout} />\n\n              <Notification \n              id=\"notif\"\n              this={this}\n              reloadProfile={this.LoadProfile}\n              account={this.state.account}\n              popout={this.state.popout}\n              />\n\n              <Profile \n              id=\"profile\"\n              this={this}\n              reloadProfile={this.LoadProfile}\n              account={this.state.account}\n              popout={this.state.popout} />\n              \n            </Epic>\n            </ConfigProvider>\n        );\n    }\n}\n\nexport default App;","import 'core-js/es/map'; \nimport 'core-js/es/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-bridge';\nimport * as Sentry from \"@sentry/react\";\nimport { Integrations } from \"@sentry/tracing\";\nimport App from './App.js';\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\nimport {platform, IOS} from '@vkontakte/vkui';\n\nSentry.init({\n    dsn: \"https://0045161b140249dcbc378fe70d966605@o461731.ingest.sentry.io/5465956\",\n    integrations: [\n      new Integrations.BrowserTracing(),\n    ],\n  \n    // We recommend adjusting this value in production, or using tracesSampler\n    // for finer control\n    tracesSampleRate: 1.0,\n  });\n\nconnect.send('VKWebAppInit', {});\nconst root = document.getElementById('root');\nif(platform() === IOS) {\n    mVKMiniAppsScrollHelper(root); \n}\n\nReactDOM.render(<App />, root);\n\n"],"sourceRoot":""}